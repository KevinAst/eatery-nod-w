(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{378:function(e,t,n){e.exports=n(763)},379:function(e,t){if(!Error.prototype.defineUserMsg){Error.prototype.defineUserMsg=function(e){return this.userMsg=e,this.expected=!0,this},Error.prototype.userMsg="Unexpected Condition",Error.prototype.isExpected=function(){return this.expected},Error.prototype.expected=!1,Error.prototype.isUnexpected=function(){return!this.expected},Error.prototype.defineAttemptingToMsg=function(e){return this.attemptingToMsg?this.attemptingToMsg+=", -and- ".concat(e):this.attemptingToMsg+=" ... attempting to: ".concat(e),this},Error.prototype.attemptingToMsg="",Error.prototype.formatUserMsg=function(){return this.userMsg+this.attemptingToMsg};var n=Error.prototype.toString;Error.prototype.toString=function(){return n.call(this)+"\n\nUser Msg: "+this.formatUserMsg()}}},763:function(e,t,n){"use strict";n.r(t);n(379);var a=n(0),r=n.n(a),o=n(39),i=n.n(o),c=n(2),s=n(46),l=n(351),u=n(36),m=n(5),d=n(56),p=n(52),f=n(44),g=n(32),h=n(34),b=n(147),v=n(352),w=n.n(v),O=n(22),E=n.n(O),I=n(24),y=n.n(I);function S(e,t){if(!e)throw new Error(t)}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.formDesc,n=e.formSchema,a=e.formActionsAccessor,r=e.formStateSelector,o=e.mapDomain2Form,i=e.mapForm2Domain,c=Object(g.a)(e,["formDesc","formSchema","formActionsAccessor","formStateSelector","mapDomain2Form","mapForm2Domain"]),s=S.prefix("IFormMeta() parameter violation: ");s(t,"formDesc is required"),s(E()(t),"invalid formDesc (expecting a string)"),s(n,"formSchema is required"),s(n.validate,"invalid formSchema (expecting a Yup Schema)"),s(a,"formActionsAccessor is required"),s(y()(a),"invalid formActionsAccessor (expecting a function)"),s(r,"formStateSelector is required"),s(y()(r),"invalid formStateSelector (expecting a function)");var l=Object.keys(c);s(0===l.length,"unrecognized named parameter(s): ".concat(l));var u=Object.keys(n.fields),d=u.reduce(function(e,t){return e[t]=n.fields[t].describe().label||t,e},{FORM:t});o||(o=function(e){return u.reduce(function(t,n){return t[n]=e[n]||"",t[n]=t[n].toString(),t},{})}),s(y()(o),"invalid mapDomain2Form (expecting a function)"),i||(i=function(e){return e}),s(y()(i),"invalid mapForm2Domain (expecting a function)");var p={abortEarly:!1};function v(e){return n.validate(e,p).then(function(){return{}}).catch(function(e){var t={};return e.inner.forEach(function(e){t[e.path]=e.message}),t})}return{registrar:{formActionGenesis:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={open:{actionMeta:{traits:["domain","formMsg"],ratify:function(){return[arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null]}}},fieldChanged:{actionMeta:{traits:["fieldName","value"]}},fieldTouched:{actionMeta:{traits:["fieldName"]}},process:{actionMeta:{},reject:{actionMeta:{traits:["msgs"]}}},close:{actionMeta:{}}},n=S.prefix("IFormMeta.formActionGenesis(): invalid appInjectedFormActions parameter ... ");for(var a in e)n(!t[a],"".concat(a," action is reserved as one of the auto-generated iForm actions.")),t[a]=e[a];return t},formLogic:function(){var e=a();return[Object(b.b)({name:"validateFields for '".concat(t,"' form"),type:[String(e.fieldChanged),String(e.fieldTouched)],validate:function(t,n,a){var o=t.getState,i=t.action,c=(t.api,r(o()));c.inProcess?a():v(i.type===String(e.fieldChanged)?Object(f.a)({},c.values,Object(m.a)({},i.fieldName,i.value)):c.values).then(function(e){c.msgs.FORM&&(e.FORM=c.msgs.FORM),i.msgs=e,n(i)})}}),Object(b.b)({name:"process validation for '".concat(t,"' form"),type:String(e.process),validate:function(t,a,o){var c=t.getState,s=t.action,l=(t.api,r(c()));l.inProcess?o():v(l.values).then(function(t){if(Object.keys(t).length>0)t.FORM="Please resolve the highlighted issues, and try again.",a(e.process.reject(t));else{var r=n.cast(l.values),o=i(r);s.values=r,s.domain=o,a(s)}})}})]},formReducer:function(){var e,n=a();return Object(h.reducerHash)((e={},Object(m.a)(e,n.open,function(e,n){var a=n.domain?o(n.domain):u.reduce(function(e,t){return e[t]="",e},{}),r=u.sort(),i=Object.keys(a).sort();S(w()(r,i),"'".concat(t,"' form open reducer ... miss-matched field(s) introduced in app-supplied mapDomain2Form ... generated fields: ").concat(i," ... expected fields: ").concat(r));var c={};return n.formMsg&&(c.FORM=n.formMsg),{labels:d,values:a,msgs:c,validating:{},inProcess:!1}}),Object(m.a)(e,n.fieldChanged,function(e,t){var n=Object(f.a)({},e);return n.values=Object(f.a)({},e.values,Object(m.a)({},t.fieldName,t.value)),n.msgs=t.msgs,n}),Object(m.a)(e,n.fieldTouched,function(e,t){if(e.validating[t.fieldName])return e;var n=Object(f.a)({},e);return n.validating=Object(f.a)({},e.validating,Object(m.a)({},t.fieldName,!0)),n.msgs=t.msgs,n}),Object(m.a)(e,n.process,function(e,t){var n=Object(f.a)({},e);return n.inProcess=!0,n.validating=Object(f.a)({},e.validating,{FORM:!0}),n.msgs={},n}),Object(m.a)(e,n.process.reject,function(e,t){var n=Object(f.a)({},e);return n.validating=Object(f.a)({},e.validating,{FORM:!0}),n.msgs=t.msgs,n}),Object(m.a)(e,n.close,function(e,t){return null}),e),null)}},formStateSelector:r,IForm:function(e,n){var r=S.prefix("IFormMeta.IForm() parameter violation: ");r(e,"formState is required"),r(e.labels,"invalid formState - does NOT conform to the IForm state"),r(e.labels.FORM===t,"miss-matched formState - expecting ".concat(t," but received ").concat(e.labels.FORM)),r(n,"dispatch is required"),r(y()(n),"invalid dispatch (expecting a function)");var o=a();function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return e.validating.FORM||e.validating[t]}return{getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return e.labels[t]},getValue:function(t){return S(t||"FORM"!==t,"IFormMeta.IForm.getValue() unsupported fieldName: ".concat(t)),e.values[t]},isValid:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return"FORM"===t?0===Object.keys(e.msgs).length:!e.msgs[t]},getMsg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return e.msgs[t]},getExposedMsg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return i(t)?e.msgs[t]:null},isValidationExposed:i,inProcess:function(){return e.inProcess},handleFieldChanged:function(e,t){n(o.fieldChanged(e,t))},handleFieldTouched:function(e){n(o.fieldTouched(e))},handleProcess:function(e){n(o.process()),e&&e.preventDefault()},handleClose:function(){n(o.close())}}}}}S.prefix=function(e){return function(t,n){return S(t,e+n)}};var R=n(35),A=n(192),C=n(27),N=n(28),U=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,a=void 0===n?null:n,r=t.email,o=void 0===r?null:r,i=t.emailVerified,c=void 0!==i&&i,s=t.pool,l=void 0===s?null:s,u=t.guestLoc,m=void 0===u?null:u,d=t.originalLoc,p=void 0===d?null:d,f=Object(g.a)(t,["name","email","emailVerified","pool","guestLoc","originalLoc"]);Object(C.a)(this,e);var h=S.prefix("User() constructor parameter violation: "),b=Object.keys(f);h(0===b.length,"unrecognized named parameter(s): ".concat(b)),h(0===arguments.length||1===arguments.length,"unrecognized positional parameters (only named parameters can be specified)"),this.name=a,this.email=o,this.emailVerified=c,this.pool=l,this.guestLoc=m,this.originalLoc=p}return Object(N.a)(e,[{key:"isUserSignedOut",value:function(){return null===this.email}},{key:"isUserSignedIn",value:function(){return null!==this.email&&this.emailVerified}},{key:"isUserSignedInUnverified",value:function(){return null!==this.email&&!this.emailVerified}},{key:"getAuthStatus",value:function(){return this.email?this.emailVerified?"signedIn":"signedInUnverified":"signedOut"}},{key:"isGuest",value:function(){return!!this.guestLoc}},{key:"toStruct",value:function(){return{name:this.name,email:this.email,emailVerified:this.emailVerified,pool:this.pool,guestLoc:this.guestLoc,originalLoc:this.originalLoc}}},{key:"clone",value:function(){return new e(this.toStruct())}}]),e}(),x=Object(s.slicedReducer)("auth",Object(c.expandWithFassets)(function(e){var t;return Object(R.combineReducers)({user:Object(h.reducerHash)((t={},Object(m.a)(t,P.signIn.complete,function(e,t){return t.user.toStruct()}),Object(m.a)(t,P.signIn.checkEmailVerified,function(e,t){return t.user.toStruct()}),Object(m.a)(t,P.userProfileChanged,function(e,t){return t.user.toStruct()}),Object(m.a)(t,P.signOut,function(e,t){return(new U).toStruct()}),t),(new U).toStruct()),signInForm:T.registrar.formReducer()})})),k=x,M=function(e){return x.getSlicedState(e)},F=Object(A.a)(function(e){return M(e).user},function(e){return new U(e)}),T=j({formDesc:"Sign In",formSchema:p.object().shape({email:p.string().required().email().label("Email"),pass:p.string().required().min(6).max(9).label("Password")}),formActionsAccessor:function(){return P.signIn},formStateSelector:function(e){return function(e){return M(e).signInForm}(e)}}),P=d.generateActions.root(Object(m.a)({},"auth",{autoSignIn:{actionMeta:{},haveDeviceCredentials:{actionMeta:{traits:["credentials"]}},noDeviceCredentials:{actionMeta:{}}},signIn:T.registrar.formActionGenesis({actionMeta:{traits:["email","pass"]},complete:{actionMeta:{traits:["user"]}},checkEmailVerified:{actionMeta:{}},resendEmailVerification:{actionMeta:{}}}),signOut:{actionMeta:{}},userProfileChanged:{actionMeta:{traits:["user"]}}})),L=n(43),D=n(48),Y=n(47),J=n(49),W=n(148),V=n(256),B=n(31),q=n(40),G=n.n(q);var _=Object(B.withStyles)(function(e){return{variantSuccess:{whiteSpace:"pre-line"},variantInfo:{whiteSpace:"pre-line"},variantWarning:{whiteSpace:"pre-line"},variantError:{whiteSpace:"pre-line"}}})(function(e){return r.a.createElement(V.SnackbarProvider,{maxSnack:3,dense:!0,className:e.classes.variantSuccess},r.a.createElement(Z,null,e.children))}),H=null,z=function(e){function t(){var e,n;Object(C.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=Object(D.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r))),S(!H,"<Notify> only ONE Notify instance should be instantiated in the app (at the top-level)."),H=Object(W.a)(Object(W.a)(n)),n}return Object(J.a)(t,e),Object(N.a)(t,[{key:"display",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.msg,a=t.duration,o=void 0===a?5:a,i=t.level,c=void 0===i?"success":i,s=t.position,l=void 0===s?"bottom-left":s,u=t.modal,m=void 0!==u&&u,d=t.actions,p=void 0===d?[]:d,f=Object(g.a)(t,["msg","duration","level","position","modal","actions"]),h=S.prefix("notify() parameter violation: ");h(n,"directive.msg is required"),h(E()(n),"msg must be a string"),null!==o&&h(o>=1&&o<=20,"supplied duration (".concat(o,") must be a number between 1 and 20 (inclusive).")),h(X[c],"invalid level: '".concat(c,"', expecting one of ").concat(Object.keys(X),".")),h(Q[l],"invalid position: '".concat(l,"', expecting one of ").concat(Object.keys(Q),".")),h(!0===m||!1===m,"supplied modal (".concat(m,") must be a boolean true/false.")),h(p,"actions must be an Action[] array"),h(Array.isArray(p),"actions must be an Action[] array"),p.forEach(function(e,t){h(e.txt,"action[".concat(t,"].txt is required")),h(E()(e.txt),"action[".concat(t,"].txt be a string ... NOT: ").concat(e.txt)),e.action&&h(y()(e.action),"action[".concat(t,"].action (when supplied) must be a function ... NOT: ").concat(e.action))});var b=Object.keys(f);h(0===b.length,"unrecognized named parameter(s): ".concat(b));var v=o?1e3*o:null;o||0!==p.length||(p=[{txt:"OK"}]);var w=p.reduce(function(e,t){return e[t.txt]=t.action||$,e},{}),O=p.map(function(e,t){return r.a.createElement(G.a,{key:t,color:"default",size:"small"},e.txt)}),I=this.props.enqueueSnackbar(n,{variant:X[c],autoHideDuration:v,anchorOrigin:Q[l],action:O,onClickAction:function(t){e.props.closeSnackbar(I);var n=w[t.target.textContent];setTimeout(function(){return n()},400)}})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.children)}}]),t}(r.a.Component),X={success:"success",info:"info",warn:"warning",error:"error"},Q={"top-left":{vertical:"top",horizontal:"left"},"top-center":{vertical:"top",horizontal:"center"},"top-right":{vertical:"top",horizontal:"right"},"bottom-left":{vertical:"bottom",horizontal:"left"},"bottom-center":{vertical:"bottom",horizontal:"center"},"bottom-right":{vertical:"bottom",horizontal:"right"}},$=function(e){return e},Z=Object(V.withSnackbar)(z);function K(e){S(H,"notify(): NO <Notify> instance has been established in the app root."),H.display(e)}function ee(e,t){var n=e.msg,a=e.duration,r=void 0===a?5:a,o=e.actions,i=Object(g.a)(e,["msg","duration","actions"]),c=t?".".concat(t):"",s=S.prefix("toast".concat(c,"() parameter violation: "));s(n,"msg named parameter is required");var l=Object.keys(i);s(0===l.length,"unrecognized named parameter(s): ".concat(l)),K({msg:n,duration:r,level:t,position:"bottom-left",modal:!1,actions:o})}function te(e){ee(e)}function ne(e,t){var n=e.msg,a=e.actions,r=Object(g.a)(e,["msg","actions"]),o=t?".".concat(t):"",i=S.prefix("alert".concat(o,"() parameter violation: "));i(n,"msg named parameter is required");var c=Object.keys(r);i(0===c.length,"unrecognized named parameter(s): ".concat(c)),K({msg:n,duration:null,level:t,position:"top-center",modal:!0,actions:a})}function ae(e){ne(e)}function re(e,t){var n=e.msg,a=e.actions,r=Object(g.a)(e,["msg","actions"]),o=t?".".concat(t):"",i=S.prefix("confirm".concat(o,"() parameter violation: "));i(n,"msg named parameter is required"),i(a&&a.length>0,"client-specific actions are required.");var c=Object.keys(r);i(0===c.length,"unrecognized named parameter(s): ".concat(c)),K({msg:n,duration:null,level:t,position:"top-right",modal:!0,actions:a})}function oe(e){re(e)}Z.displayName="NotifyAPI_withSnackBar",te.success=function(e){ee(e,"success")},te.info=function(e){ee(e,"info")},te.warn=function(e){ee(e,"warn")},te.error=function(e){ee(e,"error")},ae.success=function(e){ne(e,"success")},ae.info=function(e){ne(e,"info")},ae.warn=function(e){ne(e,"warn")},ae.error=function(e){ne(e,"error")},oe.success=function(e){re(e,"success")},oe.info=function(e){re(e,"info")},oe.warn=function(e){re(e,"warn")},oe.error=function(e){re(e,"error")};var ie="DYNAMIC_DEFAULT";function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.err,n=e.showUser,a=void 0===n||n,r=e.logIt,o=void 0===r?ie:r,i=Object(g.a)(e,["err","showUser","logIt"]);try{var c=S.prefix("discloseError() parameter violation: ");c(t,"err is required"),c(t instanceof Error,"err must be an Error object, NOT: ",t),c(!0===(a=a===ie?t.isExpected():a)||!1===a,"showUser must be a boolean"),c(!0===(o=o===ie?t.isUnexpected():o)||!1===o,"logIt must be a boolean");var s=Object.keys(i);c(0===s.length,"unrecognized named parameter(s): ".concat(s)),c(0===arguments.length||1===arguments.length,"unrecognized positional parameters (only named parameters can be specified)")}catch(u){return console.log("YIKES ... eatery-nod-w's discloseError() was attempting to report on err: ",t),void console.log('HOWEVER AN INVOCATION PROBLEM was detected in the parameters passed to discloseError()!\n... discloseError() CANNOT throw an error (when used in a promise an "Unhandled promise rejection" will result)!!\n... PLEASE FIX THE FOLLOWING INVOCATION PROBLEM: ',u)}if(a&&(t.isUnexpected()?te.error({msg:t.formatUserMsg(),actions:[{txt:"details",action:function(){ae.error({msg:"An unexpected error occurred:\n\n".concat(t,"\n\nIf this problem persists, please contact your tech support.")})}}]}):te.warn({msg:t.formatUserMsg()})),o){var l=t.isUnexpected()?"*** Unexpected Error:\n\n":"*** Expected Error:\n\n";console.log(l+t),t.isUnexpected()&&console.log(t)}}var se=n(67),le=n.n(se);function ue(){}function me(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=S.prefix("encode(ref) parameter violation: ");n(e,"ref is required"),n(E()(e)||le()(e),"ref must be a string -or- an object literal. NOT: ",e),n(!0===t||!1===t,"safeguard must be a boolean (true/false), NOT: ",t);var a=e;return le()(a)&&(a=pe+JSON.stringify(a)),t&&(a=fe+function(e){if(!window.btoa)throw new Error("*** ERROR *** encode(): ENCODING NOT supported by this browser (btoa).");return window.btoa(e)}(a)),a}function de(e){if(S.prefix("decode(ref) parameter violation: ")(e,"ref is required"),!E()(e))return e;var t=e;return 0===t.indexOf(fe)&&(t=function(e){if(!window.atob)throw new Error("*** ERROR *** encode(): DECODING NOT supported by this browser (atob).");return window.atob(e)}(t=t.substring(fe.length))),0===t.indexOf(pe)&&(t=t.substring(pe.length),t=JSON.parse(t)),t}var pe="obj2str:",fe="afesa";function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=S.prefix("storeItem() parameter violation: ");a(e,"key is required"),a(E()(e),"key must be a string, NOT: ",e),a(t,"ref is required"),a(E()(t)||le()(t),"ref must be a string -or- an object literal, NOT: ",t),a(!0===n||!1===n,"safeguard must be a boolean (true/false), NOT: ",n);var r=me(t,n);we.setItem(e,r)}function he(e){var t=S.prefix("fetchItem() parameter violation: ");t(e,"key is required"),t(E()(e),"key must be a string, NOT: ",e);var n=we.getItem(e);return n?de(n):null}function be(e){var t=S.prefix("removeItem() parameter violation: ");t(e,"key is required"),t(E()(e),"key must be a string, NOT: ",e),we.removeItem(e)}var ve=function(e){var t;try{t=window[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(a){return a instanceof DOMException&&(22===a.code||1014===a.code||"QuotaExceededError"===a.name||"NS_ERROR_DOM_QUOTA_REACHED"===a.name)&&t&&0!==t.length}}("localStorage");ve||console.warn("***WARNING*** deviceStorage module ... localStorage (Web Storage API) is NOT available in this browser ... all deviceStorage usage will silently no-op!!");var we=ve?{setItem:function(e,t){return window.localStorage.setItem(e,t)},getItem:function(e){return window.localStorage.getItem(e)},removeItem:function(e){return window.localStorage.removeItem(e)}}:{setItem:ue,getItem:ue,removeItem:ue};var Oe="credentials",Ee=Object(c.expandWithFassets)(function(e){return Object(b.b)({name:"".concat("auth",".startAuthorization"),type:String(e.actions.bootstrapComplete),process:function(e,t,n){e.getState,e.action;t(P.autoSignIn()),n()}})}),Ie=Object(b.b)({name:"".concat("auth",".checkDeviceCredentials"),type:String(P.autoSignIn),process:function(e,t,n){e.getState,e.action,e.fassets;var a=he(Oe);t(a?P.autoSignIn.haveDeviceCredentials(a):P.autoSignIn.noDeviceCredentials()),n()}}),ye=Object(b.b)({name:"".concat("auth",".autoSignIn"),type:String(P.autoSignIn.haveDeviceCredentials),process:function(e,t,n){e.getState;var a=e.action,r=(e.fassets,a.credentials),o=r.email,i=r.pass;t(P.signIn(o,i)),n()}}),Se=Object(b.b)({name:"".concat("auth",".manualSignIn'"),type:[String(P.autoSignIn.noDeviceCredentials),String(P.signOut)],process:function(e,t,n){e.getState,e.action;t(P.signIn.open()),n()}}),je=Object(b.b)({name:"".concat("auth",".processSignIn"),type:String(P.signIn.process),process:function(e,t,n){e.getState;var a=e.action;t(P.signIn(a.values.email,a.values.pass)),n()}}),Re=Object(b.b)({name:"".concat("auth",".signIn"),type:String(P.signIn),warnTimeout:0,process:function(e,t,n){e.getState;var a=e.action;e.fassets.authService.signIn(a.email,a.pass).then(function(e){var r,o;r=a.email,o=a.pass,ge(Oe,{email:r,pass:o},!0),t(P.signIn.complete(e)),n()}).catch(function(e){ce({err:e,showUser:e.isUnexpected()}),t(P.signIn.open(a,e.formatUserMsg())),n()})}}),Ae=Object(b.b)({name:"".concat("auth",".supplementSignedInUserLoc"),type:String(P.signIn.complete),transform:function(e,t,n){var a=e.getState,r=e.action,o=e.fassets;r.user.originalLoc=o.sel.getLocation(a()),t(r)}}),Ce=Object(b.b)({name:"".concat("auth",".supplementSignInComplete"),type:String(P.signIn.complete),process:function(e,t,n){e.getState;var a=e.action;t(P.userProfileChanged(a.user)),n()}}),Ne=Object(b.b)({name:"".concat("auth",".signInCleanup"),type:String(P.signIn.complete),process:function(e,t,n){e.getState,e.action;t(P.signIn.close()),n()}}),Ue=Object(b.b)({name:"".concat("auth",".checkEmailVerified"),type:String(P.signIn.checkEmailVerified),transform:function(e,t,n){var a=e.getState,r=e.action,o=e.fassets;te({msg:"verifying your email: ".concat(F(a()).email)}),o.authService.refreshUser().then(function(e){r.user=e,t(r)}).catch(function(e){ce({err:e}),n()})}}),xe=Object(b.b)({name:"".concat("auth",".resendEmailVerification"),type:String(P.signIn.resendEmailVerification),transform:function(e,t){var n=e.getState,a=e.action,r=e.fassets;te({msg:"resending email to: ".concat(F(n()).email)}),r.authService.resendEmailVerification(),t(a)}}),ke=Object(b.b)({name:"".concat("auth",".supplementSignOutUser"),type:String(P.signOut),transform:function(e,t,n){var a=e.getState,r=e.action;e.fassets;r.user=F(a()),t(r)}}),Me=Object(b.b)({name:"".concat("auth",".signOut"),type:String(P.signOut),process:function(e,t,n){e.getState,e.action;e.fassets.authService.signOut().catch(function(e){ce({err:e})}),be(Oe),n()}}),Fe=Object(c.expandWithFassets)(function(e){return[Ee(e),Ie,ye,Se].concat(Object(L.a)(T.registrar.formLogic()),[je,Ae,Re,Ce,Ne,Ue,xe,ke,Me])}),Te=n(11),Pe=n(61),Le=n.n(Pe),De=n(193),Ye=n.n(De),Je=n(195),We=n.n(Je),Ve=n(58),Be=n.n(Ve),qe=n(60),Ge=n.n(qe),_e=n(77),He=n.n(_e),ze=n(59),Xe=n.n(ze),Qe=n(57),$e=n.n(Qe),Ze=n(194),Ke=n.n(Ze),et=n(354),tt=n.n(et),nt=n(149),at=n.n(nt),rt=n(8),ot=n.n(rt),it=(n(178),n(146)),ct=n.n(it),st=n(353),lt=n.n(st);function ut(e){return r.a.createElement(ct.a,Object.assign({direction:"right",timeout:"1000"},e))}function mt(e){return r.a.createElement(lt.a,Object.assign({timeout:"1000"},e))}function dt(e){var t=e.children;return r.a.createElement($e.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},t)}var pt=Object(B.withStyles)(function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},lockAvatar:{margin:e.spacing.unit,backgroundColor:e.palette.primary.main},entry:{margin:"30px 0px"},icon:{marginRight:e.spacing.unit},inProgress:{margin:4*e.spacing.unit}}})(function(e){var t=e.fullScreen,n=e.classes,o=Object(Te.useSelector)(function(e){return F(e).email},[]),i=Object(Te.useDispatch)(),c=Object(a.useCallback)(function(){return i(P.signIn.checkEmailVerified())},[]),s=Object(a.useCallback)(function(){return i(P.signIn.resendEmailVerification())},[]),l=Object(a.useCallback)(function(){return i(P.signOut())},[]);return r.a.createElement(Be.a,{open:!0,fullScreen:t,TransitionComponent:mt},r.a.createElement(Xe.a,{disableTypography:!0,className:n.titleBar},r.a.createElement(ot.a,{className:n.title,variant:"h6",color:"inherit",noWrap:!0},"Eatery Nod")),r.a.createElement(Ge.a,null,r.a.createElement(dt,null,r.a.createElement(Ye.a,{className:n.lockAvatar},r.a.createElement(Ke.a,null))),r.a.createElement(dt,null,r.a.createElement(ot.a,{variant:"h6",noWrap:!0},"Sign In Verification")),r.a.createElement(He.a,{className:n.entry},"Your account email has not been verified."),r.a.createElement(He.a,{className:n.entry},"Please follow the instructions from the email sent to: ",o),r.a.createElement("div",{className:n.entry},r.a.createElement(dt,null,r.a.createElement(ot.a,{variant:"body2"},"... once completed:")),r.a.createElement(dt,null,r.a.createElement(G.a,{variant:"contained",color:"primary",onClick:c},r.a.createElement(We.a,{className:n.icon}),"Continue"))),r.a.createElement("div",{className:n.entry},r.a.createElement(dt,null,r.a.createElement(G.a,{variant:"contained",color:"secondary",onClick:s},r.a.createElement(tt.a,{className:n.icon}),"Resend Email"))),r.a.createElement("div",{className:n.entry},r.a.createElement(dt,null,r.a.createElement(G.a,{variant:"contained",color:"secondary",onClick:l},r.a.createElement(at.a,{className:n.icon}),"Sign Out")))))}),ft=Le()({breakpoint:"xs"})(pt),gt=n(355),ht=n.n(gt);function bt(e){var t=e.fieldName,n=e.iForm,a=Object(g.a)(e,["fieldName","iForm"]),o=S.prefix("<ITextField> property violation: ");o(t,"fieldName is required"),o(n,"iForm is required"),o(n.handleFieldTouched,"iForm prop MUST be an IFormMeta object ... in fieldName: '".concat(t,"'"));var i=n.getLabel(t);o(i,"supplied fieldName '".concat(t,"' does NOT exist in the supplied iForm: '").concat(n.getLabel(),"'")),["label","value","disabled","onChange","onBlur","error"].forEach(function(e){return o(!a[e],"'".concat(e,"' prop cannot be used (it is managed internally) ... for fieldName: '").concat(t,"'"))});var c={};if(n.isValidationExposed(t)){var s=n.getMsg(t);s&&(c.error=!0,c.helperText=s)}return r.a.createElement(ht.a,Object.assign({label:i,value:n.getValue(t),disabled:n.inProcess(),onChange:function(e){return n.handleFieldChanged(t,e.target.value)},onBlur:function(){return n.handleFieldTouched(t)}},a,c))}var vt=n(69),wt=n.n(vt),Ot=n(62),Et=n.n(Ot);function It(e){var t=e.children;return r.a.createElement($e.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},t)}var yt=Object(B.withStyles)(function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},lockAvatar:{margin:e.spacing.unit,backgroundColor:e.palette.primary.main},entry:{margin:"30px 0px"},invisible:{border:"0 none",margin:0,padding:0},icon:{marginRight:e.spacing.unit},inProgress:{margin:4*e.spacing.unit}}})(function(e){var t=e.fullScreen,n=e.classes,a=Object(Te.useDispatch)(),o=Object(Te.useSelector)(function(e){return T.formStateSelector(e)},[]),i=T.IForm(o,a),c=i.getLabel(),s=i.inProcess(),l=i.getMsg();return r.a.createElement(Be.a,{open:!0,fullScreen:t,TransitionComponent:mt},r.a.createElement(Xe.a,{disableTypography:!0,className:n.titleBar},r.a.createElement(ot.a,{className:n.title,variant:"h6",color:"inherit",noWrap:!0},"Eatery Nod")),r.a.createElement(Ge.a,null,r.a.createElement("form",{onSubmit:i.handleProcess},r.a.createElement("fieldset",{className:n.invisible,disabled:s},r.a.createElement(It,null,r.a.createElement(Ye.a,{className:n.lockAvatar},r.a.createElement(Ke.a,null))),r.a.createElement(It,null,r.a.createElement(ot.a,{variant:"h6",noWrap:!0},c)),r.a.createElement(He.a,{className:n.entry},"Welcome to Eatery Nod ... please ",c,"!"),r.a.createElement("div",{className:n.entry},r.a.createElement(bt,{fieldName:"email",iForm:i,autoFocus:!0,required:!0,fullWidth:!0,type:"email",placeholder:"jon.snow@gmail.com",helperText:"your email is your ID"})),r.a.createElement("div",{className:n.entry},r.a.createElement(bt,{fieldName:"pass",iForm:i,required:!0,fullWidth:!0,type:"password"})),r.a.createElement(It,null,r.a.createElement(G.a,{type:"submit",variant:"contained",color:"primary"},r.a.createElement(at.a,{className:n.icon}),c)),r.a.createElement(wt.a,{error:!0},l),s&&r.a.createElement("div",{className:n.entry},r.a.createElement(Et.a,{className:n.inProgress,color:"secondary"})),r.a.createElement("div",{className:n.entry},r.a.createElement(It,null,r.a.createElement(ot.a,{variant:"body2",color:"secondary"},"... don't have an account?")),r.a.createElement(It,null,r.a.createElement(G.a,{variant:"contained",color:"secondary",onClick:function(){return te.warn({msg:"Sign Up has not yet been implemented."})}},r.a.createElement(at.a,{className:n.icon}),"Sign Up")))))))}),St=Le()({breakpoint:"xs"})(yt);function jt(e){var t=e.msg,n=e.classes,a=e.fullScreen;return r.a.createElement(Be.a,{open:!0,fullScreen:a,TransitionComponent:mt},r.a.createElement(Xe.a,{className:n.title},r.a.createElement("center",{className:n.title},"Eatery Nod")),r.a.createElement(Ge.a,null,r.a.createElement("center",null,r.a.createElement("br",null),r.a.createElement("img",{width:"120px",src:"/eatery.png",alt:"eatery-nod"}),r.a.createElement("br",null),r.a.createElement(Et.a,{className:n.progress,color:"secondary"}),r.a.createElement(ot.a,{variant:"body2"},t),r.a.createElement("br",null))))}jt.defaultProps={msg:""};var Rt=Object(B.withStyles)(function(e){return{title:{color:e.palette.common.white,backgroundColor:e.palette.primary.main},progress:{margin:4*e.spacing.unit}}})(jt),At=Le()({breakpoint:"xs"})(Rt),Ct=Object(u.featureRoute)({priority:u.PRIORITY.HIGH,content:function(e){e.fassets;var t=e.appState,n=F(t);if(n.isUserSignedIn())return null;if(n.isUserSignedInUnverified())return r.a.createElement(ft,null);if(function(e){return!!M(e).signInForm}(t))return r.a.createElement(St,null);var a="authorization in progress (".concat(n.getAuthStatus(),")");return r.a.createElement(At,{msg:a})}}),Nt=n(358),Ut=n.n(Nt),xt=n(54),kt=n(29),Mt=n.n(kt),Ft=n(357),Tt=n.n(Ft),Pt=n(356),Lt=n.n(Pt);function Dt(e){var t=e.curUser,n=r.a.useState(null),o=Object(xt.a)(n,2),i=o[0],s=o[1],l=Object(a.useMemo)(function(){return Boolean(i)},[i]),u=Object(a.useCallback)(function(e){return s(e.currentTarget)},[]);Jt=Object(a.useCallback)(function(){return s(null)},[]);var m=Object(c.useFassets)("AppMotif.UserMenuItem.*@withKeys"),d=Object(a.useMemo)(function(){return Object(L.a)(m).sort(function(e,t){var n=Object(xt.a)(e,1)[0],a=Object(xt.a)(t,1)[0];return n.localeCompare(a)})},[m]);return r.a.createElement("div",null,r.a.createElement(Mt.a,{color:"inherit",onClick:u},r.a.createElement(Lt.a,null),r.a.createElement(ot.a,{variant:"subtitle2",color:"inherit",noWrap:!0},"\xa0",t.name)),r.a.createElement(Tt.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:Yt},d.map(function(e){var t=Object(xt.a)(e,2),n=t[0],a=t[1];return r.a.createElement(a,{key:n})})))}function Yt(){Jt&&Jt()}var Jt=null;function Wt(e){return r.a.createElement(Ut.a,Object.assign({},e,{onClick:function(){Yt(),e.onClick&&e.onClick.apply(e,arguments)}}),e.children)}function Vt(){te.warn({msg:"NOT implemented yet (coming soon)!"})}var Bt=Object(c.createFeature)({name:"auth",fassets:{define:{"actions.userProfileChanged":P.userProfileChanged,"actions.signOut":P.signOut,"actions.signIn.complete":P.signIn.complete,"sel.curUser":F},defineUse:{"AppMotif.UserMenuItem.cc5_AuthUserMenu":function(){var e=Object(Te.useDispatch)(),t=Object(a.useCallback)(function(){oe.warn({msg:"Are you sure you wish to sign out?",actions:[{txt:"Sign Out",action:function(){return e(P.signOut())}},{txt:"Go Back"}]})},[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Wt,{onClick:Vt},"User Profile"),r.a.createElement(Wt,{onClick:t},"Sign Out"))}}},reducer:k,logic:Fe,route:Ct}),qt=function(){function e(){Object(C.a)(this,e)}return Object(N.a)(e,[{key:"signIn",value:function(e,t){throw new Error("***ERROR*** ".concat(this.constructor.name,".signIn() is a required service method that has NOT been implemented"))}},{key:"refreshUser",value:function(){throw new Error("***ERROR*** ".concat(this.constructor.name,".refreshUser() is a required service method that has NOT been implemented"))}},{key:"resendEmailVerification",value:function(){throw new Error("***ERROR*** ".concat(this.constructor.name,".resendEmailVerification() is a required service method that has NOT been implemented"))}},{key:"signOut",value:function(){throw new Error("***ERROR*** ".concat(this.constructor.name,".signOut() is a required service method that has NOT been implemented"))}}]),e}(),Gt=Object(c.createFeature)({name:"authService",fassets:{use:[["authService",{required:!0,type:function(e){return e instanceof qt?null:"object of type AuthServiceAPI, NOT: "+e}}]]}});var _t={useWIFI:!0,mockGPS:!1,log:!1,sandbox:!1},Ht=n(53),zt=n.n(Ht),Xt=(n(733),n(348),function(e){function t(){var e,n;Object(C.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).currentAppUser=null,n}return Object(J.a)(t,e),Object(N.a)(t,[{key:"signIn",value:function(e,t){var n=this;return new Promise(function(a,r){if("guestNO"===t&&0===e.indexOf("guestNO@"))return n.currentAppUser=new U({name:"Harry",email:e,emailVerified:!0,pool:"mockNO",guestLoc:{lat:30.010479,lng:-90.119414}}),a(n.currentAppUser);zt.a.auth().signInWithEmailAndPassword(e,t).then(function(e){zt.a.database().ref("/userProfiles/".concat(e.user.uid)).once("value").then(function(t){var o=t.val();return o?(n.currentAppUser=new U({name:o.name,email:e.user.email,emailVerified:e.user.emailVerified,pool:o.pool}),a(n.currentAppUser)):r(new Error("***ERROR*** No userProfile exists for user: ".concat(e.user.email)).defineAttemptingToMsg("sign in to eatery-nod (your user profile does NOT exist)"))}).catch(function(e){return r(e.defineAttemptingToMsg("sign in to eatery-nod (a problem was encountered fetching your user profile)"))})}).catch(function(e){return e.code?e.defineUserMsg("Invalid SignIn credentials."):e.defineAttemptingToMsg("sign in to eatery-nod"),r(e)})})}},{key:"refreshUser",value:function(){var e=this;return new Promise(function(t,n){if(null===e.currentAppUser)return n(new Error("***ERROR*** (within app logic) AuthServiceFirebase.refreshUser(): may only be called once a successful signIn() has completed.").defineAttemptingToMsg("refresh a non-existent user (not yet signed in)"));zt.a.auth().currentUser.reload().then(function(){var n=zt.a.auth().currentUser;return e.currentAppUser=new U({name:e.currentAppUser.name,email:n.user.email,emailVerified:n.user.emailVerified,pool:e.currentAppUser.pool}),t(e.currentAppUser)}).catch(function(e){return n(e.defineAttemptingToMsg("refresh the signed-in user"))})})}},{key:"resendEmailVerification",value:function(){if(null===this.currentAppUser)throw new Error("***ERROR*** (within app logic) AuthServiceFirebase.resendEmailVerification(): may only be called once a successful signIn() has completed.").defineAttemptingToMsg("resend an email verification to a non-existent user (not yet signed in)");zt.a.auth().currentUser.sendEmailVerification()}},{key:"signOut",value:function(){var e=this;return new Promise(function(t,n){if(null===e.currentAppUser)return n(new Error("***ERROR*** (within app logic) AuthServiceFirebase.signOut(): may only be called once a successful signIn() has completed.").defineAttemptingToMsg("sign-out a non-existent user (not yet signed in)"));zt.a.auth().signOut().then(function(){e.currentAppUser=null}).catch(function(e){return n(e.defineAttemptingToMsg("sign-out the user"))})})}}]),t}(qt)),Qt=Object(c.createFeature)({name:"authServiceFirebase",enabled:_t.useWIFI,fassets:{defineUse:{authService:new Xt}}}),$t=function(e){function t(){var e,n;Object(C.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).currentAppUser=null,n}return Object(J.a)(t,e),Object(N.a)(t,[{key:"signIn",value:function(e,t){var n=this;return new Promise(function(a,r){return"unexpect"===t?r(new Error("***ERROR*** Simulated Unexpected Condition").defineAttemptingToMsg("sign in to eatery-nod")):"expect"===t?r(new Error("***ERROR*** Invalid Password").defineUserMsg("Invalid SignIn credentials.").defineAttemptingToMsg("sign in to eatery-nod")):(n.currentAppUser=new U({name:"MockGuy",email:e,emailVerified:!1,pool:"mock"}),"unverify"===t?a(n.currentAppUser):(n.currentAppUser.emailVerified=!0,a(n.currentAppUser)))})}},{key:"refreshUser",value:function(){var e=this;return new Promise(function(t,n){return e.currentAppUser=e.currentAppUser.clone(),e.currentAppUser.emailVerified=!0,t(e.currentAppUser)})}},{key:"resendEmailVerification",value:function(){}},{key:"signOut",value:function(){var e=this;return new Promise(function(t,n){return e.currentAppUser=null,t(void 0)})}}]),t}(qt),Zt=Object(c.createFeature)({name:"authServiceMock",enabled:!_t.useWIFI,fassets:{defineUse:{authService:new $t}}});var Kt=d.generateActions.root(Object(m.a)({},"bootstrap",{actionMeta:{},setStatus:{actionMeta:{traits:["statusMsg"]}},complete:{actionMeta:{}}})),en=[Object(b.b)({name:"".concat("bootstrap"),type:String(Kt),warnTimeout:0,process:function(e,t,n){var a=e.getState,r=(e.action,e.fassets),o=r.get("bootstrap.*");function i(){t(Kt.setStatus("COMPLETE")),t(Kt.complete()),n()}function c(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n&&n.isUnexpected()||(e.complete=!0),n&&(n.defineAttemptingToMsg(e.bootstrapWhat),ce({err:n,logIt:!0}));var a=o.find(function(e){return!e.complete});a&&t(Kt.setStatus(a.bootstrapWhat)),a||i()}o.forEach(function(e){return e.complete=!1}),0!==o.length?(t(Kt.setStatus(o[0].bootstrapWhat)),o.forEach(function(e){e({getState:a,dispatch:t,fassets:r}).then(function(){c(e)}).catch(function(t){c(e,t)})})):i()}})],tn=Object(s.slicedReducer)("bootstrap",Object(R.combineReducers)({status:Object(h.reducerHash)(Object(m.a)({},Kt.setStatus,function(e,t){return t.statusMsg}),"Waiting for App to start")})),nn=tn,an=function(e){return tn.getSlicedState(e)},rn=function(e){return an(e).status},on=Object(u.featureRoute)({priority:u.PRIORITY.HIGH+10,content:function(e){e.fassets;var t=e.appState;return function(e){return"COMPLETE"===an(e).status}(t)?null:r.a.createElement(At,{msg:rn(t)})}}),cn=Object(c.createFeature)({name:"bootstrap",reducer:nn,logic:en,route:on,fassets:{use:[["bootstrap.*",{required:!1,type:function(e){return(t=e)&&y()(t)&&t.bootstrapWhat?null:"bootstrapFn";var t}}]],define:{"actions.bootstrapComplete":Kt.complete}},appDidStart:function(e){e.fassets,e.appState;(0,e.dispatch)(Kt())}}),sn="discovery",ln=Object(s.slicedReducer)("view.".concat(sn),Object(c.expandWithFassets)(function(e){var t,n,a,r;return Object(R.combineReducers)({inProgress:Object(h.reducerHash)((t={},Object(m.a)(t,wn.retrieve,function(e,t){return"retrieve"}),Object(m.a)(t,wn.retrieve.complete,function(e,t){return null}),Object(m.a)(t,wn.retrieve.fail,function(e,t){return null}),Object(m.a)(t,wn.nextPage,function(e,t){return"next"}),Object(m.a)(t,wn.nextPage.complete,function(e,t){return null}),Object(m.a)(t,wn.nextPage.fail,function(e,t){return null}),t),null),filterForm:vn.registrar.formReducer(),filter:Object(h.reducerHash)((n={},Object(m.a)(n,wn.retrieve.complete,function(e,t){return t.filter}),Object(m.a)(n,e.actions.signOut,function(e,t){return{searchText:"",distance:10,minprice:"1"}}),n),{searchText:"",distance:10,minprice:"1"}),nextPageToken:Object(h.reducerHash)((a={},Object(m.a)(a,wn.retrieve.complete,function(e,t){return t.discoveriesResp.pagetoken}),Object(m.a)(a,wn.nextPage.complete,function(e,t){return t.discoveriesResp.pagetoken}),Object(m.a)(a,e.actions.signOut,function(e,t){return null}),a),null),discoveries:Object(h.reducerHash)((r={},Object(m.a)(r,wn.retrieve.complete,function(e,t){return t.discoveriesResp.discoveries}),Object(m.a)(r,wn.nextPage.complete,function(e,t){return[].concat(Object(L.a)(e),Object(L.a)(t.discoveriesResp.discoveries))}),Object(m.a)(r,e.actions.signOut,function(e,t){return null}),r),null)})})),un=ln,mn=function(e){return ln.getSlicedState(e)},dn=function(e){return mn(e).inProgress},pn=function(e){return mn(e).filter},fn=function(e){return mn(e).nextPageToken},gn=function(e){return mn(e).discoveries},hn="Miles should be a number between 1 and 30",bn="Price should be a number between 0 and 4",vn=j({formDesc:"Discovery Filter",formSchema:p.object().shape({searchText:p.string().label("Search"),distance:p.number().label("Distance").typeError(hn).required().min(1,hn).max(30,hn),minprice:p.string().label("Price Range").typeError(bn).required().matches(/[0-4]/,bn)}),formActionsAccessor:function(){return wn.filterForm},formStateSelector:function(e){return function(e){return mn(e).filterForm}(e)}}),wn=d.generateActions.root(Object(m.a)({},sn,{filterForm:vn.registrar.formActionGenesis(),retrieve:{actionMeta:{traits:["filter"]},complete:{actionMeta:{traits:["filter","discoveriesResp"]}},fail:{actionMeta:{traits:["err"]}}},nextPage:{actionMeta:{traits:["pagetoken"]},complete:{actionMeta:{traits:["discoveriesResp"]}},fail:{actionMeta:{traits:["err"]}}}})),On=Object(c.expandWithFassets)(function(e){return Object(b.b)({name:"".concat(sn,".initialRetrieve"),type:String(e.actions.changeView),process:function(e,t,n){var a=e.getState,r=e.action,o=e.fassets,i=a();if(r.viewName===sn&&null===gn(i)&&!dn(i)){var c=o.sel.getLocation(i);t(wn.retrieve(Object(f.a)({},pn(i),{loc:[c.lat,c.lng]})))}n()}})}),En=Object(b.b)({name:"".concat(sn,".defaultFilter"),type:String(wn.filterForm.open),transform:function(e,t){var n=e.getState,a=e.action;e.fassets;a.domain||(a.domain=pn(n())),t(a)}}),In=Object(b.b)({name:"".concat(sn,".processFilter"),type:String(wn.filterForm.process),process:function(e,t,n){var a=e.getState,r=e.action,o=e.fassets,i=a(),c=r.domain,s=o.sel.getLocation(i);t(wn.retrieve(Object(f.a)({},c,{loc:[s.lat,s.lng]}))),t(o.actions.changeView(sn)),t(wn.filterForm.close()),n()}}),yn=Object(b.b)({name:"".concat(sn,".retrieve"),type:String(wn.retrieve),warnTimeout:0,process:function(e,t,n){e.getState;var a=e.action;e.fassets.discoveryService.searchDiscoveries(a.filter).then(function(e){t(wn.retrieve.complete(a.filter,e)),n()}).catch(function(e){t(wn.retrieve.fail(e)),ce({err:e.defineAttemptingToMsg("DiscoveryService.searchDiscoveries()")}),n()})}}),Sn=Object(b.b)({name:"".concat(sn,".nextPage"),type:String(wn.nextPage),warnTimeout:0,process:function(e,t,n){e.getState;var a=e.action;e.fassets.discoveryService.searchDiscoveriesNextPage(a.pagetoken).then(function(e){t(wn.nextPage.complete(e)),n()}).catch(function(e){t(wn.nextPage.fail(e)),ce({err:e.defineAttemptingToMsg("DiscoveryService.searchDiscoveriesNextPage()")}),n()})}}),jn=Object(c.expandWithFassets)(function(e){return[].concat(Object(L.a)(vn.registrar.formLogic()),[En,On(e),In,yn,Sn])}),Rn=n(361),An=n.n(Rn),Cn=n(359),Nn=n.n(Cn),Un=n(360),xn=n.n(Un),kn=n(254),Mn=n.n(kn),Fn=n(253),Tn=n.n(Fn),Pn=n(3),Ln=n.n(Pn);function Dn(e){var t=e.fieldName,n=e.iForm,a=e.row,o=e.helperText,i=e.children,c=Object(g.a)(e,["fieldName","iForm","row","helperText","children"]),s=S.prefix("<IRadioField> property violation: ");s(t,"fieldName is required"),s(n,"iForm is required"),s(n.handleFieldTouched,"iForm prop MUST be an IFormMeta object ... in fieldName: '".concat(t,"'"));var l=n.getLabel(t);s(l,"supplied fieldName '".concat(t,"' does NOT exist in the supplied iForm: '").concat(n.getLabel(),"'")),a&&s(!0===a||!1===a,"row must be a boolean (true/false) ... in fieldName: '".concat(t,"'"));var u=!!a,m=null,d={},p=n.getMsg(t);return p?(d.error=!0,m=r.a.createElement(wt.a,null,p)):o&&(m=r.a.createElement(wt.a,null,o)),r.a.createElement(Mn.a,Object.assign({},c,d),r.a.createElement(Tn.a,null,l),r.a.createElement(Nn.a,{name:t,row:u,value:n.getValue(t)},i),m)}Dn.Op=function(e){var t=e.fieldName,n=e.iForm,a=e.value,o=e.label;return r.a.createElement(xn.a,{value:a,control:r.a.createElement(An.a,null),label:o,checked:a===n.getValue(t),onChange:function(){return n.handleFieldChanged(t,a)}})},Dn.Op.propTypes={fieldName:Ln.a.string.isRequired,iForm:Ln.a.any.isRequired,value:Ln.a.string.isRequired,label:Ln.a.string.isRequired};var Yn=n(126),Jn=n.n(Yn),Wn=n(196),Vn=n.n(Wn);function Bn(e){var t=e.children;return r.a.createElement($e.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},t)}var qn=Object(B.withStyles)(function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},entry:{margin:"30px 0px"},icon:{marginRight:e.spacing.unit},inProgress:{margin:4*e.spacing.unit}}})(function(e){var t=e.fullScreen,n=e.classes,a=Object(Te.useDispatch)(),o=Object(Te.useSelector)(function(e){return vn.formStateSelector(e)},[]),i=vn.IForm(o,a),c=i.getLabel(),s=i.inProcess(),l={fieldName:"minprice",iForm:i},u=i.getMsg();return r.a.createElement(Be.a,{open:!0,onClose:i.handleClose,fullScreen:t,TransitionComponent:ut},r.a.createElement("form",{onSubmit:i.handleProcess},r.a.createElement(Xe.a,{disableTypography:!0,className:n.titleBar},r.a.createElement(ot.a,{className:n.title,variant:"h6",color:"inherit",noWrap:!0},c),r.a.createElement(Mt.a,{color:"inherit",onClick:i.handleClose},r.a.createElement(Jn.a,null))),r.a.createElement(Ge.a,null,r.a.createElement(He.a,{className:n.entry},"filter your discovery with these settings ..."),r.a.createElement("div",{className:n.entry},r.a.createElement(bt,{fieldName:"searchText",iForm:i,autoFocus:!0,type:"string",helperText:"... suggest a restaurant or town (optional)"})),r.a.createElement("div",{className:n.entry},r.a.createElement(bt,{fieldName:"distance",iForm:i,placeholder:"... enter 1-30",type:"number",helperText:"... the maximum search distance (1-30)"})),r.a.createElement("div",{className:n.entry},r.a.createElement(Dn,Object.assign({},l,{row:!0,helperText:"... most affordable to most expensive"}),r.a.createElement(Dn.Op,Object.assign({value:"0",label:"1"},l)),r.a.createElement(Dn.Op,Object.assign({value:"1",label:"2"},l)),r.a.createElement(Dn.Op,Object.assign({value:"2",label:"3"},l)),r.a.createElement(Dn.Op,Object.assign({value:"3",label:"4"},l)),r.a.createElement(Dn.Op,Object.assign({value:"4",label:"5"},l)))),r.a.createElement("div",{className:n.entry},r.a.createElement(Bn,null,r.a.createElement(G.a,{type:"submit",variant:"contained",color:"primary"},r.a.createElement(Vn.a,{className:n.icon}),"Filter Discoveries"))),u&&r.a.createElement("div",{className:n.entry},r.a.createElement(wt.a,{error:!0},u)),s&&r.a.createElement("div",{className:n.entry},r.a.createElement(Et.a,{className:n.inProgress,color:"secondary"})))))}),Gn=Le()({breakpoint:"xs"})(qn),_n=n(7),Hn=n.n(_n),zn=n(197),Xn=n.n(zn),Qn=n(76),$n=n.n(Qn),Zn=n(23),Kn=n.n(Zn),ea=n(38),ta=n.n(ea),na=n(25),aa=n.n(na),ra=n(362),oa=n.n(ra),ia=n(84),ca=n.n(ia);var sa=Hn()(function(e){return{list:{},progress:{margin:4*e.spacing.unit},nextPage:{fontStyle:"italic"}}})(function(e){var t=e.classes,n=Object(c.useFassets)(),o=Object(Te.useSelector)(function(e){return dn(e)},[]),i=Object(Te.useSelector)(function(e){return gn(e)},[]),s=Object(Te.useSelector)(function(e){return fn(e)},[]),l=Object(Te.useSelector)(function(e){return n.sel.getEateryDbPool(e)},[n]),u=Object(Te.useDispatch)(),m=Object(a.useCallback)(function(e){return u(wn.nextPage(e))},[]),d=Object(a.useCallback)(function(){return u(wn.filterForm.open())},[]),p=Object(a.useCallback)(function(e,t){t[e.id]?u(n.actions.removeEatery(e.id)):u(n.actions.addEatery(e.id))},[]),f=null;null===i||"retrieve"===o?f=[r.a.createElement(Kn.a,{key:"inProgress"},r.a.createElement(aa.a,null,r.a.createElement(ot.a,{variant:"subtitle1",align:"center",noWrap:!0},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"retrieval in progress"))),r.a.createElement(Kn.a,{key:"inProgressSpin"},r.a.createElement(aa.a,null,r.a.createElement(Et.a,{className:t.progress,color:"secondary"})))]:0===i.length?f=[r.a.createElement(Kn.a,{key:"noEntries"},r.a.createElement(aa.a,null,r.a.createElement(ot.a,{variant:"subtitle1",align:"center",noWrap:!0},"No entries match your filter \xa0\xa0",r.a.createElement(G.a,{variant:"contained",color:"primary",onClick:d},r.a.createElement(ca.a,null),r.a.createElement(ot.a,{color:"inherit",variant:"body2"},"\xa0Adjust Filter")))))]:(f=i.map(function(e){return r.a.createElement(Kn.a,{key:e.id,dense:!0,divider:!0},r.a.createElement(ta.a,{onClick:function(){return p(e,l)}},r.a.createElement(Mt.a,null,function(e){return l[e.id]?r.a.createElement(Xn.a,{color:"secondary"}):r.a.createElement(We.a,null)}(e))),r.a.createElement(aa.a,{primary:r.a.createElement(ot.a,{variant:"h6",noWrap:!0},e.name),secondary:r.a.createElement(ot.a,{variant:"subtitle1",noWrap:!0},e.addr)}))}),s?"next"===o?f.push(r.a.createElement(Kn.a,{key:"nextPage"},r.a.createElement(aa.a,null,r.a.createElement(Et.a,{className:t.progress,color:"secondary"})))):f.push(r.a.createElement(Kn.a,{key:"nextPageCntl",dense:!0,button:!0,onClick:function(){return m(s)}},r.a.createElement(ta.a,null,r.a.createElement(Mt.a,{color:"primary"},r.a.createElement(oa.a,null))),r.a.createElement(aa.a,null,r.a.createElement(ot.a,{color:"primary",variant:"h6",className:t.nextPage},"next page ...")))):60===f.length&&f.push(r.a.createElement(Kn.a,{key:"maxEntriesHit",dense:!0,button:!0,onClick:d},r.a.createElement(ta.a,null,r.a.createElement(Mt.a,{color:"primary"},r.a.createElement(ca.a,null))),r.a.createElement(aa.a,null,r.a.createElement(ot.a,{variant:"subtitle1"},"We are limited to 60 entries."),r.a.createElement(ot.a,{variant:"subtitle2"},"... adjust filter with city or restaurant"),r.a.createElement(G.a,{variant:"contained",color:"primary"},r.a.createElement(ca.a,null),r.a.createElement(ot.a,{color:"inherit",variant:"body2"},"\xa0Adjust Filter"))))));return r.a.createElement($n.a,{className:t.list},f)}),la=[Object(u.featureRoute)({priority:u.PRIORITY.HIGH,content:function(e){e.fassets;if(function(e){return!!mn(e).filterForm}(e.appState))return r.a.createElement(Gn,null)}}),Object(u.featureRoute)({content:function(e){var t=e.fassets,n=e.appState;return t.sel.curView(n)!==sn?null:r.a.createElement(sa,null)}})],ua=n(363),ma=n.n(ua),da=n(51),pa=n.n(da),fa=n(198),ga=n.n(fa);var ha=Hn()(function(e){return{major:{color:e.palette.secondary.main},minor:{color:e.palette.primary.dark}}})(function(e){var t=e.classes,n=Object(c.useFassets)(),o=Object(Te.useDispatch)(),i=Object(a.useCallback)(function(){return o(n.actions.changeView(sn))},[n]),s=Object(a.useCallback)(function(){return o(wn.filterForm.open())},[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Kn.a,{button:!0,onClick:i},r.a.createElement(ta.a,{className:t.major},r.a.createElement(ma.a,null)),r.a.createElement(aa.a,{primaryTypographyProps:{className:t.major},primary:"Discovery"}),r.a.createElement(ga.a,{onClick:s},r.a.createElement(ta.a,null,r.a.createElement(Mt.a,{className:t.minor},r.a.createElement(ca.a,null))))),r.a.createElement(pa.a,null))});var ba,va=n(199),wa=n.n(va);var Oa=Object(c.createFeature)({name:sn,fassets:{defineUse:(ba={},Object(m.a)(ba,"AppMotif.LeftNavItem.cc6_".concat(sn),ha),Object(m.a)(ba,"AppMotif.auxViewContent.".concat(sn),{TitleComp:function(){var e=Object(c.useFassets)(),t=Object(Te.useSelector)(function(t){return e.sel.curUser(t)},[e]);return r.a.createElement(ot.a,{variant:"h6",color:"inherit",noWrap:!0},"Discovery",r.a.createElement(ot.a,{color:"inherit",inline:!0,noWrap:!0},"\xa0(",t.pool,")"))},FooterComp:function(){return r.a.createElement($e.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(ot.a,null,"\xa0"),r.a.createElement(ot.a,{color:"inherit",variant:"subtitle1"},"toggle check as \xa0",r.a.createElement(Xn.a,{color:"secondary"}),"\xa0 to place in pool"),r.a.createElement(wa.a,{title:"powered by Google Places"},r.a.createElement("img",{width:"25px",src:"/googleLogo.png",alt:""})))}}),ba)},reducer:un,logic:jn,route:la}),Ea=function(){function e(){Object(C.a)(this,e)}return Object(N.a)(e,[{key:"searchDiscoveries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.loc,e.searchText,e.distance,e.minprice,Object(g.a)(e,["loc","searchText","distance","minprice"]);throw new Error("***ERROR*** ".concat(this.constructor.name,".searchDiscoveries() is a required service method that has NOT been implemented"))}},{key:"searchDiscoveriesNextPage",value:function(e){throw new Error("***ERROR*** ".concat(this.constructor.name,".searchDiscoveriesNextPage() is a required service method that has NOT been implemented"))}},{key:"fetchEateryDetail",value:function(e){throw new Error("***ERROR*** ".concat(this.constructor.name,".fetchEateryDetail() is a required service method that has NOT been implemented"))}}]),e}(),Ia=Object(c.createFeature)({name:"discoveryService",fassets:{use:[["discoveryService",{required:!0,type:function(e){return e instanceof Ea?null:"object of type DiscoveryServiceAPI, NOT: "+e}}]]}});var ya=function(e){function t(){return Object(C.a)(this,t),Object(D.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(N.a)(t,[{key:"searchDiscoveries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.loc,n=e.searchText,a=void 0===n?"":n,r=e.distance,o=void 0===r?5:r,i=e.minprice,c=void 0===i?"1":i,s=Object(g.a)(e,["loc","searchText","distance","minprice"]),l=S.prefix("DiscoveryServiceGooglePlaces.searchDiscoveries() parameter violation: ");l(t,"loc is required ... [lat,lng]"),l(E()(a),"supplied searchText (".concat(a,") must be a string")),l(o,"distance is required ... (1-31) miles"),l(o>=1&&o<=31,"supplied distance (".concat(o,") must be between 1-31 miles")),l(c,"minprice is required ... (0-4)"),l(c>="0"&&c<="4","supplied minprice (".concat(c,") must be between 0-4"));var u=Object.keys(s);l(0===u.length,"unrecognized named parameter(s): ".concat(u));var m,d={location:{lat:t[0],lng:t[1]},radius:(m=o,1609.34*m),minPriceLevel:c,type:"restaurant"};return a&&(d.keyword=a),new Promise(function(e,t){ja=e,Ra=t;try{Ca().nearbySearch(d,function(e,t,n){var a=Ua(t);if(a)return Ra(a);Sa=n.hasNextPage?n:null;var r=function(e,t){return{pagetoken:t.hasNextPage?"giveMeTheNextPagePlease":null,discoveries:e.map(function(e){return Na(e)})}}(e,n);return ja(r)})}catch(n){return Ra(n)}})}},{key:"searchDiscoveriesNextPage",value:function(e){var t=S.prefix("DiscoveryServiceGooglePlaces.searchDiscoveriesNextPage() parameter violation: ");if(t(e,"pagetoken is required"),t(E()(e),"supplied pagetoken (".concat(e,") must be a string")),Sa)return new Promise(function(e,t){ja=e,Ra=t,Sa.nextPage()});throw new Error("*** ERROR *** DiscoveryServiceGooglePlaces - Next page requested, when there are NO additional pages")}},{key:"fetchEateryDetail",value:function(e){return new Promise(function(t,n){try{Ca().getDetails({fields:["place_id","name","formatted_phone_number","geometry","formatted_address","url","website"],placeId:e},function(e,a){var r=Ua(a);if(r)return n(r);var o=Na(e);return t(o)})}catch(a){return n(a)}})}}]),t}(Ea),Sa=null,ja=null,Ra=null,Aa=null;function Ca(){if(Aa)return Aa;var e=window.google;if(!e)throw new Error("*** ERROR *** DiscoveryServiceGooglePlaces - NO google object has been defined from our initialization");return Aa=new e.maps.places.PlacesService(document.createElement("div"))}function Na(e){return{id:e.place_id,name:e.name,phone:e.formatted_phone_number||"not-in-search",loc:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},addr:e.formatted_address||e.vicinity,navUrl:e.url||"not-in-search",website:e.website||"not-in-search"}}function Ua(e){if("OK"!==e&&"ZERO_RESULTS"!==e)return new Error("*** ERROR *** DiscoveryServiceGooglePlaces - Google Places ERROR STATUS: '".concat(e,"'"))}var xa=Object(c.createFeature)({name:"discoveryServiceGooglePlaces",enabled:_t.useWIFI,fassets:{defineUse:{discoveryService:new ya}}}),ka=n(200),Ma=n.n(ka),Fa=function(){function e(){Object(C.a)(this,e)}return Object(N.a)(e,[{key:"monitorDbEateryPool",value:function(e,t,n){throw new Error("***ERROR*** ".concat(this.constructor.name,".monitorDbEateryPool() is a required service method that has NOT been implemented"))}},{key:"addEatery",value:function(e){throw new Error("***ERROR*** ".concat(this.constructor.name,".addEatery() is a required service method that has NOT been implemented"))}},{key:"removeEatery",value:function(e){throw new Error("***ERROR*** ".concat(this.constructor.name,".removeEatery() is a required service method that has NOT been implemented"))}}]),e}(),Ta=function(e){function t(){var e,n;Object(C.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).curPoolMonitor={pool:null,monitorCB:null,eateries:null},n}return Object(J.a)(t,e),Object(N.a)(t,[{key:"monitorDbEateryPool",value:function(e,t,n){var a=Pa.reduce(function(e,t){return e[t]=La[t],e},{});for(var r in this.curPoolMonitor={pool:e,monitorCB:n,eateries:a},La){var o=La[r];o.distance=Ma()([o.loc.lat,o.loc.lng],[t.lat,t.lng])}n(a)}},{key:"addEatery",value:function(e){var t=this;return new Promise(function(n,a){if(!t.curPoolMonitor.pool)return a(new Error("***ERROR*** (within app logic) EateryServiceMock.addEatery(): may only be called once a successful monitorDbEateryPool() has completed.").defineAttemptingToMsg("add an Eatery to the DB"));t.curPoolMonitor.eateries=Object(f.a)({},t.curPoolMonitor.eateries,Object(m.a)({},e.id,e)),t.curPoolMonitor.monitorCB(t.curPoolMonitor.eateries)})}},{key:"removeEatery",value:function(e){var t=this;return new Promise(function(n,a){if(!t.curPoolMonitor.pool)return a(new Error("***ERROR*** (within app logic) EateryServiceMock.removeEatery(): may only be called once a successful monitorDbEateryPool() has completed.").defineAttemptingToMsg("remove an Eatery from the DB"));var r=Object.assign({},t.curPoolMonitor.eateries);delete r[e],t.curPoolMonitor.eateries=r,t.curPoolMonitor.monitorCB(t.curPoolMonitor.eateries)})}}]),t}(Fa),Pa=["ChIJ2_bmEw6vIIYRS7ztDnnLpNg","ChIJaVmoJg6vIIYR9iB3FoxFfEQ","ChIJ6yNtftWuIIYRJrESGu4C5fM","ChIJ6zsQedWuIIYRYmlx6sWCkUw","ChIJ-6rxFimpIIYRCrq8YVb3Ujs","ChIJ6yVNhImlIIYR8tQxm8GDdi0","ChIJ28cfCwymIIYRmTnBVitvmZ0","ChIJ2ybOvA2mIIYRMRjz-wyjyu4","ChIJgTgvHA6mIIYR8-Hw_kHU-f0","ChIJryxqrxCmIIYRtUFAh4d96BY","ChIJs_quaAymIIYRUwRs2-LHWqA","ChIJu2hvxRGmIIYRaS0qajrz0ZE","ChIJ6b-WfSOmIIYRHRWCCIzhh08","ChIJRQDMLA2mIIYR-ZQnRWmSdnU","ChIJ8dWgxgymIIYRyt8bRdLUXXU","ChIJfV2h73KmIIYRRDpBV-crpB8","ChIJvTnAEW6mIIYRqA7o0JRIRyA","ChIJETttTjKkIIYRfnaTcqDqbnw","ChIJO8UE__pZJ4YROei1_1_xklM","ChIJ76kBGjFcJ4YRwmBQteVXEyk"],La={"ChIJ-6rxFimpIIYRCrq8YVb3Ujs":{addr:"2000 Lakeshore Dr Uc250, New Orleans, LA 70148, USA",id:"ChIJ-6rxFimpIIYRCrq8YVb3Ujs",loc:{lat:30.02439820000001,lng:-90.0684455},name:"Aramark",navUrl:"https://maps.google.com/?cid=4274750946707028490",phone:"(504) 280-6079",website:"https://www.aramark.com/",distance:3},ChIJ01VeXQymIIYRI6lnasCzx3M:{addr:"724 Iberville St, New Orleans, LA 70130, USA",id:"ChIJ01VeXQymIIYRI6lnasCzx3M",loc:{lat:29.9543,lng:-90.0689558},name:"Acme Oyster House",navUrl:"https://maps.google.com/?cid=8342834473727404323",phone:"(504) 522-5973",website:"http://www.acmeoyster.com/french-quarter/",distance:4},ChIJ28cfCwymIIYRmTnBVitvmZ0:{addr:"841 Iberville St, New Orleans, LA 70112, USA",id:"ChIJ28cfCwymIIYRmTnBVitvmZ0",loc:{lat:29.9553468,lng:-90.0698063},name:"Deanie's Seafood Restaurant in the French Quarter",navUrl:"https://maps.google.com/?cid=11356230167321196953",phone:"(504) 581-1316",website:"https://www.deanies.com/",distance:4},ChIJ2_bmEw6vIIYRS7ztDnnLpNg:{addr:"900 Harrison Ave, New Orleans, LA 70124, USA",id:"ChIJ2_bmEw6vIIYRS7ztDnnLpNg",loc:{lat:30.003912,lng:-90.103667},name:"Mondo",navUrl:"https://maps.google.com/?cid=15610825929174924363",phone:"(504) 224-2633",website:"http://www.mondoneworleans.com/",distance:1},"ChIJ2ybOvA2mIIYRMRjz-wyjyu4":{addr:"307 Chartres St, New Orleans, LA 70130, USA",id:"ChIJ2ybOvA2mIIYRMRjz-wyjyu4",loc:{lat:29.9544808,lng:-90.0665677},name:"Caf\xe9 Fleur-De-Lis",navUrl:"https://maps.google.com/?cid=17206744602484348977",phone:"(504) 529-9641",website:"http://cafefleurdelis.com/",distance:4},"ChIJ6U-QewymIIYRzP5x_fdjwEw":{addr:"115 Bourbon St, New Orleans, LA 70130, USA",id:"ChIJ6U-QewymIIYRzP5x_fdjwEw",loc:{lat:29.954424,lng:-90.0695719},name:"Red Fish Grill",navUrl:"https://maps.google.com/?cid=5530530259171147468",phone:"(504) 598-1200",website:"http://www.redfishgrill.com/",distance:4},"ChIJ6b-WfSOmIIYRHRWCCIzhh08":{addr:"2601 Royal St, New Orleans, LA 70117, USA",id:"ChIJ6b-WfSOmIIYRHRWCCIzhh08",loc:{lat:29.96491200000001,lng:-90.051209},name:"Mimi's In the Marigny",navUrl:"https://maps.google.com/?cid=5730797042406659357",phone:"(504) 872-9868",website:"http://mimismarigny.com/",distance:5},ChIJ6yNtftWuIIYRJrESGu4C5fM:{addr:"6100 Hamburg St Suite A, New Orleans, LA 70122, USA",id:"ChIJ6yNtftWuIIYRJrESGu4C5fM",loc:{lat:30.020369,lng:-90.0767649},name:"Yummy Sushi",navUrl:"https://maps.google.com/?cid=17574456342546133286",phone:"(504) 309-9401",website:"not-in-search",distance:2},ChIJ6yVNhImlIIYR8tQxm8GDdi0:{addr:"315 S Broad Ave, New Orleans, LA 70119, USA",id:"ChIJ6yVNhImlIIYR8tQxm8GDdi0",loc:{lat:29.9636662,lng:-90.0895056},name:"Ruby Slipper Cafe",navUrl:"https://maps.google.com/?cid=3275950646514275570",phone:"(504) 525-9355",website:"http://www.therubyslippercafe.net/",distance:3},ChIJ6zsQedWuIIYRYmlx6sWCkUw:{addr:"1522 Robert E Lee Blvd, New Orleans, LA 70122, USA",id:"ChIJ6zsQedWuIIYRYmlx6sWCkUw",loc:{lat:30.0207669,lng:-90.07682419999999},name:"The F\xfcd Bar",navUrl:"https://maps.google.com/?cid=5517334805059037538",phone:"(504) 309-3284",website:"http://www.eathappynola.com/",distance:2},ChIJ76kBGjFcJ4YRwmBQteVXEyk:{addr:"19130 Rogers Ln, Covington, LA 70433, USA",id:"ChIJ76kBGjFcJ4YRwmBQteVXEyk",loc:{lat:30.4735482,lng:-90.0887137},name:"The Chimes-Covington",navUrl:"https://maps.google.com/?cid=2959806024213618882",phone:"(985) 892-5396",website:"http://www.thechimes.com/the-chimes-covington",distance:32},ChIJ7SpQ6RGmIIYRsuU_zP71sBI:{addr:"630 St Peter, New Orleans, LA 70116, USA",id:"ChIJ7SpQ6RGmIIYRsuU_zP71sBI",loc:{lat:29.9577089,lng:-90.0645131},name:"Gumbo Shop",navUrl:"https://maps.google.com/?cid=1346846763281016242",phone:"(504) 525-1486",website:"http://gumboshop.com/",distance:4},ChIJ8VL0ug2mIIYRDrOWNVA6nhY:{addr:"307 Exchange Pl, New Orleans, LA 70130, USA",id:"ChIJ8VL0ug2mIIYRDrOWNVA6nhY",loc:{lat:29.9546927,lng:-90.067018},name:"Green Goddess",navUrl:"https://maps.google.com/?cid=1629804231325561614",phone:"(504) 301-3347",website:"http://greengoddessrestaurant.com/",distance:4},ChIJ8W3hFQymIIYRQObKMMNMyRo:{addr:"808 Bienville St, New Orleans, LA 70112, USA",id:"ChIJ8W3hFQymIIYRQObKMMNMyRo",loc:{lat:29.9555463,lng:-90.06883859999999},name:"GW Fins",navUrl:"https://maps.google.com/?cid=1930158316525905472",phone:"(504) 581-3467",website:"http://gwfins.com/",distance:4},ChIJ8dWgxgymIIYRyt8bRdLUXXU:{addr:"125 Camp St, New Orleans, LA 70130, USA",id:"ChIJ8dWgxgymIIYRyt8bRdLUXXU",loc:{lat:29.9520226,lng:-90.0687354},name:"Red Gravy",navUrl:"https://maps.google.com/?cid=8457149674839334858",phone:"(504) 561-8844",website:"http://redgravycafe.com/",distance:5},"ChIJ9Uw1l75cJ4YRXJ2HT-BttUU":{addr:"70456 LA-21 E, Covington, LA 70433, USA",id:"ChIJ9Uw1l75cJ4YRXJ2HT-BttUU",loc:{lat:30.4537876,lng:-90.1340372},name:"Subway Restaurants",navUrl:"https://maps.google.com/?cid=5023041769576045916",phone:"(985) 875-0624",website:"http://order.subway.com/Stores/Redirect.aspx?s=28364&sa=0&f=r&utm_source=google&utm_medium=local&utm_term=0&utm_content=28364&utm_campaign=fwh-local-remote-order&cid=0:0:0:0:0:0&segment_code=0",distance:30},ChIJDVhB0w2mIIYRZVLScBsQtTo:{addr:"739 Conti St, New Orleans, LA 70130, USA",id:"ChIJDVhB0w2mIIYRZVLScBsQtTo",loc:{lat:29.956247,lng:-90.067626},name:"Oceana Grill",navUrl:"https://maps.google.com/?cid=4230305135027442277",phone:"(504) 525-6002",website:"http://www.oceanagrill.com/",distance:4},ChIJDxnIrtelIIYR8sJkRU4JuTM:{addr:"1732 St Charles Ave, New Orleans, LA 70130, USA",id:"ChIJDxnIrtelIIYR8sJkRU4JuTM",loc:{lat:29.9369517,lng:-90.076805},name:"The Avenue Pub",navUrl:"https://maps.google.com/?cid=3727020398402126578",phone:"(504) 586-9243",website:"http://theavenuepub.com/",distance:5},ChIJDyC9Ig6mIIYRDWmrSR08N54:{addr:"718 St Peter, New Orleans, LA 70116, USA",id:"ChIJDyC9Ig6mIIYRDWmrSR08N54",loc:{lat:29.9582008,lng:-90.0652973},name:"Pat O'Brien's",navUrl:"https://maps.google.com/?cid=11400647078199388429",phone:"(504) 525-4823",website:"http://www.patobriens.com/",distance:4},ChIJETttTjKkIIYRfnaTcqDqbnw:{addr:"3128 Magazine St, New Orleans, LA 70115, USA",id:"ChIJETttTjKkIIYRfnaTcqDqbnw",loc:{lat:29.924039,lng:-90.086011},name:"The Rum House",navUrl:"https://maps.google.com/?cid=8966361882979169918",phone:"(504) 941-7560",website:"http://www.therumhouse.com/",distance:6},ChIJFYDeXQymIIYRh1Cion6Ta9I:{addr:"716 Iberville St, New Orleans, LA 70130, USA",id:"ChIJFYDeXQymIIYRh1Cion6Ta9I",loc:{lat:29.954206,lng:-90.068728},name:"Dickie Brennan's Steakhouse",navUrl:"https://maps.google.com/?cid=15162374742576615559",phone:"(504) 522-2467",website:"http://www.dickiebrennanssteakhouse.com/",distance:4},ChIJG_d8TP5eJ4YR6wK6RwXBFkc:{addr:"72011 Holly St, Abita Springs, LA 70420, USA",id:"ChIJG_d8TP5eJ4YR6wK6RwXBFkc",loc:{lat:30.47869790000001,lng:-90.0391606},name:"Abita Brew Pub",navUrl:"https://maps.google.com/?cid=5122493854602887915",phone:"(985) 892-5837",website:"http://www.abitabrewpub.com/",distance:32},ChIJO8UE__pZJ4YROei1_1_xklM:{addr:"1917 Lakeshore Dr, Mandeville, LA 70448, USA",id:"ChIJO8UE__pZJ4YROei1_1_xklM",loc:{lat:30.3524862,lng:-90.0674878},name:"Rips On the Lake",navUrl:"https://maps.google.com/?cid=6022141046362073145",phone:"(985) 727-2829",website:"http://www.ripsonthelake.com/",distance:23},"ChIJRQDMLA2mIIYR-ZQnRWmSdnU":{addr:"200 Magazine St, New Orleans, LA 70130, USA",id:"ChIJRQDMLA2mIIYR-ZQnRWmSdnU",loc:{lat:29.9510068,lng:-90.0674083},name:"The Ruby Slipper Cafe",navUrl:"https://maps.google.com/?cid=8464113530518869241",phone:"(504) 525-9355",website:"http://www.therubyslippercafe.net/",distance:5},ChIJT4MvDBKmIIYRFjCBCX693Yc:{addr:"534 St Louis St, New Orleans, LA 70130, USA",id:"ChIJT4MvDBKmIIYRFjCBCX693Yc",loc:{lat:29.955558,lng:-90.065077},name:"NOLA Restaurant",navUrl:"https://maps.google.com/?cid=9790189513996316694",phone:"(504) 522-6652",website:"http://emerilsrestaurants.com/nola",distance:4},"ChIJTz6VoQumIIYRAXvVrezBp-U":{addr:"123 Baronne St, New Orleans, LA 70112, USA",id:"ChIJTz6VoQumIIYRAXvVrezBp-U",loc:{lat:29.9538764,lng:-90.0716274},name:"Domenica",navUrl:"https://maps.google.com/?cid=16548408578069068545",phone:"(504) 648-6020",website:"http://www.domenicarestaurant.com/",distance:4},"ChIJW3d2Wc2lIIYRu-qs_NaSOkg":{addr:"1403 Washington Ave, New Orleans, LA 70130, USA",id:"ChIJW3d2Wc2lIIYRu-qs_NaSOkg",loc:{lat:29.9287839,lng:-90.08421849999999},name:"Commander's Palace",navUrl:"https://maps.google.com/?cid=5204633771439876795",phone:"(504) 899-8221",website:"https://www.commanderspalace.com/",distance:6},ChIJWegGCA6mIIYRYAiMKN4T4CM:{addr:"713 St Louis St, New Orleans, LA 70130, USA",id:"ChIJWegGCA6mIIYRYAiMKN4T4CM",loc:{lat:29.95674039999999,lng:-90.06639969999999},name:"Antoine's Restaurant",navUrl:"https://maps.google.com/?cid=2585088030994597984",phone:"(504) 581-4422",website:"http://www.antoines.com/",distance:4},ChIJX0qVUw2mIIYRNZcBBOu8Xfs:{addr:"365 Canal St Suite 220, New Orleans, LA 70130, USA",id:"ChIJX0qVUw2mIIYRNZcBBOu8Xfs",loc:{lat:29.95115109999999,lng:-90.0653869},name:"Morton's The Steakhouse",navUrl:"https://maps.google.com/?cid=18112840993924552501",phone:"(504) 566-0221",website:"http://www.mortons.com/neworleans/",distance:5},"ChIJXUB3oBGmIIYRDRcvPi-pdDM":{addr:"547 St Ann St, New Orleans, LA 70116, USA",id:"ChIJXUB3oBGmIIYRDRcvPi-pdDM",loc:{lat:29.95826729999999,lng:-90.0629094},name:"Stanley Restaurant",navUrl:"https://maps.google.com/?cid=3707774413604591373",phone:"(504) 587-0093",website:"http://stanleyrestaurant.com/",distance:4},ChIJXXjcfZhcJ4YRWnFiE4ofXes:{addr:"6025 Pinnacle Pkwy, Covington, LA 70433, USA",id:"ChIJXXjcfZhcJ4YRWnFiE4ofXes",loc:{lat:30.444494,lng:-90.12936499999999},name:"Texas Roadhouse",navUrl:"https://maps.google.com/?cid=16959746449638322522",phone:"(985) 867-8008",website:"https://www.texasroadhouse.com/restaurant-locations/louisiana/covington",distance:30},ChIJYbYLMBimIIYR_jUx5ds4Quo:{addr:"536 Frenchmen St, New Orleans, LA 70116, USA",id:"ChIJYbYLMBimIIYR_jUx5ds4Quo",loc:{lat:29.9632722,lng:-90.0578685},name:"Three Muses",navUrl:"https://maps.google.com/?cid=16880116870432241150",phone:"(504) 252-4801",website:"http://www.3musesnola.com/",distance:4},ChIJaS5FoBGmIIYRTXOjqm3XxI0:{addr:"801 Chartres St, New Orleans, LA 70116, USA",id:"ChIJaS5FoBGmIIYRTXOjqm3XxI0",loc:{lat:29.9583835,lng:-90.063105},name:"Muriel's Jackson Square",navUrl:"https://maps.google.com/?cid=10215526720797373261",phone:"(504) 568-1885",website:"http://www.muriels.com/",distance:4},ChIJaVmoJg6vIIYR9iB3FoxFfEQ:{addr:"6300 Argonne Blvd, New Orleans, LA 70124, USA",id:"ChIJaVmoJg6vIIYR9iB3FoxFfEQ",loc:{lat:30.004869,lng:-90.102976},name:"The Velvet Cactus",navUrl:"https://maps.google.com/?cid=4934895759665864950",phone:"(504) 301-2083",website:"http://www.thevelvetcactus.com/",distance:1},"ChIJf-CSq3SmIIYR1QNnxY9r5wo":{addr:"333 St Charles Ave, New Orleans, LA 70130, USA",id:"ChIJf-CSq3SmIIYR1QNnxY9r5wo",loc:{lat:29.950587,lng:-90.07044619999999},name:"Luke",navUrl:"https://maps.google.com/?cid=785714925235798997",phone:"(504) 378-2840",website:"http://www.lukeneworleans.com/",distance:5},"ChIJfV2h73KmIIYRRDpBV-crpB8":{addr:"401 Poydras St, New Orleans, LA 70130, USA",id:"ChIJfV2h73KmIIYRRDpBV-crpB8",loc:{lat:29.949065,lng:-90.06708809999999},name:"Mother's Restaurant",navUrl:"https://maps.google.com/?cid=2279995583957645892",phone:"(504) 523-9656",website:"http://www.mothersrestaurant.net/",distance:5},"ChIJgTgvHA6mIIYR8-Hw_kHU-f0":{addr:"613 Royal St, New Orleans, LA 70130, USA",id:"ChIJgTgvHA6mIIYR8-Hw_kHU-f0",loc:{lat:29.9575423,lng:-90.0652683},name:"The Court of Two Sisters",navUrl:"https://maps.google.com/?cid=18300891940711883251",phone:"(504) 522-7261",website:"http://www.courtoftwosisters.com/",distance:4},ChIJi2AxW3SmIIYRmML7jsbqtb8:{addr:"701 St Charles Ave, New Orleans, LA 70130, USA",id:"ChIJi2AxW3SmIIYRmML7jsbqtb8",loc:{lat:29.947316,lng:-90.07156100000002},name:"Herbsaint",navUrl:"https://maps.google.com/?cid=13814205570552152728",phone:"(504) 524-4114",website:"http://www.herbsaint.com/",distance:5},ChIJiUWE9A2mIIYRngo31C8qPSw:{addr:"416 Chartres St, New Orleans, LA 70130, USA",id:"ChIJiUWE9A2mIIYRngo31C8qPSw",loc:{lat:29.955348,lng:-90.0655},name:"K-Paul's Louisiana Kitchen",navUrl:"https://maps.google.com/?cid=3187750496160385694",phone:"(504) 596-2530",website:"http://www.kpauls.com/",distance:4},"ChIJnUfNIiOmIIYRibUzWhx-PBg":{addr:"2440 Chartres St, New Orleans, LA 70117, USA",id:"ChIJnUfNIiOmIIYRibUzWhx-PBg",loc:{lat:29.9636919,lng:-90.0529387},name:"New Orleans Cake Caf\xe9 & Bakery",navUrl:"https://maps.google.com/?cid=1746409415750432137",phone:"(504) 943-0010",website:"http://www.nolacakes.com/",distance:5},ChIJnYiUJxtcJ4YRkAFmz9vshEU:{addr:"1202 N Hwy 190, Covington, LA 70433, USA",id:"ChIJnYiUJxtcJ4YRkAFmz9vshEU",loc:{lat:30.44807140000001,lng:-90.0815896},name:"Acme Oyster House",navUrl:"https://maps.google.com/?cid=5009389114364395920",phone:"(985) 246-6155",website:"http://www.acmeoyster.com/",distance:30},ChIJp6mGj3GmIIYRfS0qjpoGsmo:{addr:"800 Tchoupitoulas St, New Orleans, LA 70130, USA",id:"ChIJp6mGj3GmIIYRfS0qjpoGsmo",loc:{lat:29.944616,lng:-90.067286},name:"Emeril's New Orleans",navUrl:"https://maps.google.com/?cid=7688214774754717053",phone:"(504) 528-9393",website:"http://emerilsrestaurants.com/emerils-new-orleans",distance:5},"ChIJpdlCODylIIYRyeE-wYHtahE":{addr:"626 S Carrollton Ave, New Orleans, LA 70118, USA",id:"ChIJpdlCODylIIYRyeE-wYHtahE",loc:{lat:29.94384989999999,lng:-90.1339165},name:"The Camellia Grill",navUrl:"https://maps.google.com/?cid=1255076587724792265",phone:"(504) 309-2679",website:"https://www.facebook.com/pages/Camellia-Grill/104113072958918?rf=250301408353469",distance:4},ChIJryxqrxCmIIYRtUFAh4d96BY:{addr:"1201 Royal St, New Orleans, LA 70116, USA",id:"ChIJryxqrxCmIIYRtUFAh4d96BY",loc:{lat:29.96209660000001,lng:-90.06116809999999},name:"Verti Marte",navUrl:"https://maps.google.com/?cid=1650707284474479029",phone:"(504) 525-4767",website:"not-in-search",distance:4},"ChIJs_quaAymIIYRUwRs2-LHWqA":{addr:"144 Bourbon St, New Orleans, LA 70130, USA",id:"ChIJs_quaAymIIYRUwRs2-LHWqA",loc:{lat:29.9545625,lng:-90.0691287},name:"Bourbon House",navUrl:"https://maps.google.com/?cid=11554767571130254419",phone:"(504) 522-0111",website:"http://www.bourbonhouse.com/",distance:4},ChIJt2f3WgymIIYRb1B1S_gWc3I:{addr:"201 Royal St, New Orleans, LA 70130, USA",id:"ChIJt2f3WgymIIYRb1B1S_gWc3I",loc:{lat:29.9543868,lng:-90.0683629},name:"Mr. B's Bistro",navUrl:"https://maps.google.com/?cid=8246960598319190127",phone:"(504) 523-2078",website:"http://www.mrbsbistro.com/",distance:4},ChIJu2hvxRGmIIYRaS0qajrz0ZE:{addr:"717 Orleans St, New Orleans, LA 70116, USA",id:"ChIJu2hvxRGmIIYRaS0qajrz0ZE",loc:{lat:29.95864749999999,lng:-90.0645742},name:"Roux on Orleans Restaurant",navUrl:"https://maps.google.com/?cid=10507446837846879593",phone:"(504) 571-4604",website:"http://www.bourbonorleans.com/restaurant-dining.php",distance:4},ChIJuwqeNamlIIYRiCYSjKciG5c:{addr:"4905 Freret St, New Orleans, LA 70115, USA",id:"ChIJuwqeNamlIIYRiCYSjKciG5c",loc:{lat:29.935024,lng:-90.1074596},name:"Cure",navUrl:"https://maps.google.com/?cid=10888334627103188616",phone:"(504) 302-2357",website:"http://curenola.com/",distance:5},ChIJv2VvX3GmIIYRlCIIn4WtIYY:{addr:"800 Magazine St, New Orleans, LA 70130, USA",id:"ChIJv2VvX3GmIIYRlCIIn4WtIYY",loc:{lat:29.945088,lng:-90.069051},name:"P\xeache Seafood Grill",navUrl:"https://maps.google.com/?cid=9665197064724161172",phone:"(504) 522-1744",website:"https://www.pecherestaurant.com/",distance:5},ChIJvTnAEW6mIIYRqA7o0JRIRyA:{addr:"201 Julia St, New Orleans, LA 70130, USA",id:"ChIJvTnAEW6mIIYRqA7o0JRIRyA",loc:{lat:29.9444575,lng:-90.0647824},name:"Mulate's | The Original Cajun Restaurant",navUrl:"https://maps.google.com/?cid=2325907536557379240",phone:"(504) 522-1492",website:"https://www.mulates.com/",distance:5},ChIJzXUQJhimIIYR7wBw72LWWZs:{addr:"508 Frenchmen St, New Orleans, LA 70116, USA",id:"ChIJzXUQJhimIIYR7wBw72LWWZs",loc:{lat:29.962781,lng:-90.057801},name:"The Maison",navUrl:"https://maps.google.com/?cid=11194214069218312431",phone:"(504) 371-5543",website:"http://www.maisonfrenchmen.com/",distance:4}},Da={pagetoken:"THERE_IS_MORE",discoveries:[]},Ya={pagetoken:null,discoveries:[]},Ja=!1;for(var Wa in La){var Va=La[Wa];"ChIJTz6VoQumIIYRAXvVrezBp-U"===Va.id&&(Ja=!0),Ja?Ya.discoveries.push(Va):Da.discoveries.push(Va)}var Ba=function(e){function t(){return Object(C.a)(this,t),Object(D.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(N.a)(t,[{key:"searchDiscoveries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.loc,n=e.searchText,a=void 0===n?"":n,r=e.distance,o=void 0===r?5:r,i=e.minprice,c=void 0===i?"1":i,s=Object(g.a)(e,["loc","searchText","distance","minprice"]),l=S.prefix("DiscoveryServiceMock.searchDiscoveries() parameter violation: ");l(t,"loc is required ... [lat,lng]"),l(E()(a),"supplied searchText (".concat(a,") must be a string")),l(o,"distance is required ... (1-31) miles"),l(o>=1&&o<=31,"supplied distance (".concat(o,") must be between 1-31 miles")),l(c,"minprice is required ... (0-4)"),l(c>="0"&&c<="4","supplied minprice (".concat(c,") must be between 0-4"));var u=Object.keys(s);return l(0===u.length,"unrecognized named parameter(s): ".concat(u)),new Promise(function(e,t){return e(Da)})}},{key:"searchDiscoveriesNextPage",value:function(e){var t=S.prefix("DiscoveryServiceMock.searchDiscoveriesNextPage() parameter violation: ");return t(e,"pagetoken is required"),t(E()(e),"supplied pagetoken (".concat(e,") must be a string")),new Promise(function(e,t){return e(Ya)})}},{key:"fetchEateryDetail",value:function(e){return new Promise(function(t,n){return t(La[e])})}}]),t}(Ea),qa=Object(c.createFeature)({name:"discoveryServiceMock",enabled:!_t.useWIFI,fassets:{defineUse:{discoveryService:new Ba}}}),Ga="eateries",_a=Object(s.slicedReducer)("view.".concat(Ga),Object(c.expandWithFassets)(function(e){var t,n,a,r;return Object(R.combineReducers)({dbPool:Object(h.reducerHash)((t={},Object(m.a)(t,nr.dbPool.changed,function(e,t){return t.eateries}),Object(m.a)(t,e.actions.signOut,function(e,t){return null}),t),null),listView:Object(R.combineReducers)({filterForm:tr.registrar.formReducer(),filter:Object(h.reducerHash)((n={},Object(m.a)(n,nr.filterForm.process,function(e,t){return t.domain}),Object(m.a)(n,e.actions.signOut,function(e,t){return{distance:null,sortOrder:"name"}}),n),{distance:null,sortOrder:"name"})}),selectedEateryId:Object(h.reducerHash)((a={},Object(m.a)(a,nr.viewDetail,function(e,t){return t.eateryId}),Object(m.a)(a,nr.viewDetail.close,function(e,t){return null}),a),null),spin:Object(h.reducerHash)((r={},Object(m.a)(r,nr.spin,function(e,t){return t.spinMsg}),Object(m.a)(r,nr.spin.complete,function(e,t){return null}),r),null)})})),Ha=_a,za=function(e){return _a.getSlicedState(e)},Xa=function(e){return za(e).dbPool},Qa=function(e){return za(e).listView.filter},$a=Object(A.a)(Xa,Qa,function(e,t){return e?Object.values(e).filter(function(e){return!t.distance||e.distance<=t.distance}).sort(function(e,n){return"distance"===t.sortOrder?e.distance-n.distance:e.name.localeCompare(n.name)}):null}),Za=function(e){var t=za(e).selectedEateryId;return t?za(e).dbPool[t]:null},Ka=function(e){return za(e).spin},er="Sort order should be either 'name' or 'distance'",tr=j({formDesc:"Pool Filter",formSchema:p.object().shape({distance:p.number().label("Miles").typeError("Miles should be a positive number (when supplied)").nullable().transform(function(e){return e||null}).positive("Miles should be a positive number (when supplied)"),sortOrder:p.string().label("Sort").typeError(er).required().matches(/(name|distance)/,er)}),formActionsAccessor:function(){return nr.filterForm},formStateSelector:function(e){return function(e){return za(e).listView.filterForm}(e)}}),nr=d.generateActions.root(Object(m.a)({},Ga,{dbPool:{changed:{actionMeta:{traits:["eateries"]}},add:{actionMeta:{traits:["eateryId"]},eateryDetail:{actionMeta:{traits:["eatery"]},fail:{actionMeta:{traits:["eateryId","err"]}}}},remove:{actionMeta:{traits:["eateryId"]}}},filterForm:tr.registrar.formActionGenesis(),viewDetail:{actionMeta:{traits:["eateryId"]},close:{actionMeta:{}}},spin:{actionMeta:{},complete:{actionMeta:{traits:["eateryId"]}}}})),ar={pool:null,wrapUp:function(){return"no-op"}},rr=null,or=new Ta,ir=Object(c.expandWithFassets)(function(e){return Object(b.b)({name:"".concat(Ga,".setupGuestUser"),type:String(e.actions.signIn.complete),transform:function(e,t){e.getState;var n=e.action,a=e.fassets;n.user.isGuest()&&(rr=a.eateryService,a.eateryService=or,te({msg:'as a "guest" user, your Eatery pool is a "mocked" in-memory data source'})),t(n)}})}),cr=Object(c.expandWithFassets)(function(e){return Object(b.b)({name:"".concat(Ga,".tearDownGuestUser"),type:String(e.actions.signOut),process:function(e,t,n){e.getState;var a=e.action,r=e.fassets;a.user.isGuest()&&(r.eateryService=rr),n()}})}),sr=Object(c.expandWithFassets)(function(e){return Object(b.b)({name:"".concat(Ga,".monitorDbPool"),type:String(e.actions.userProfileChanged),warnTimeout:0,validate:function(e,t,n){e.getState;var a=e.action;e.fassets;a.user.pool!==ar.pool?t(a):n(a)},process:function(e,t,n){var a=e.getState,r=e.action,o=e.fassets;ar.wrapUp(),ar={pool:r.user.pool,wrapUp:function(){n()}},o.eateryService.monitorDbEateryPool(r.user.pool,o.sel.getLocation(a()),function(e){t(nr.dbPool.changed(e))})}})}),lr=Object(c.expandWithFassets)(function(e){return Object(b.b)({name:"".concat(Ga,".closeDbPool"),type:String(e.actions.signOut),process:function(e,t,n){e.getState,e.action,e.fassets;ar.wrapUp(),ar={pool:null,wrapUp:function(){return"no-op"}},n()}})}),ur=Object(b.b)({name:"".concat(Ga,".defaultFilter"),type:String(nr.filterForm.open),transform:function(e,t){var n=e.getState,a=e.action;e.fassets;a.domain||(a.domain=Qa(n())),t(a)}}),mr=Object(b.b)({name:"".concat(Ga,".processFilter"),type:String(nr.filterForm.process),process:function(e,t,n){e.getState,e.action;t(e.fassets.actions.changeView(Ga)),t(nr.filterForm.close()),n()}}),dr=Object(b.b)({name:"".concat(Ga,".spin"),type:String(nr.spin),transform:function(e,t,n){var a=e.getState,r=e.action,o=(e.fassets,a()),i=$a(o);r.spinMsg="... selecting your eatery from ".concat(i.length," entries!"),t(r)},process:function(e,t,n){var a=e.getState;e.action,e.fassets;setTimeout(function(){var e=a(),r=$a(e),o=Math.ceil(0),i=Math.floor(r.length),c=r[Math.floor(Math.random()*(i-o))+o].id;t(nr.spin.complete(c)),n()},1200)}}),pr=Object(b.b)({name:"".concat(Ga,".spinComplete"),type:String(nr.spin.complete),process:function(e,t,n){e.getState;var a=e.action;e.fassets;t(nr.viewDetail(a.eateryId)),n()}}),fr=Object(b.b)({name:"".concat(Ga,".addToPoolPrep"),type:String(nr.dbPool.add),process:function(e,t,n){e.getState;var a=e.action;e.fassets.discoveryService.fetchEateryDetail(a.eateryId).then(function(e){t(nr.dbPool.add.eateryDetail(e)),n()}).catch(function(e){t(nr.dbPool.add.eateryDetail.fail(a.eateryId,e)),n()})}}),gr=Object(b.b)({name:"".concat(Ga,".addToPool"),type:String(nr.dbPool.add.eateryDetail),transform:function(e,t,n){e.getState;var a=e.action;e.fassets.eateryService.addEatery(a.eatery).catch(function(e){ce({err:e})}),t(a)}}),hr=Object(b.b)({name:"".concat(Ga,".removeFromPool"),type:String(nr.dbPool.remove),transform:function(e,t,n){e.getState;var a=e.action;e.fassets.eateryService.removeEatery(a.eateryId).catch(function(e){ce({err:e})}),t(a)}}),br=Object(c.expandWithFassets)(function(e){return[ir(e),cr(e),sr(e),lr(e)].concat(Object(L.a)(tr.registrar.formLogic()),[ur,mr,dr,pr,fr,gr,hr])}),vr=n(368),wr=n.n(vr),Or=n(367),Er=n.n(Or),Ir=n(204),yr=n.n(Ir),Sr=n(366),jr=n.n(Sr),Rr=n(364),Ar=n.n(Rr),Cr=n(365),Nr=n.n(Cr),Ur=n(201),xr=n.n(Ur);var kr=Object(B.withStyles)(function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},bottomBar:{color:e.palette.common.white,backgroundColor:e.palette.primary.main}}})(function(e){var t=e.eatery,n=e.fullScreen,o=e.classes,i=Object(c.useFassets)(),s=Object(Te.useSelector)(function(e){return i.sel.curUser(e)},[i]),l=Object(Te.useDispatch)(),u=Object(a.useCallback)(function(){return l(nr.viewDetail.close())},[]),m=Object(a.useCallback)(function(){return l(nr.spin())},[]);return r.a.createElement(Be.a,{open:!0,onClose:u,fullScreen:n,TransitionComponent:mt},r.a.createElement(Xe.a,{disableTypography:!0,className:o.titleBar},r.a.createElement(ot.a,{className:o.title,variant:"h6",color:"inherit",noWrap:!0},"Eatery",r.a.createElement(ot.a,{color:"inherit",inline:!0,noWrap:!0},"\xa0(",s.pool,")")),r.a.createElement(Mt.a,{color:"inherit",onClick:u},r.a.createElement(Jn.a,null))),r.a.createElement(Ge.a,null,r.a.createElement($n.a,null,r.a.createElement(Kn.a,null,r.a.createElement(aa.a,{primary:r.a.createElement(ot.a,{variant:"h6"},t.name)})),r.a.createElement(Kn.a,null,r.a.createElement(ta.a,null,r.a.createElement(Ar.a,null)),r.a.createElement(aa.a,{primary:r.a.createElement(yr.a,{variant:"body1",href:t.navUrl,target:"_blank",color:"inherit",underline:"none"},t.addr)})),r.a.createElement(Kn.a,null,r.a.createElement(ta.a,null,r.a.createElement(Nr.a,null)),r.a.createElement(aa.a,{primary:r.a.createElement(yr.a,{variant:"body1",href:"tel:".concat(t.phone),color:"inherit",underline:"none"},t.phone)})),"not-in-search"!==t.website&&r.a.createElement(Kn.a,null,r.a.createElement(ta.a,null,r.a.createElement(jr.a,null)),r.a.createElement(aa.a,{primary:r.a.createElement(yr.a,{variant:"body1",href:t.website,target:"_blank",color:"inherit",underline:"none"},"Web Site")})))),r.a.createElement(Er.a,{className:o.bottomBar},r.a.createElement(Mt.a,{color:"inherit",onClick:m},r.a.createElement(xr.a,null),r.a.createElement(ot.a,{color:"inherit",variant:"subtitle1"},"\xa0\xa0Spin Again"))))}),Mr=Le()({breakpoint:"xs"})(kr);function Fr(e){e.classes;var t=Object(Te.useSelector)(function(e){return $a(e)},[]),n=Object(Te.useSelector)(function(e){return Qa(e)},[]),o=Object(Te.useSelector)(function(e){return Za(e)},[]),i=Object(Te.useSelector)(function(e){return Ka(e)},[]),c=Object(Te.useDispatch)(),s=Object(a.useCallback)(function(e){c(nr.viewDetail(e))},[]);if(!t)return r.a.createElement(At,{msg:"... waiting for pool entries"});var l=-1;return r.a.createElement(r.a.Fragment,null,r.a.createElement($n.a,null,function(){var e=[];return t.forEach(function(t){if("distance"===n.sortOrder&&t.distance!==l){l=t.distance;var a="".concat(l," mile").concat(1===l?"":"s"," (as the crow flies)");e.push(r.a.createElement(Kn.a,{key:"subheader".concat(l),dense:!0,button:!0,divider:!0},r.a.createElement(aa.a,{primary:a})))}e.push(r.a.createElement(Kn.a,{key:t.id,dense:!0,button:!0,divider:!0,onClick:function(){return s(t.id)}},r.a.createElement(ta.a,null,r.a.createElement(wr.a,null)),r.a.createElement(aa.a,{primary:r.a.createElement(ot.a,{variant:"h6",noWrap:!0},t.name,r.a.createElement(ot.a,{inline:!0,noWrap:!0},"\xa0(","".concat(t.distance," mile").concat(1===l?"":"s"),")")),secondary:r.a.createElement(ot.a,{variant:"subtitle1",noWrap:!0},t.addr)})))}),e}()),i&&r.a.createElement(At,{msg:i}),o&&r.a.createElement(Mr,{eatery:o}))}function Tr(e){var t=e.children;return r.a.createElement($e.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},t)}var Pr=Object(B.withStyles)(function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},entry:{margin:"30px 0px"},icon:{marginRight:e.spacing.unit},inProgress:{margin:4*e.spacing.unit}}})(function(e){var t=e.fullScreen,n=e.classes,a=Object(Te.useDispatch)(),o=Object(Te.useSelector)(function(e){return tr.formStateSelector(e)},[]),i=tr.IForm(o,a),c=i.getLabel(),s=i.inProcess(),l={fieldName:"sortOrder",iForm:i},u=i.getMsg();return r.a.createElement(Be.a,{open:!0,onClose:i.handleClose,fullScreen:t,TransitionComponent:ut},r.a.createElement("form",{onSubmit:i.handleProcess},r.a.createElement(Xe.a,{disableTypography:!0,className:n.titleBar},r.a.createElement(ot.a,{className:n.title,variant:"h6",color:"inherit",noWrap:!0},c),r.a.createElement(Mt.a,{color:"inherit",onClick:i.handleClose},r.a.createElement(Jn.a,null))),r.a.createElement(Ge.a,null,r.a.createElement(He.a,{className:n.entry},"filter your pool with these settings ..."),r.a.createElement("div",{className:n.entry},r.a.createElement(bt,{fieldName:"distance",iForm:i,autoFocus:!0,type:"number",helperText:"prune entries within this distance (leave blank to view entire pool)"})),r.a.createElement("div",{className:n.entry},r.a.createElement(Dn,Object.assign({},l,{row:!0,helperText:"sort entries by Restaurant (name) or Distance"}),r.a.createElement(Dn.Op,Object.assign({value:"name",label:"Restaurant"},l)),r.a.createElement(Dn.Op,Object.assign({value:"distance",label:"Distance"},l)))),r.a.createElement("div",{className:n.entry},r.a.createElement(Tr,null,r.a.createElement(G.a,{type:"submit",variant:"contained",color:"primary"},r.a.createElement(Vn.a,{className:n.icon}),"Filter Pool"))),u&&r.a.createElement("div",{className:n.entry},r.a.createElement(wt.a,{error:!0},u)),s&&r.a.createElement("div",{className:n.entry},r.a.createElement(Et.a,{className:n.inProgress,color:"secondary"})))))}),Lr=Le()({breakpoint:"xs"})(Pr),Dr=[Object(u.featureRoute)({priority:u.PRIORITY.HIGH,content:function(e){e.fassets;if(function(e){return!!za(e).listView.filterForm}(e.appState))return r.a.createElement(Lr,null)}}),Object(u.featureRoute)({content:function(e){var t=e.fassets,n=e.appState;return t.sel.curView(n)!==Ga?null:r.a.createElement(Fr,null)}})],Yr=n(369),Jr=n.n(Yr);var Wr,Vr=Hn()(function(e){return{major:{color:e.palette.grey.A200},minor:{color:e.palette.primary.dark}}})(function(e){var t=e.classes,n=Object(c.useFassets)(),o=Object(Te.useDispatch)(),i=Object(a.useCallback)(function(){return o(n.actions.changeView(Ga))},[n]),s=Object(a.useCallback)(function(){return o(nr.filterForm.open())},[n]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Kn.a,{button:!0,onClick:i},r.a.createElement(ta.a,{className:t.major},r.a.createElement(Jr.a,null)),r.a.createElement(aa.a,{primaryTypographyProps:{className:t.major},primary:"Pool"}),r.a.createElement(ga.a,{onClick:s},r.a.createElement(ta.a,null,r.a.createElement(Mt.a,{className:t.minor},r.a.createElement(ca.a,null))))),r.a.createElement(pa.a,null))});var Br=Object(c.createFeature)({name:Ga,fassets:{define:{"actions.addEatery":nr.dbPool.add,"actions.removeEatery":nr.dbPool.remove,"sel.getEateryDbPool":Xa},defineUse:(Wr={},Object(m.a)(Wr,"AppMotif.LeftNavItem.cc4_".concat(Ga),Vr),Object(m.a)(Wr,"AppMotif.auxViewContent.".concat(Ga),{TitleComp:function(){var e=Object(c.useFassets)(),t=Object(Te.useSelector)(function(t){return e.sel.curUser(t)},[e]),n=Object(Te.useSelector)(function(e){return Qa(e)},[]);return r.a.createElement(ot.a,{variant:"h6",color:"inherit",noWrap:!0},"Pool",r.a.createElement(ot.a,{color:"inherit",inline:!0,noWrap:!0},"\xa0(",t.pool,")"),n.distance&&r.a.createElement(ot.a,{color:"inherit",noWrap:!0},"... within ",n.distance," mile",1===n.distance?"":"s"))},FooterComp:function(){var e=Object(Te.useDispatch)(),t=Object(a.useCallback)(function(){return e(nr.spin())},[]);return r.a.createElement($e.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(ot.a,null,"\xa0"),r.a.createElement(Mt.a,{color:"inherit",onClick:t},r.a.createElement(xr.a,null),r.a.createElement(ot.a,{color:"inherit",variant:"subtitle1"},"\xa0\xa0Spin")),r.a.createElement(wa.a,{title:"powered by Google Firebase"},r.a.createElement("img",{width:"50px",src:"/firebaseLogo.png",alt:""})))}}),Wr)},reducer:Ha,logic:br,route:Dr,appDidStart:function(e){var t=e.fassets;e.appState;(0,e.dispatch)(t.actions.changeView(Ga))}}),qr=Object(c.createFeature)({name:"eateryService",fassets:{use:[["eateryService",{required:!0,type:function(e){return e instanceof Fa?null:"object of type EateryServiceAPI, NOT: "+e}}]]}});var Gr=function(e){function t(){var e,n;Object(C.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).curPoolMonitor={pool:null,dbRef:null,wrapUp:function(){return"no-op"}},n}return Object(J.a)(t,e),Object(N.a)(t,[{key:"monitorDbEateryPool",value:function(e,t,n){this.curPoolMonitor.wrapUp(),this.curPoolMonitor={pool:e,dbRef:zt.a.database().ref("/pools/".concat(e)),wrapUp:function(){this.dbRef.off("value")}},this.curPoolMonitor.dbRef.on("value",function(e){var a=null!==e.val()?e.val():{};for(var r in a){var o=a[r];o.distance=Ma()([o.loc.lat,o.loc.lng],[t.lat,t.lng])}n(a)})}},{key:"addEatery",value:function(e){var t=this;return new Promise(function(n,a){if(!t.curPoolMonitor.pool)return a(new Error("***ERROR*** (within app logic) EateryServiceFirebase.addEatery(): may only be called once a successful monitorDbEateryPool() has completed.").defineAttemptingToMsg("add an Eatery to the DB"));zt.a.database().ref("/pools/".concat(t.curPoolMonitor.pool,"/").concat(e.id)).set(e).then(function(){}).catch(function(n){return a(n.defineAttemptingToMsg("add eatery (".concat(e.id,") to pool ").concat(t.curPoolMonitor.pool)))})})}},{key:"removeEatery",value:function(e){var t=this;return new Promise(function(n,a){if(!t.curPoolMonitor.pool)return a(new Error("***ERROR*** (within app logic) EateryServiceFirebase.removeEatery(): may only be called once a successful monitorDbEateryPool() has completed.").defineAttemptingToMsg("remove an Eatery from the DB"));zt.a.database().ref("/pools/".concat(t.curPoolMonitor.pool,"/").concat(e)).set(null).then(function(){}).catch(function(n){return a(n.defineAttemptingToMsg("remove eatery (".concat(e,") from pool ").concat(t.curPoolMonitor.pool)))})})}}]),t}(Fa),_r=Object(c.createFeature)({name:"eateryServiceFirebase",enabled:_t.useWIFI,fassets:{defineUse:{eateryService:new Gr}}}),Hr=Object(c.createFeature)({name:"eateryServiceMock",enabled:!_t.useWIFI,fassets:{defineUse:{eateryService:new Ta}}}),zr=Object(c.createFeature)({name:"initFirebase",enabled:_t.useWIFI,appWillStart:function(e){e.fassets,e.curRootAppElm;var t=de("afesab2JqMnN0cjp7ImFwaUtleSI6IkFJemFTeUNmak8xc29QMUE5OEtWeWxDYnJELXUzZE5UbHVlZ2EzRSIsImF1dGhEb21haW4iOiJlYXRlcnktbm9kLmZpcmViYXNlYXBwLmNvbSIsImRhdGFiYXNlVVJMIjoiaHR0cHM6Ly9lYXRlcnktbm9kLmZpcmViYXNlaW8uY29tIiwicHJvamVjdElkIjoiZWF0ZXJ5LW5vZCIsInN0b3JhZ2VCdWNrZXQiOiJlYXRlcnktbm9kLmFwcHNwb3QuY29tIiwibWVzc2FnaW5nU2VuZGVySWQiOiIxMjM2ODc4NDM3MzYifQ==");zt.a.initializeApp(t)}}),Xr=Object(c.createFeature)({name:"initGooglePlaces",enabled:_t.useWIFI,appWillStart:function(e){e.fassets,e.curRootAppElm;var t=de("afesaQUl6YVN5RHZiNlBiXzV0RjVHN01jNTQ1QnFiQ1g4SmtXWk9LQlVz"),n=document.createElement("script");n.type="text/javascript",n.src="https://maps.googleapis.com/maps/api/js?key=".concat(t,"&libraries=places"),document.body.appendChild(n)}}),Qr=d.generateActions.root(Object(m.a)({},"baseUI",{toggleUITheme:{actionMeta:{}},changeView:{actionMeta:{traits:["viewName"]}}}));var $r="uiTheme",Zr=Object(s.slicedReducer)("baseUI",Object(c.expandWithFassets)(function(e){var t;return Object(R.combineReducers)({uiTheme:Object(h.reducerHash)(Object(m.a)({},Qr.toggleUITheme,function(e,t){return"dark"===e?"light":"dark"}),he($r)),curView:Object(h.reducerHash)((t={},Object(m.a)(t,Qr.changeView,function(e,t){return t.viewName}),Object(m.a)(t,e.actions.signOut,function(e,t){return"eateries"}),t),"uninitialized")})})),Kr=Zr,eo=function(e){return Zr.getSlicedState(e)},to=function(e){return eo(e).uiTheme||"light"},no=[Object(b.b)({name:"".concat("baseUI",".persistUITheme"),type:String(Qr.toggleUITheme),process:function(e,t,n){var a,r=e.getState;e.action,e.fassets;a=to(r()),ge($r,a),n()}})],ao=n(372),ro=n.n(ao),oo=n(150),io=n.n(oo),co=n(370),so=n.n(co),lo=n(151),uo=n.n(lo);var mo=Hn()(function(e){return{leftNav:{width:250}}})(function(e){var t=e.classes,n=r.a.useState(!1),o=Object(xt.a)(n,2),i=o[0],s=o[1];fo=Object(a.useCallback)(function(){return s(!0)},[]);var l=Object(a.useCallback)(function(){return s(!1)},[]),u=Object(c.useFassets)("AppMotif.LeftNavItem.*@withKeys"),m=Object(a.useMemo)(function(){return Object(L.a)(u).sort(function(e,t){var n=Object(xt.a)(e,1)[0],a=Object(xt.a)(t,1)[0];return n.localeCompare(a)})},[u]);return r.a.createElement(so.a,{open:i,onClose:l},r.a.createElement("div",{className:t.leftNav,onClick:l,onKeyDown:l},r.a.createElement(io.a,{position:"static"},r.a.createElement(uo.a,null,r.a.createElement(ot.a,{variant:"h6",color:"inherit"},"Select a view"))),r.a.createElement($n.a,null,m.map(function(e){var t=Object(xt.a)(e,2),n=t[0],a=t[1];return r.a.createElement(a,{key:n})}))))});function po(){fo&&fo()}var fo=null,go=n(371),ho=n.n(go);var bo=Hn()(function(e){return{app:{display:"flex"},appBar:{},bottomBar:{top:"auto",bottom:0},toolbar:{},menuButton:{marginRight:36},title:{flexGrow:1},content:{flexGrow:1,height:"100vh",overflow:"auto",paddingTop:"4em",paddingBottom:"4em"}}})(function(e){var t=e.classes,n=e.children,o=Object(c.useFassets)(),i=Object(Te.useSelector)(function(e){return o.sel.curUser(e)},[o]),s=Object(Te.useSelector)(function(e){return o.sel.curView(e)},[o]),l=o.get("AppMotif.auxViewContent.*@withKeys"),u=Object(a.useMemo)(function(){return function(e,t){var n="AppMotif.auxViewContent.".concat(e),a=t.find(function(e){var t=Object(xt.a)(e,1),a=t[0];return a===n})||vo;return Object(xt.a)(a,2)[1]}(s,l)},[s,l]),m=u.TitleComp,d=u.FooterComp;return i.isUserSignedIn()?r.a.createElement("div",{className:t.app},r.a.createElement(io.a,{className:t.appBar,position:"absolute"},r.a.createElement(uo.a,{className:t.toolbar,disableGutters:!1},r.a.createElement(Mt.a,{className:t.menuButton,color:"inherit",onClick:po},r.a.createElement(ho.a,null)),r.a.createElement("div",{className:t.title},r.a.createElement(m,null)),r.a.createElement(Dt,{curUser:i}))),r.a.createElement(mo,null),r.a.createElement("main",{className:t.content},n),d&&r.a.createElement(io.a,{className:t.bottomBar,position:"absolute"},r.a.createElement(uo.a,{className:t.toolbar,disableGutters:!1},r.a.createElement(d,null)))):r.a.createElement(r.a.Fragment,null,n)});var vo=["AppMotif.auxViewContent.FALLBACK",{TitleComp:function(){return r.a.createElement(ot.a,{variant:"h6",color:"inherit",noWrap:!0},"App Motif")}}],wo=Object(B.createMuiTheme)({typography:{useNextVariants:!0},palette:{type:"light"}}),Oo=Object(B.createMuiTheme)({typography:{useNextVariants:!0},palette:{type:"dark"}});var Eo=Hn()(function(e){return{main:{width:"auto",display:"block"}}})(function(e){var t=e.classes,n=e.children,o=Object(Te.useSelector)(function(e){return to(e)},[]),i=Object(a.useMemo)(function(){return"dark"===o?Oo:wo},[o]);return r.a.createElement(B.MuiThemeProvider,{theme:i},r.a.createElement(ro.a,null),r.a.createElement(_,null),r.a.createElement("main",{className:t.main},r.a.createElement(bo,null,n)))}),Io=n(375),yo=n.n(Io),So=n(373),jo=n.n(So),Ro=n(374),Ao=n.n(Ro);function Co(){var e="https://github.com/KevinAst/eatery-nod-w/blob/master/README.md",t="https://github.com/KevinAst/eatery-nod-w/blob/master/README.md#revision-history",n="".concat("eatery-nod-w","\n\n").concat("A Date Night Restaurant Selector","\n\nversion: ").concat("2.0.0"),a=[];a.push({txt:"Docs",action:function(){return window.open(e,"_blank")}}),a.push({txt:"History",action:function(){return window.open(t,"_blank")}}),a.push({txt:"Close"}),ae.success({msg:n,actions:a})}var No=Object(c.createFeature)({name:"baseUI",fassets:{define:{"actions.changeView":Qr.changeView,"sel.curView":function(e){return eo(e).curView}},defineUse:{"AppMotif.UserMenuItem.aa2_UIThemeToggle":function(){var e=Object(Te.useSelector)(function(e){return to(e)},[]),t=Object(a.useMemo)(function(){return"light"===e?jo.a:Ao.a},[e]),n=Object(a.useMemo)(function(){return"light"===e?"to dark":"to light"},[e]),o=Object(Te.useDispatch)(),i=Object(a.useCallback)(function(){return o(Qr.toggleUITheme())},[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Wt,{onClick:i},r.a.createElement(yo.a,{label:n,icon:r.a.createElement(t,null)})),r.a.createElement(pa.a,null))},"AppMotif.UserMenuItem.zz8_About":function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(pa.a,null),r.a.createElement(Wt,{onClick:Co},"About ..."))}},use:[["AppMotif.UserMenuItem.*",{required:!0,type:c.fassetValidations.comp}],["AppMotif.LeftNavItem.*",{required:!0,type:c.fassetValidations.comp}],["AppMotif.auxViewContent.*",{required:!1,type:c.fassetValidations.any}]]},reducer:Kr,logic:no,appWillStart:function(e){e.fassets;var t=e.curRootAppElm;return r.a.createElement(Eo,null,t)}}),Uo=d.generateActions.root(Object(m.a)({},"location",{setLocation:{actionMeta:{traits:["loc"]}}})),xo=Object(s.slicedReducer)("location",Object(c.expandWithFassets)(function(e){var t;return Object(h.reducerHash)((t={},Object(m.a)(t,Uo.setLocation,function(e,t){return t.loc}),Object(m.a)(t,e.actions.signIn.complete,function(e,t){return t.user.guestLoc||e}),Object(m.a)(t,e.actions.signOut,function(e,t){return t.user.originalLoc}),t),null)})),ko=xo,Mo=_t.mockGPS?function(){var e={lat:38.752209,lng:-89.98661},t=_t.mockGPS.lat?_t.mockGPS:e;return new Promise(function(e,n){return e(t)})}:function(){return new Promise(function(e,t){if(!("geolocation"in navigator))return t(new Error("geolocation is NOT available in this browser"));navigator.geolocation.getCurrentPosition(function(t){return e({lat:t.coords.latitude,lng:t.coords.longitude})},function(e){var n=new Error(e.message);return n.code=e.code,n.PERMISSION_DENIED=e.PERMISSION_DENIED,n.POSITION_UNAVAILABLE=e.POSITION_UNAVAILABLE,n.TIMEOUT=e.TIMEOUT,t(n)},{enableHighAccuracy:!0})})};var Fo=Object(c.createFeature)({name:"location",reducer:ko,fassets:{defineUse:{"bootstrap.location":function(e,t){var n=S.prefix("createBootstrapFn() parameter violation: ");return n(e,"what is required"),n(E()(e),"what must be a string"),n(t,"fn is required"),n(y()(t),"fn must be a function"),t.bootstrapWhat=e,t}("Waiting for GPS Location",function(e){var t=e.dispatch;e.fassets;return Mo().then(function(e){t(Uo.setLocation(e))}).catch(function(e){throw t(Uo.setLocation({lat:38.752209,lng:-89.98661})),e.defineUserMsg("Unable to get your GPS location (".concat(e.message,") ... falling back to our base location (Glen Carbon)"))})})},define:{"sel.getLocation":function(e){return xo.getSlicedState(e)}}}}),To=null,Po=[Object(b.b)({name:"".concat("logActions",".actionLogger"),type:"*",transform:function(e,t){e.getState;var n=e.action;"verbose"===_t.log&&console.group("Action: ".concat(n.type)),console.log("Dispatched Action: ",n),t(n)},process:function(e,t,n){var a=e.getState;e.action,e.fassets;if("verbose"===_t.log){var r=a();r===To?console.log("Current State: UNCHANGED"):console.log("Current State: ",r),To=r,console.groupEnd()}n()}})],Lo=Object(c.createFeature)({name:"logActions",enabled:!!_t.log,logic:Po});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Do=Object(c.createFeature)({name:"pwa",appDidStart:function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}}),Yo=n(376),Jo=n.n(Yo);var Wo=function(e,t){return r.a.createElement(Kn.a,{button:!0,onClick:t},r.a.createElement(ta.a,null,r.a.createElement(Jo.a,null)),r.a.createElement(aa.a,{primary:e}))},Vo=Object(c.createFeature)({name:"sandbox",enabled:_t.sandbox,fassets:{defineUse:{"AppMotif.LeftNavItem.zz5_sandbox":function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(pa.a,null),r.a.createElement(Kn.a,null,r.a.createElement(aa.a,{primary:"sandbox toasts ... "})),Wo("success",function(){return te.success({msg:"success toast"})}),Wo("info",function(){return te.info({msg:"info toast"})}),Wo("warn",function(){return te.warn({msg:"warn toast"})}),Wo("error",function(){return te.error({msg:"error toast",actions:[{txt:"OK"},{txt:"WowZee",action:function(){return te.success({msg:"WowZee: error toast CB"})}},{txt:"WooWoo",action:function(){return te.success({msg:"WooWoo: error toast CB"})}}]})}),r.a.createElement(pa.a,null),r.a.createElement(Kn.a,null,r.a.createElement(aa.a,{primary:"sandbox alerts ... "})),Wo("success",function(){return ae.success({msg:"success alert"})}),Wo("info",function(){return ae.info({msg:"info alert"})}),Wo("warn",function(){return ae.warn({msg:"warn alert"})}),Wo("error",function(){return ae.error({msg:"error alert",actions:[{txt:"OK"},{txt:"WowZee",action:function(){return ae.success({msg:"WowZee: error alert CB"})}},{txt:"WooWoo",action:function(){return ae.success({msg:"WooWoo: error alert CB"})}}]})}),r.a.createElement(pa.a,null),r.a.createElement(Kn.a,null,r.a.createElement(aa.a,{primary:"sandbox confirms ... "})),Wo("success",function(){return oe.success({msg:"success confirm",actions:[{txt:"Okey Dokey"}]})}),Wo("info",function(){return oe.info({msg:"info confirm",actions:[{txt:"Okey Dokey"}]})}),Wo("warn",function(){return oe.warn({msg:"warn confirm",actions:[{txt:"Okey Dokey"}]})}),Wo("error",function(){return oe.error({msg:"error confirm",actions:[{txt:"Okey Dokey"}]})}),r.a.createElement(pa.a,null),r.a.createElement(Kn.a,null,r.a.createElement(aa.a,{primary:"sandbox raw notifies ... "})),Wo("notify",function(){return K({msg:"my notify\nNow is the time for every good man to come to the aid of his country ... I really hope this works for a really long line\nnext next line",position:"top-center",duration:null,actions:[{txt:"OK"},{txt:"WowZee",action:function(){return te.success({msg:"WowZee: notify CB"})}},{txt:"WooWoo",action:function(){return te.success({msg:"WooWoo: notify CB"})}}]})}))}}}}),Bo=[Br,qr,_r,Hr,Oa,Ia,xa,qa,No,Bt,Gt,Qt,Zt,cn,zr,Xr,Fo,Do,Lo,Vo],qo=n(377),Go=n.n(qo);function _o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue;return console.log("***DIAGNOSTIC*** ".concat(e)),t()}function Ho(e,t){return null}var zo=_o;zo.skip=Ho;var Xo=n(255);function Qo(e,t,n){zo.skip("feature-redux plugin: test PUBLIC allowNoReducers$",function(){!function(){function t(){Bo.forEach(function(e){e.reducer&&delete e.reducer})}zo("test_allowNoReducers$() test PUBLIC allowNoReducers$ ... disable feature-u logging, so as to see forced logs",function(){c.launchApp.diag.logf.disable()}),zo.skip("test_allowNoReducers$() 1st: insure allowNoReducers$ is NOT referenced when our features HAVE reducers ... should run normally",function(){e.config.allowNoReducers$=function(e){return"MY REDUCER"}}),zo.skip("test_allowNoReducers$() 2nd: test DEFAULT EXCEPTION ... when our features HAVE NO reducers ... expecting: thrown exception",function(){t()}),zo.skip("test_allowNoReducers$() 3rd: test allowNoReducers$ = true ... when our features HAVE NO reducers ... expecting: forced log",function(){t(),e.config.allowNoReducers$=!0}),zo.skip("test_allowNoReducers$() 4th: test allowNoReducers$ = reducerFn ... when our features HAVE NO reducers ... expecting: forced log",function(){t(),e.config.allowNoReducers$=function(e){return"MY REDUCER"}})}()}),zo.skip("feature-redux plugin: test HIDDEN createReduxStore$",function(){e.config.createReduxStore$=function(e,t){return console.log("OVERRIDING createReduxStore$ ... LOOK FOR THIS LOG"),0===t.length?Object(R.createStore)(e):Object(R.createStore)(e,Object(R.compose)(R.applyMiddleware.apply(void 0,Object(L.a)(t))))}}),zo.skip("feature-redux-logic plugin: test PUBLIC allowNoLogic$",function(){!function(){function e(){Bo.forEach(function(e){e.logic&&delete e.logic})}zo("test_allowNoLogic$() test PUBLIC allowNoLogic$ ... disable feature-u logging, so as to see forced logs",function(){c.launchApp.diag.logf.disable()}),zo.skip("test_allowNoLogic$() 1st: insure allowNoLogic$ is NOT referenced when our features HAVE logic ... should run normally",function(){t.config.allowNoLogic$=["simulatedLogicNotSoWell"]}),zo.skip("test_allowNoLogic$() 2nd: test DEFAULT EXCEPTION ... when our features HAVE NO logic ... expecting: thrown exception",function(){e()}),zo.skip("test_allowNoLogic$() 3rd: test allowNoLogic$ = true ... when our features HAVE NO logic ... expecting: forced log",function(){e(),t.config.allowNoLogic$=!0}),zo.skip("test_allowNoLogic$() 4th: test allowNoLogic$ = [myLogic] ... when our features HAVE NO logic ... expecting: forced log",function(){e(),t.config.allowNoLogic$=["simulatedLogicNotSoWell"]})}()}),zo.skip("feature-redux-logic plugin: test HIDDEN createLogicMiddleware$",function(){t.config.createLogicMiddleware$=function(e,t){return console.log("OVERRIDING createLogicMiddleware$ ... LOOK FOR THIS LOG"),Object(Xo.a)(t,{app:e})}}),zo.skip("feature-router plugin: test PUBLIC allowNoRoutes$",function(){!function(){function e(){Bo.forEach(function(e){e.route&&delete e.route})}zo("test_allowNoRoutes$() test PUBLIC allowNoRoutes$ ... disable feature-u logging, so as to see forced logs",function(){c.launchApp.diag.logf.disable()});var t=Object(u.featureRoute)({priority:u.PRIORITY.HIGH,content:function(e){e.app,e.appState;return r.a.createElement(At,{msg:"KOOL: This is a route supplied by routeAspect.config.allowNoRoutes$ !!!"})}});zo.skip("test_allowNoRoutes$() 1st: insure allowNoRoutes$ is NOT referenced when our features HAVE routes ... should run normally",function(){n.config.allowNoRoutes$=[t]}),zo.skip("test_allowNoRoutes$() 2nd: test DEFAULT EXCEPTION ... when our features HAVE NO routes ... expecting: thrown exception",function(){e()}),zo.skip("test_allowNoRoutes$() 3rd: test allowNoRoutes$ = true ... when our features HAVE NO routes ... expecting: forced log",function(){e(),n.config.allowNoRoutes$=!0}),zo.skip("test_allowNoRoutes$() 4th: test allowNoRoutes$ = [routes] ... when our features HAVE NO routes ... expecting: forced log",function(){e(),n.config.allowNoRoutes$=[t]})}()}),zo.skip("TEST ability to rename Aspect.name (on various plugin projects)",function(){zo("test_renameAspectName() TEST ability to rename Aspect.name ... enable feature-u logging, so as to see the fun",function(){c.launchApp.diag.logf.enable()}),zo("test_renameAspectName() RENAME Aspect.name:reducer TO: Aspect.name:reducerX",function(){e.name="reducerX",Bo.forEach(function(e){e.reducer&&(e.reducerX=e.reducer,delete e.reducer)})}),zo("test_renameAspectName() RENAME Aspect.name:logic TO: Aspect.name:logicX",function(){t.name="logicX",Bo.forEach(function(e){e.logic&&(e.logicX=e.logic,delete e.logic)})}),zo("test_renameAspectName() RENAME Aspect.name:route TO: Aspect.name:routeX",function(){n.name="routeX",Bo.forEach(function(e){e.route&&(e.routeX=e.route,delete e.route)})})})}var $o=Object(c.launchApp)({aspects:function(){var e=Object(s.createReducerAspect)(),t=Object(l.createLogicAspect)(),n=Object(u.createRouteAspect)(),a=[e,t,n];return n.config.fallbackElm$=r.a.createElement(At,{msg:"I'm trying to think but it hurts!"}),function(e,t,n){zo.skip('enable eatery-nod "sandbox" feature (in left-nav)',function(){Vo.enabled=!0}),zo.skip('enable eatery-nod "logActions" feature',function(){Lo.enabled=!0}),zo.skip("enable feature-u logging",function(){c.launchApp.diag.logf.enable()}),zo.skip("show feature-u react elms as object blobs",function(){c.launchApp.diag.logf.elm2html=function(e){return e}}),zo.skip("show feature-u react elms as html markup",function(){c.launchApp.diag.logf.elm2html=function(e){return Go.a.renderToStaticMarkup(e)}}),zo.skip("perform feature-u integration tests",function(){Qo(e,t,n)})}(e,t,n),a}(),features:Bo,registerRootAppElm:function(e){i.a.render(e,document.getElementById("root"))}});n.d(t,"default",function(){return $o})}},[[378,1,2]]]);
//# sourceMappingURL=main.b3d6de7b.chunk.js.map