(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{368:function(e,t,n){e.exports=n(605)},369:function(e,t){if(!Error.prototype.defineUserMsg){Error.prototype.defineUserMsg=function(e){return this.userMsg=e,this.expected=!0,this},Error.prototype.userMsg="Unexpected Condition",Error.prototype.isExpected=function(){return this.expected},Error.prototype.expected=!1,Error.prototype.isUnexpected=function(){return!this.expected},Error.prototype.defineAttemptingToMsg=function(e){return this.attemptingToMsg?this.attemptingToMsg+=", -and- ".concat(e):this.attemptingToMsg+=" ... attempting to: ".concat(e),this},Error.prototype.attemptingToMsg="",Error.prototype.formatUserMsg=function(){return this.userMsg+this.attemptingToMsg};var n=Error.prototype.toString;Error.prototype.toString=function(){return n.call(this)+"\n\nUser Msg: "+this.formatUserMsg()}}},605:function(e,t,n){"use strict";n.r(t);n(369);var a=n(0),r=n.n(a),o=n(16),i=n.n(o),c=n(5),s=n(43),l=n(333),u=n(36),m=n(7),d=n(55),p=n(51),f=n(42),g=n(28),h=n(26),b=n(152),v=n(334),O=n.n(v),E=n(20),w=n.n(E),y=n(22),I=n.n(y);function S(e,t){if(!e)throw new Error(t)}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.formDesc,n=e.formSchema,a=e.formActionsAccessor,r=e.formStateSelector,o=e.mapDomain2Form,i=e.mapForm2Domain,c=Object(g.a)(e,["formDesc","formSchema","formActionsAccessor","formStateSelector","mapDomain2Form","mapForm2Domain"]),s=S.prefix("IFormMeta() parameter violation: ");s(t,"formDesc is required"),s(w()(t),"invalid formDesc (expecting a string)"),s(n,"formSchema is required"),s(n.validate,"invalid formSchema (expecting a Yup Schema)"),s(a,"formActionsAccessor is required"),s(I()(a),"invalid formActionsAccessor (expecting a function)"),s(r,"formStateSelector is required"),s(I()(r),"invalid formStateSelector (expecting a function)");var l=Object.keys(c);s(0===l.length,"unrecognized named parameter(s): ".concat(l));var u=Object.keys(n.fields),d=u.reduce(function(e,t){return e[t]=n.fields[t].describe().label||t,e},{FORM:t});o||(o=function(e){return u.reduce(function(t,n){return t[n]=e[n]||"",t[n]=t[n].toString(),t},{})}),s(I()(o),"invalid mapDomain2Form (expecting a function)"),i||(i=function(e){return e}),s(I()(i),"invalid mapForm2Domain (expecting a function)");var p={abortEarly:!1};function v(e){return n.validate(e,p).then(function(){return{}}).catch(function(e){var t={};return e.inner.forEach(function(e){t[e.path]=e.message}),t})}return{registrar:{formActionGenesis:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={open:{actionMeta:{traits:["domain","formMsg"],ratify:function(){return[arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null]}}},fieldChanged:{actionMeta:{traits:["fieldName","value"]}},fieldTouched:{actionMeta:{traits:["fieldName"]}},process:{actionMeta:{},reject:{actionMeta:{traits:["msgs"]}}},close:{actionMeta:{}}},n=S.prefix("IFormMeta.formActionGenesis(): invalid appInjectedFormActions parameter ... ");for(var a in e)n(!t[a],"".concat(a," action is reserved as one of the auto-generated iForm actions.")),t[a]=e[a];return t},formLogic:function(){var e=a();return[Object(b.b)({name:"validateFields for '".concat(t,"' form"),type:[String(e.fieldChanged),String(e.fieldTouched)],validate:function(t,n,a){var o=t.getState,i=t.action,c=(t.api,r(o()));c.inProcess?a():v(i.type===String(e.fieldChanged)?Object(f.a)({},c.values,Object(m.a)({},i.fieldName,i.value)):c.values).then(function(e){c.msgs.FORM&&(e.FORM=c.msgs.FORM),i.msgs=e,n(i)})}}),Object(b.b)({name:"process validation for '".concat(t,"' form"),type:String(e.process),validate:function(t,a,o){var c=t.getState,s=t.action,l=(t.api,r(c()));l.inProcess?o():v(l.values).then(function(t){if(Object.keys(t).length>0)t.FORM="Please resolve the highlighted issues, and try again.",a(e.process.reject(t));else{var r=n.cast(l.values),o=i(r);s.values=r,s.domain=o,a(s)}})}})]},formReducer:function(){var e,n=a();return Object(h.reducerHash)((e={},Object(m.a)(e,n.open,function(e,n){var a=n.domain?o(n.domain):u.reduce(function(e,t){return e[t]="",e},{}),r=u.sort(),i=Object.keys(a).sort();S(O()(r,i),"'".concat(t,"' form open reducer ... miss-matched field(s) introduced in app-supplied mapDomain2Form ... generated fields: ").concat(i," ... expected fields: ").concat(r));var c={};return n.formMsg&&(c.FORM=n.formMsg),{labels:d,values:a,msgs:c,validating:{},inProcess:!1}}),Object(m.a)(e,n.fieldChanged,function(e,t){var n=Object(f.a)({},e);return n.values=Object(f.a)({},e.values,Object(m.a)({},t.fieldName,t.value)),n.msgs=t.msgs,n}),Object(m.a)(e,n.fieldTouched,function(e,t){if(e.validating[t.fieldName])return e;var n=Object(f.a)({},e);return n.validating=Object(f.a)({},e.validating,Object(m.a)({},t.fieldName,!0)),n.msgs=t.msgs,n}),Object(m.a)(e,n.process,function(e,t){var n=Object(f.a)({},e);return n.inProcess=!0,n.validating=Object(f.a)({},e.validating,{FORM:!0}),n.msgs={},n}),Object(m.a)(e,n.process.reject,function(e,t){var n=Object(f.a)({},e);return n.validating=Object(f.a)({},e.validating,{FORM:!0}),n.msgs=t.msgs,n}),Object(m.a)(e,n.close,function(e,t){return null}),e),null)}},formStateSelector:r,IForm:function(e,n){var r=S.prefix("IFormMeta.IForm() parameter violation: ");r(e,"formState is required"),r(e.labels,"invalid formState - does NOT conform to the IForm state"),r(e.labels.FORM===t,"miss-matched formState - expecting ".concat(t," but received ").concat(e.labels.FORM)),r(n,"dispatch is required"),r(I()(n),"invalid dispatch (expecting a function)");var o=a();function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return e.validating.FORM||e.validating[t]}return{getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return e.labels[t]},getValue:function(t){return S(t||"FORM"!==t,"IFormMeta.IForm.getValue() unsupported fieldName: ".concat(t)),e.values[t]},isValid:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return"FORM"===t?0===Object.keys(e.msgs).length:!e.msgs[t]},getMsg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return e.msgs[t]},getExposedMsg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return i(t)?e.msgs[t]:null},isValidationExposed:i,inProcess:function(){return e.inProcess},handleFieldChanged:function(e,t){n(o.fieldChanged(e,t))},handleFieldTouched:function(e){n(o.fieldTouched(e))},handleProcess:function(e){n(o.process()),e&&e.preventDefault()},handleClose:function(){n(o.close())}}}}}S.prefix=function(e){return function(t,n){return S(t,e+n)}};var R=n(35),A=n(190),C=n(24),N=n(23),U=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,a=void 0===n?null:n,r=t.email,o=void 0===r?null:r,i=t.emailVerified,c=void 0!==i&&i,s=t.pool,l=void 0===s?null:s,u=t.guestLoc,m=void 0===u?null:u,d=t.originalLoc,p=void 0===d?null:d,f=Object(g.a)(t,["name","email","emailVerified","pool","guestLoc","originalLoc"]);Object(C.a)(this,e);var h=S.prefix("User() constructor parameter violation: "),b=Object.keys(f);h(0===b.length,"unrecognized named parameter(s): ".concat(b)),h(0===arguments.length||1===arguments.length,"unrecognized positional parameters (only named parameters can be specified)"),this.name=a,this.email=o,this.emailVerified=c,this.pool=l,this.guestLoc=m,this.originalLoc=p}return Object(N.a)(e,[{key:"isUserSignedOut",value:function(){return null===this.email}},{key:"isUserSignedIn",value:function(){return null!==this.email&&this.emailVerified}},{key:"isUserSignedInUnverified",value:function(){return null!==this.email&&!this.emailVerified}},{key:"getAuthStatus",value:function(){return this.email?this.emailVerified?"signedIn":"signedInUnverified":"signedOut"}},{key:"isGuest",value:function(){return!!this.guestLoc}},{key:"toStruct",value:function(){return{name:this.name,email:this.email,emailVerified:this.emailVerified,pool:this.pool,guestLoc:this.guestLoc,originalLoc:this.originalLoc}}},{key:"clone",value:function(){return new e(this.toStruct())}}]),e}(),x=Object(s.slicedReducer)("auth",Object(c.expandWithFassets)(function(e){var t;return Object(R.combineReducers)({user:Object(h.reducerHash)((t={},Object(m.a)(t,P.signIn.complete,function(e,t){return t.user.toStruct()}),Object(m.a)(t,P.signIn.checkEmailVerified,function(e,t){return t.user.toStruct()}),Object(m.a)(t,P.userProfileChanged,function(e,t){return t.user.toStruct()}),Object(m.a)(t,P.signOut,function(e,t){return(new U).toStruct()}),t),(new U).toStruct()),signInForm:F.registrar.formReducer()})})),k=x,M=function(e){return x.getSlicedState(e)},T=Object(A.a)(function(e){return M(e).user},function(e){return new U(e)}),F=j({formDesc:"Sign In",formSchema:p.object().shape({email:p.string().required().email().label("Email"),pass:p.string().required().min(6).max(9).label("Password")}),formActionsAccessor:function(){return P.signIn},formStateSelector:function(e){return function(e){return M(e).signInForm}(e)}}),P=d.generateActions.root(Object(m.a)({},"auth",{autoSignIn:{actionMeta:{},haveDeviceCredentials:{actionMeta:{traits:["credentials"]}},noDeviceCredentials:{actionMeta:{}}},signIn:F.registrar.formActionGenesis({actionMeta:{traits:["email","pass"]},complete:{actionMeta:{traits:["user"]}},checkEmailVerified:{actionMeta:{}},resendEmailVerification:{actionMeta:{}}}),signOut:{actionMeta:{}},userProfileChanged:{actionMeta:{traits:["user"]}}})),D=n(34),L=n(46),Y=n(44),J=n(47),W=n(59),V=n(257),B=n(253),q=n(653);function G(e){var t=_();return r.a.createElement(V.SnackbarProvider,{maxSnack:3,dense:!0,className:t.variantSuccess},r.a.createElement(K,null,e.children))}var _=Object(B.a)(function(e){return{variantSuccess:{whiteSpace:"pre-line"},variantInfo:{whiteSpace:"pre-line"},variantWarning:{whiteSpace:"pre-line"},variantError:{whiteSpace:"pre-line"}}}),H=null,z=function(e){function t(){var e,n;Object(C.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=Object(L.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r))),S(!H,"<Notify> only ONE Notify instance should be instantiated in the app (at the top-level)."),H=Object(W.a)(Object(W.a)(n)),n}return Object(J.a)(t,e),Object(N.a)(t,[{key:"display",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.msg,a=t.duration,o=void 0===a?5:a,i=t.level,c=void 0===i?"success":i,s=t.position,l=void 0===s?"bottom-left":s,u=t.modal,m=void 0!==u&&u,d=t.actions,p=void 0===d?[]:d,f=Object(g.a)(t,["msg","duration","level","position","modal","actions"]),h=S.prefix("notify() parameter violation: ");h(n,"directive.msg is required"),h(w()(n),"msg must be a string"),null!==o&&h(o>=1&&o<=20,"supplied duration (".concat(o,") must be a number between 1 and 20 (inclusive).")),h(X[c],"invalid level: '".concat(c,"', expecting one of ").concat(Object.keys(X),".")),h($[l],"invalid position: '".concat(l,"', expecting one of ").concat(Object.keys($),".")),h(!0===m||!1===m,"supplied modal (".concat(m,") must be a boolean true/false.")),h(p,"actions must be an Action[] array"),h(Array.isArray(p),"actions must be an Action[] array"),p.forEach(function(e,t){h(e.txt,"action[".concat(t,"].txt is required")),h(w()(e.txt),"action[".concat(t,"].txt be a string ... NOT: ").concat(e.txt)),e.action&&h(I()(e.action),"action[".concat(t,"].action (when supplied) must be a function ... NOT: ").concat(e.action))});var b=Object.keys(f);h(0===b.length,"unrecognized named parameter(s): ".concat(b));var v=o?1e3*o:null;o||0!==p.length||(p=[{txt:"OK"}]);var O=p.reduce(function(e,t){return e[t.txt]=t.action||Q,e},{}),E=p.map(function(e,t){return r.a.createElement(q.a,{key:t,color:"default",size:"small"},e.txt)}),y=this.props.enqueueSnackbar(n,{variant:X[c],autoHideDuration:v,anchorOrigin:$[l],action:E,onClickAction:function(t){e.props.closeSnackbar(y);var n=O[t.target.textContent];setTimeout(function(){return n()},400)}})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.children)}}]),t}(r.a.Component),X={success:"success",info:"info",warn:"warning",error:"error"},$={"top-left":{vertical:"top",horizontal:"left"},"top-center":{vertical:"top",horizontal:"center"},"top-right":{vertical:"top",horizontal:"right"},"bottom-left":{vertical:"bottom",horizontal:"left"},"bottom-center":{vertical:"bottom",horizontal:"center"},"bottom-right":{vertical:"bottom",horizontal:"right"}},Q=function(e){return e},K=Object(V.withSnackbar)(z);function Z(e){S(H,"notify(): NO <Notify> instance has been established in the app root."),H.display(e)}function ee(e,t){var n=e.msg,a=e.duration,r=void 0===a?5:a,o=e.actions,i=Object(g.a)(e,["msg","duration","actions"]),c=t?".".concat(t):"",s=S.prefix("toast".concat(c,"() parameter violation: "));s(n,"msg named parameter is required");var l=Object.keys(i);s(0===l.length,"unrecognized named parameter(s): ".concat(l)),Z({msg:n,duration:r,level:t,position:"bottom-left",modal:!1,actions:o})}function te(e){ee(e)}function ne(e,t){var n=e.msg,a=e.actions,r=Object(g.a)(e,["msg","actions"]),o=t?".".concat(t):"",i=S.prefix("alert".concat(o,"() parameter violation: "));i(n,"msg named parameter is required");var c=Object.keys(r);i(0===c.length,"unrecognized named parameter(s): ".concat(c)),Z({msg:n,duration:null,level:t,position:"top-center",modal:!0,actions:a})}function ae(e){ne(e)}function re(e,t){var n=e.msg,a=e.actions,r=Object(g.a)(e,["msg","actions"]),o=t?".".concat(t):"",i=S.prefix("confirm".concat(o,"() parameter violation: "));i(n,"msg named parameter is required"),i(a&&a.length>0,"client-specific actions are required.");var c=Object.keys(r);i(0===c.length,"unrecognized named parameter(s): ".concat(c)),Z({msg:n,duration:null,level:t,position:"top-right",modal:!0,actions:a})}function oe(e){re(e)}K.displayName="NotifyAPI_withSnackBar",te.success=function(e){ee(e,"success")},te.info=function(e){ee(e,"info")},te.warn=function(e){ee(e,"warn")},te.error=function(e){ee(e,"error")},ae.success=function(e){ne(e,"success")},ae.info=function(e){ne(e,"info")},ae.warn=function(e){ne(e,"warn")},ae.error=function(e){ne(e,"error")},oe.success=function(e){re(e,"success")},oe.info=function(e){re(e,"info")},oe.warn=function(e){re(e,"warn")},oe.error=function(e){re(e,"error")};var ie="DYNAMIC_DEFAULT";function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.err,n=e.showUser,a=void 0===n||n,r=e.logIt,o=void 0===r?ie:r,i=Object(g.a)(e,["err","showUser","logIt"]);try{var c=S.prefix("discloseError() parameter violation: ");c(t,"err is required"),c(t instanceof Error,"err must be an Error object, NOT: ",t),c(!0===(a=a===ie?t.isExpected():a)||!1===a,"showUser must be a boolean"),c(!0===(o=o===ie?t.isUnexpected():o)||!1===o,"logIt must be a boolean");var s=Object.keys(i);c(0===s.length,"unrecognized named parameter(s): ".concat(s)),c(0===arguments.length||1===arguments.length,"unrecognized positional parameters (only named parameters can be specified)")}catch(u){return console.log("YIKES ... eatery-nod-w's discloseError() was attempting to report on err: ",t),void console.log('HOWEVER AN INVOCATION PROBLEM was detected in the parameters passed to discloseError()!\n... discloseError() CANNOT throw an error (when used in a promise an "Unhandled promise rejection" will result)!!\n... PLEASE FIX THE FOLLOWING INVOCATION PROBLEM: ',u)}if(a&&(t.isUnexpected()?te.error({msg:t.formatUserMsg(),actions:[{txt:"details",action:function(){ae.error({msg:"An unexpected error occurred:\n\n".concat(t,"\n\nIf this problem persists, please contact your tech support.")})}}]}):te.warn({msg:t.formatUserMsg()})),o){var l=t.isUnexpected()?"*** Unexpected Error:\n\n":"*** Expected Error:\n\n";console.log(l+t),t.isUnexpected()&&console.log(t)}}var se=n(64),le=n.n(se);function ue(){}function me(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=S.prefix("encode(ref) parameter violation: ");n(e,"ref is required"),n(w()(e)||le()(e),"ref must be a string -or- an object literal. NOT: ",e),n(!0===t||!1===t,"safeguard must be a boolean (true/false), NOT: ",t);var a=e;return le()(a)&&(a=pe+JSON.stringify(a)),t&&(a=fe+function(e){if(!window.btoa)throw new Error("*** ERROR *** encode(): ENCODING NOT supported by this browser (btoa).");return window.btoa(e)}(a)),a}function de(e){if(S.prefix("decode(ref) parameter violation: ")(e,"ref is required"),!w()(e))return e;var t=e;return 0===t.indexOf(fe)&&(t=function(e){if(!window.atob)throw new Error("*** ERROR *** encode(): DECODING NOT supported by this browser (atob).");return window.atob(e)}(t=t.substring(fe.length))),0===t.indexOf(pe)&&(t=t.substring(pe.length),t=JSON.parse(t)),t}var pe="obj2str:",fe="afesa";function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=S.prefix("storeItem() parameter violation: ");a(e,"key is required"),a(w()(e),"key must be a string, NOT: ",e),a(t,"ref is required"),a(w()(t)||le()(t),"ref must be a string -or- an object literal, NOT: ",t),a(!0===n||!1===n,"safeguard must be a boolean (true/false), NOT: ",n);var r=me(t,n);Oe.setItem(e,r)}function he(e){var t=S.prefix("fetchItem() parameter violation: ");t(e,"key is required"),t(w()(e),"key must be a string, NOT: ",e);var n=Oe.getItem(e);return n?de(n):null}function be(e){var t=S.prefix("removeItem() parameter violation: ");t(e,"key is required"),t(w()(e),"key must be a string, NOT: ",e),Oe.removeItem(e)}var ve=function(e){var t;try{t=window[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(a){return a instanceof DOMException&&(22===a.code||1014===a.code||"QuotaExceededError"===a.name||"NS_ERROR_DOM_QUOTA_REACHED"===a.name)&&t&&0!==t.length}}("localStorage");ve||console.warn("***WARNING*** deviceStorage module ... localStorage (Web Storage API) is NOT available in this browser ... all deviceStorage usage will silently no-op!!");var Oe=ve?{setItem:function(e,t){return window.localStorage.setItem(e,t)},getItem:function(e){return window.localStorage.getItem(e)},removeItem:function(e){return window.localStorage.removeItem(e)}}:{setItem:ue,getItem:ue,removeItem:ue};var Ee="credentials",we=Object(c.expandWithFassets)(function(e){return Object(b.b)({name:"".concat("auth",".startAuthorization"),type:String(e.actions.bootstrapComplete),process:function(e,t,n){e.getState,e.action;t(P.autoSignIn()),n()}})}),ye=Object(b.b)({name:"".concat("auth",".checkDeviceCredentials"),type:String(P.autoSignIn),process:function(e,t,n){e.getState,e.action,e.fassets;var a=he(Ee);t(a?P.autoSignIn.haveDeviceCredentials(a):P.autoSignIn.noDeviceCredentials()),n()}}),Ie=Object(b.b)({name:"".concat("auth",".autoSignIn"),type:String(P.autoSignIn.haveDeviceCredentials),process:function(e,t,n){e.getState;var a=e.action,r=(e.fassets,a.credentials),o=r.email,i=r.pass;t(P.signIn(o,i)),n()}}),Se=Object(b.b)({name:"".concat("auth",".manualSignIn'"),type:[String(P.autoSignIn.noDeviceCredentials),String(P.signOut)],process:function(e,t,n){e.getState,e.action;t(P.signIn.open()),n()}}),je=Object(b.b)({name:"".concat("auth",".processSignIn"),type:String(P.signIn.process),process:function(e,t,n){e.getState;var a=e.action;t(P.signIn(a.values.email,a.values.pass)),n()}}),Re=Object(b.b)({name:"".concat("auth",".signIn"),type:String(P.signIn),warnTimeout:0,process:function(e,t,n){e.getState;var a=e.action;e.fassets.authService.signIn(a.email,a.pass).then(function(e){var r,o;r=a.email,o=a.pass,ge(Ee,{email:r,pass:o},!0),t(P.signIn.complete(e)),n()}).catch(function(e){ce({err:e,showUser:e.isUnexpected()}),t(P.signIn.open(a,e.formatUserMsg())),n()})}}),Ae=Object(b.b)({name:"".concat("auth",".supplementSignedInUserLoc"),type:String(P.signIn.complete),transform:function(e,t,n){var a=e.getState,r=e.action,o=e.fassets;r.user.originalLoc=o.sel.getLocation(a()),t(r)}}),Ce=Object(b.b)({name:"".concat("auth",".supplementSignInComplete"),type:String(P.signIn.complete),process:function(e,t,n){e.getState;var a=e.action;t(P.userProfileChanged(a.user)),n()}}),Ne=Object(b.b)({name:"".concat("auth",".signInCleanup"),type:String(P.signIn.complete),process:function(e,t,n){e.getState,e.action;t(P.signIn.close()),n()}}),Ue=Object(b.b)({name:"".concat("auth",".checkEmailVerified"),type:String(P.signIn.checkEmailVerified),transform:function(e,t,n){var a=e.getState,r=e.action,o=e.fassets;te({msg:"verifying your email: ".concat(T(a()).email)}),o.authService.refreshUser().then(function(e){r.user=e,t(r)}).catch(function(e){ce({err:e}),n()})}}),xe=Object(b.b)({name:"".concat("auth",".resendEmailVerification"),type:String(P.signIn.resendEmailVerification),transform:function(e,t){var n=e.getState,a=e.action,r=e.fassets;te({msg:"resending email to: ".concat(T(n()).email)}),r.authService.resendEmailVerification(),t(a)}}),ke=Object(b.b)({name:"".concat("auth",".supplementSignOutUser"),type:String(P.signOut),transform:function(e,t,n){var a=e.getState,r=e.action;e.fassets;r.user=T(a()),t(r)}}),Me=Object(b.b)({name:"".concat("auth",".signOut"),type:String(P.signOut),process:function(e,t,n){e.getState,e.action;e.fassets.authService.signOut().catch(function(e){ce({err:e})}),be(Ee),n()}}),Te=Object(c.expandWithFassets)(function(e){return[we(e),ye,Ie,Se].concat(Object(D.a)(F.registrar.formLogic()),[je,Ae,Re,Ce,Ne,Ue,xe,ke,Me])}),Fe=n(12),Pe=n(323),De=n(654),Le=d.generateActions.root(Object(m.a)({},"baseUI",{toggleUITheme:{actionMeta:{}},setResponsiveMode:{actionMeta:{traits:["responsiveMode"]}},changeView:{actionMeta:{traits:["viewName"]}}}));var Ye="uiTheme";var Je="responsiveMode",We=Object(s.slicedReducer)("baseUI",Object(c.expandWithFassets)(function(e){var t;return Object(R.combineReducers)({uiTheme:Object(h.reducerHash)(Object(m.a)({},Le.toggleUITheme,function(e,t){return"dark"===e?"light":"dark"}),he(Ye)),responsiveMode:Object(h.reducerHash)(Object(m.a)({},Le.setResponsiveMode,function(e,t){return t.responsiveMode}),he(Je)||"sm"),curView:Object(h.reducerHash)((t={},Object(m.a)(t,Le.changeView,function(e,t){return t.viewName}),Object(m.a)(t,e.actions.signOut,function(e,t){return"eateries"}),t),"uninitialized")})})),Ve=We,Be=function(e){return We.getSlicedState(e)},qe=function(e){return Be(e).uiTheme||"light"},Ge=function(e){return Be(e).responsiveMode};function _e(){var e=Object(Pe.a)();return Object(De.a)(e.breakpoints.down("xs"))}var He=n(571),ze=n(128),Xe=n.n(ze),$e=n(657),Qe=n(660),Ke=n(661),Ze=n(659),et=n(202),tt=n.n(et),nt=n(337),at=n.n(nt),rt=n(153),ot=n.n(rt),it=n(79),ct=n(353),st=n(254),lt=n(655),ut=(r.a.forwardRef(function(e,t){return r.a.createElement(ct.a,Object.assign({ref:t,timeout:"1000"},e))}),r.a.forwardRef(function(e,t){return r.a.createElement(st.a,Object.assign({ref:t,direction:"right",timeout:"1000"},e))})),mt=r.a.forwardRef(function(e,t){return r.a.createElement(lt.a,Object.assign({ref:t,timeout:"1000"},e))}),dt=n(656);function pt(e){var t=e.children;return r.a.createElement(dt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},t)}function ft(){var e=Object(Fe.useSelector)(function(e){return T(e).email},[]),t=Object(Fe.useDispatch)(),n=Object(a.useCallback)(function(){return t(P.signIn.checkEmailVerified())},[]),o=Object(a.useCallback)(function(){return t(P.signIn.resendEmailVerification())},[]),i=Object(a.useCallback)(function(){return t(P.signOut())},[]),c=_e(),s=gt();return r.a.createElement($e.a,{open:!0,fullScreen:c,TransitionComponent:mt},r.a.createElement(Ze.a,{disableTypography:!0,className:s.titleBar},r.a.createElement(it.a,{className:s.title,variant:"h6",color:"inherit",noWrap:!0},"Eatery Nod")),r.a.createElement(Qe.a,null,r.a.createElement(pt,null,r.a.createElement(He.a,{className:s.lockAvatar},r.a.createElement(tt.a,null))),r.a.createElement(pt,null,r.a.createElement(it.a,{variant:"h6",noWrap:!0},"Sign In Verification")),r.a.createElement(Ke.a,{className:s.entry},"Your account email has not been verified."),r.a.createElement(Ke.a,{className:s.entry},"Please follow the instructions from the email sent to: ",e),r.a.createElement("div",{className:s.entry},r.a.createElement(pt,null,r.a.createElement(it.a,{variant:"body2"},"... once completed:")),r.a.createElement(pt,null,r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:n},r.a.createElement(Xe.a,{className:s.icon}),"Continue"))),r.a.createElement("div",{className:s.entry},r.a.createElement(pt,null,r.a.createElement(q.a,{variant:"contained",color:"secondary",onClick:o},r.a.createElement(at.a,{className:s.icon}),"Resend Email"))),r.a.createElement("div",{className:s.entry},r.a.createElement(pt,null,r.a.createElement(q.a,{variant:"contained",color:"secondary",onClick:i},r.a.createElement(ot.a,{className:s.icon}),"Sign Out")))))}var gt=Object(B.a)(function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},lockAvatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},entry:{margin:"30px 0px"},icon:{marginRight:e.spacing(1)},inProgress:{margin:e.spacing(4)}}}),ht=n(685);function bt(e){var t=e.fieldName,n=e.iForm,a=Object(g.a)(e,["fieldName","iForm"]),o=S.prefix("<ITextField> property violation: ");o(t,"fieldName is required"),o(n,"iForm is required"),o(n.handleFieldTouched,"iForm prop MUST be an IFormMeta object ... in fieldName: '".concat(t,"'"));var i=n.getLabel(t);o(i,"supplied fieldName '".concat(t,"' does NOT exist in the supplied iForm: '").concat(n.getLabel(),"'")),["label","value","disabled","onChange","onBlur","error"].forEach(function(e){return o(!a[e],"'".concat(e,"' prop cannot be used (it is managed internally) ... for fieldName: '").concat(t,"'"))});var c={};if(n.isValidationExposed(t)){var s=n.getMsg(t);s&&(c.error=!0,c.helperText=s)}return r.a.createElement(ht.a,Object.assign({label:i,value:n.getValue(t),disabled:n.inProcess(),onChange:function(e){return n.handleFieldChanged(t,e.target.value)},onBlur:function(){return n.handleFieldTouched(t)}},a,c))}var vt=n(665),Ot=n(666);function Et(){var e=Object(Fe.useDispatch)(),t=Object(Fe.useSelector)(function(e){return F.formStateSelector(e)},[]),n=_e(),a=wt(),o=F.IForm(t,e),i=o.getLabel(),c=o.inProcess(),s=o.getMsg();return r.a.createElement($e.a,{open:!0,fullScreen:n,TransitionComponent:mt},r.a.createElement(Ze.a,{disableTypography:!0,className:a.titleBar},r.a.createElement(it.a,{className:a.title,variant:"h6",color:"inherit",noWrap:!0},"Eatery Nod")),r.a.createElement(Qe.a,null,r.a.createElement("form",{onSubmit:o.handleProcess},r.a.createElement("fieldset",{className:a.invisible,disabled:c},r.a.createElement(pt,null,r.a.createElement(He.a,{className:a.lockAvatar},r.a.createElement(tt.a,null))),r.a.createElement(pt,null,r.a.createElement(it.a,{variant:"h6",noWrap:!0},i)),r.a.createElement(Ke.a,{className:a.entry},"Welcome to Eatery Nod ... please ",i,"!"),r.a.createElement("div",{className:a.entry},r.a.createElement(bt,{fieldName:"email",iForm:o,autoFocus:!0,required:!0,fullWidth:!0,type:"email",placeholder:"jon.snow@gmail.com",helperText:"your email is your ID"})),r.a.createElement("div",{className:a.entry},r.a.createElement(bt,{fieldName:"pass",iForm:o,required:!0,fullWidth:!0,type:"password"})),r.a.createElement(pt,null,r.a.createElement(q.a,{type:"submit",variant:"contained",color:"primary"},r.a.createElement(ot.a,{className:a.icon}),i)),r.a.createElement(vt.a,{error:!0},s),c&&r.a.createElement("div",{className:a.entry},r.a.createElement(Ot.a,{className:a.inProgress,color:"secondary"})),r.a.createElement("div",{className:a.entry},r.a.createElement(pt,null,r.a.createElement(it.a,{variant:"body2",color:"secondary"},"... don't have an account?")),r.a.createElement(pt,null,r.a.createElement(q.a,{variant:"contained",color:"secondary",onClick:function(){return te.warn({msg:"Sign Up has not yet been implemented."})}},r.a.createElement(ot.a,{className:a.icon}),"Sign Up")))))))}var wt=Object(B.a)(function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},lockAvatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},entry:{margin:"30px 0px"},invisible:{border:"0 none",margin:0,padding:0},icon:{marginRight:e.spacing(1)},inProgress:{margin:e.spacing(4)}}});function yt(e){var t=e.msg,n=_e(),a=It();return r.a.createElement($e.a,{open:!0,fullScreen:n,TransitionComponent:mt},r.a.createElement(Ze.a,{className:a.title},r.a.createElement("center",{className:a.title},"Eatery Nod")),r.a.createElement(Qe.a,null,r.a.createElement("center",null,r.a.createElement("br",null),r.a.createElement("img",{width:"120px",src:"/eatery.png",alt:"eatery-nod"}),r.a.createElement("br",null),r.a.createElement(Ot.a,{className:a.progress,color:"secondary"}),r.a.createElement(it.a,{variant:"body2"},t),r.a.createElement("br",null))))}yt.defaultProps={msg:""};var It=Object(B.a)(function(e){return{title:{color:e.palette.common.white,backgroundColor:e.palette.primary.main},progress:{margin:e.spacing(4)}}}),St=Object(u.featureRoute)({priority:u.PRIORITY.HIGH,content:function(e){e.fassets;var t=e.appState,n=T(t);if(n.isUserSignedIn())return null;if(n.isUserSignedInUnverified())return r.a.createElement(ft,null);if(function(e){return!!M(e).signInForm}(t))return r.a.createElement(Et,null);var a="authorization in progress (".concat(n.getAuthStatus(),")");return r.a.createElement(yt,{msg:a})}}),jt=n(668),Rt=n(53),At=n(667),Ct=n(351),Nt=n(339),Ut=n.n(Nt);function xt(e){var t=e.curUser,n=Object(a.useState)(null),o=Object(Rt.a)(n,2),i=o[0],s=o[1],l=Object(a.useMemo)(function(){return Boolean(i)},[i]),u=Object(a.useCallback)(function(e){return s(e.currentTarget)},[]);Mt=Object(a.useCallback)(function(){return s(null)},[]);var m=Object(c.useFassets)("AppMotif.UserMenuItem.*@withKeys"),d=Object(a.useMemo)(function(){return Object(D.a)(m).sort(function(e,t){var n=Object(Rt.a)(e,1)[0],a=Object(Rt.a)(t,1)[0];return n.localeCompare(a)})},[m]);return r.a.createElement("div",null,r.a.createElement(At.a,{color:"inherit",onClick:u},r.a.createElement(Ut.a,null),r.a.createElement(it.a,{variant:"subtitle2",color:"inherit",noWrap:!0},"\xa0",t.name)),r.a.createElement(Ct.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:kt},d.map(function(e){var t=Object(Rt.a)(e,2),n=t[0],a=t[1];return r.a.createElement(a,{key:n})})))}function kt(){Mt&&Mt()}var Mt=null;function Tt(e){return r.a.createElement(jt.a,Object.assign({},e,{onClick:function(){kt(),e.onClick&&e.onClick.apply(e,arguments)}}),e.children)}function Ft(){te.warn({msg:"NOT implemented yet (coming soon)!"})}var Pt=Object(c.createFeature)({name:"auth",fassets:{define:{"actions.userProfileChanged":P.userProfileChanged,"actions.signOut":P.signOut,"actions.signIn.complete":P.signIn.complete,"sel.curUser":T},defineUse:{"AppMotif.UserMenuItem.cc5_AuthUserMenu":function(){var e=Object(Fe.useDispatch)(),t=Object(a.useCallback)(function(){oe.warn({msg:"Are you sure you wish to sign out?",actions:[{txt:"Sign Out",action:function(){return e(P.signOut())}},{txt:"Go Back"}]})},[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Tt,{onClick:Ft},"User Profile"),r.a.createElement(Tt,{onClick:t},"Sign Out"))}}},reducer:k,logic:Te,route:St}),Dt=function(){function e(){Object(C.a)(this,e)}return Object(N.a)(e,[{key:"signIn",value:function(e,t){throw new Error("***ERROR*** ".concat(this.constructor.name,".signIn() is a required service method that has NOT been implemented"))}},{key:"refreshUser",value:function(){throw new Error("***ERROR*** ".concat(this.constructor.name,".refreshUser() is a required service method that has NOT been implemented"))}},{key:"resendEmailVerification",value:function(){throw new Error("***ERROR*** ".concat(this.constructor.name,".resendEmailVerification() is a required service method that has NOT been implemented"))}},{key:"signOut",value:function(){throw new Error("***ERROR*** ".concat(this.constructor.name,".signOut() is a required service method that has NOT been implemented"))}}]),e}(),Lt=Object(c.createFeature)({name:"authService",fassets:{use:[["authService",{required:!0,type:function(e){return e instanceof Dt?null:"object of type AuthServiceAPI, NOT: "+e}}]]}});var Yt={useWIFI:!0,mockGPS:!1,log:!1,sandbox:!1},Jt=n(52),Wt=n.n(Jt),Vt=(n(600),n(329),function(e){function t(){var e,n;Object(C.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(L.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).currentAppUser=null,n}return Object(J.a)(t,e),Object(N.a)(t,[{key:"signIn",value:function(e,t){var n=this;return new Promise(function(a,r){if("guestNO"===t&&0===e.indexOf("guestNO@"))return n.currentAppUser=new U({name:"Harry",email:e,emailVerified:!0,pool:"mockNO",guestLoc:{lat:30.010479,lng:-90.119414}}),a(n.currentAppUser);Wt.a.auth().signInWithEmailAndPassword(e,t).then(function(e){Wt.a.database().ref("/userProfiles/".concat(e.user.uid)).once("value").then(function(t){var o=t.val();return o?(n.currentAppUser=new U({name:o.name,email:e.user.email,emailVerified:e.user.emailVerified,pool:o.pool}),a(n.currentAppUser)):r(new Error("***ERROR*** No userProfile exists for user: ".concat(e.user.email)).defineAttemptingToMsg("sign in to eatery-nod (your user profile does NOT exist)"))}).catch(function(e){return r(e.defineAttemptingToMsg("sign in to eatery-nod (a problem was encountered fetching your user profile)"))})}).catch(function(e){return e.code?e.defineUserMsg("Invalid SignIn credentials."):e.defineAttemptingToMsg("sign in to eatery-nod"),r(e)})})}},{key:"refreshUser",value:function(){var e=this;return new Promise(function(t,n){if(null===e.currentAppUser)return n(new Error("***ERROR*** (within app logic) AuthServiceFirebase.refreshUser(): may only be called once a successful signIn() has completed.").defineAttemptingToMsg("refresh a non-existent user (not yet signed in)"));Wt.a.auth().currentUser.reload().then(function(){var n=Wt.a.auth().currentUser;return e.currentAppUser=new U({name:e.currentAppUser.name,email:n.user.email,emailVerified:n.user.emailVerified,pool:e.currentAppUser.pool}),t(e.currentAppUser)}).catch(function(e){return n(e.defineAttemptingToMsg("refresh the signed-in user"))})})}},{key:"resendEmailVerification",value:function(){if(null===this.currentAppUser)throw new Error("***ERROR*** (within app logic) AuthServiceFirebase.resendEmailVerification(): may only be called once a successful signIn() has completed.").defineAttemptingToMsg("resend an email verification to a non-existent user (not yet signed in)");Wt.a.auth().currentUser.sendEmailVerification()}},{key:"signOut",value:function(){var e=this;return new Promise(function(t,n){if(null===e.currentAppUser)return n(new Error("***ERROR*** (within app logic) AuthServiceFirebase.signOut(): may only be called once a successful signIn() has completed.").defineAttemptingToMsg("sign-out a non-existent user (not yet signed in)"));Wt.a.auth().signOut().then(function(){e.currentAppUser=null}).catch(function(e){return n(e.defineAttemptingToMsg("sign-out the user"))})})}}]),t}(Dt)),Bt=Object(c.createFeature)({name:"authServiceFirebase",enabled:Yt.useWIFI,fassets:{defineUse:{authService:new Vt}}}),qt=function(e){function t(){var e,n;Object(C.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(L.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).currentAppUser=null,n}return Object(J.a)(t,e),Object(N.a)(t,[{key:"signIn",value:function(e,t){var n=this;return new Promise(function(a,r){return"unexpect"===t?r(new Error("***ERROR*** Simulated Unexpected Condition").defineAttemptingToMsg("sign in to eatery-nod")):"expect"===t?r(new Error("***ERROR*** Invalid Password").defineUserMsg("Invalid SignIn credentials.").defineAttemptingToMsg("sign in to eatery-nod")):(n.currentAppUser=new U({name:"MockGuy",email:e,emailVerified:!1,pool:"mock"}),"unverify"===t?a(n.currentAppUser):(n.currentAppUser.emailVerified=!0,a(n.currentAppUser)))})}},{key:"refreshUser",value:function(){var e=this;return new Promise(function(t,n){return e.currentAppUser=e.currentAppUser.clone(),e.currentAppUser.emailVerified=!0,t(e.currentAppUser)})}},{key:"resendEmailVerification",value:function(){}},{key:"signOut",value:function(){var e=this;return new Promise(function(t,n){return e.currentAppUser=null,t(void 0)})}}]),t}(Dt),Gt=Object(c.createFeature)({name:"authServiceMock",enabled:!Yt.useWIFI,fassets:{defineUse:{authService:new qt}}});function _t(e,t){var n=S.prefix("createBootstrapFn() parameter violation: ");return n(e,"what is required"),n(w()(e),"what must be a string"),n(t,"fn is required"),n(I()(t),"fn must be a function"),t.bootstrapWhat=e,t}var Ht=d.generateActions.root(Object(m.a)({},"bootstrap",{actionMeta:{},setStatus:{actionMeta:{traits:["statusMsg"]}},complete:{actionMeta:{}}})),zt=[Object(b.b)({name:"".concat("bootstrap"),type:String(Ht),warnTimeout:0,process:function(e,t,n){var a=e.getState,r=(e.action,e.fassets),o=r.get("bootstrap.*");function i(){t(Ht.setStatus("COMPLETE")),t(Ht.complete()),n()}function c(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n&&n.isUnexpected()||(e.complete=!0),n&&(n.defineAttemptingToMsg(e.bootstrapWhat),ce({err:n,logIt:!0}));var a=o.find(function(e){return!e.complete});a&&t(Ht.setStatus(a.bootstrapWhat)),a||i()}o.forEach(function(e){return e.complete=!1}),0!==o.length?(t(Ht.setStatus(o[0].bootstrapWhat)),o.forEach(function(e){e({getState:a,dispatch:t,fassets:r}).then(function(){c(e)}).catch(function(t){c(e,t)})})):i()}})],Xt=Object(s.slicedReducer)("bootstrap",Object(R.combineReducers)({status:Object(h.reducerHash)(Object(m.a)({},Ht.setStatus,function(e,t){return t.statusMsg}),"Waiting for App to start")})),$t=Xt,Qt=function(e){return Xt.getSlicedState(e)},Kt=function(e){return Qt(e).status},Zt=Object(u.featureRoute)({priority:u.PRIORITY.HIGH+10,content:function(e){e.fassets;var t=e.appState;return function(e){return"COMPLETE"===Qt(e).status}(t)?null:r.a.createElement(yt,{msg:Kt(t)})}}),en=Object(c.createFeature)({name:"bootstrap",reducer:$t,logic:zt,route:Zt,fassets:{use:[["bootstrap.*",{required:!1,type:function(e){return(t=e)&&I()(t)&&t.bootstrapWhat?null:"bootstrapFn";var t}}]],define:{"actions.bootstrapComplete":Ht.complete}},appDidStart:function(e){e.fassets,e.appState;(0,e.dispatch)(Ht())}}),tn="discovery",nn=Object(s.slicedReducer)("view.".concat(tn),Object(c.expandWithFassets)(function(e){var t,n,a,r;return Object(R.combineReducers)({inProgress:Object(h.reducerHash)((t={},Object(m.a)(t,pn.retrieve,function(e,t){return"retrieve"}),Object(m.a)(t,pn.retrieve.complete,function(e,t){return null}),Object(m.a)(t,pn.retrieve.fail,function(e,t){return null}),Object(m.a)(t,pn.nextPage,function(e,t){return"next"}),Object(m.a)(t,pn.nextPage.complete,function(e,t){return null}),Object(m.a)(t,pn.nextPage.fail,function(e,t){return null}),t),null),filterForm:dn.registrar.formReducer(),filter:Object(h.reducerHash)((n={},Object(m.a)(n,pn.retrieve.complete,function(e,t){return t.filter}),Object(m.a)(n,e.actions.signOut,function(e,t){return{searchText:"",distance:10,minprice:"1"}}),n),{searchText:"",distance:10,minprice:"1"}),nextPageToken:Object(h.reducerHash)((a={},Object(m.a)(a,pn.retrieve.complete,function(e,t){return t.discoveriesResp.pagetoken}),Object(m.a)(a,pn.nextPage.complete,function(e,t){return t.discoveriesResp.pagetoken}),Object(m.a)(a,e.actions.signOut,function(e,t){return null}),a),null),discoveries:Object(h.reducerHash)((r={},Object(m.a)(r,pn.retrieve.complete,function(e,t){return t.discoveriesResp.discoveries}),Object(m.a)(r,pn.nextPage.complete,function(e,t){return[].concat(Object(D.a)(e),Object(D.a)(t.discoveriesResp.discoveries))}),Object(m.a)(r,e.actions.signOut,function(e,t){return null}),r),null)})})),an=nn,rn=function(e){return nn.getSlicedState(e)},on=function(e){return rn(e).inProgress},cn=function(e){return rn(e).filter},sn=function(e){return rn(e).nextPageToken},ln=function(e){return rn(e).discoveries},un="Miles should be a number between 1 and 30",mn="Price should be a number between 0 and 4",dn=j({formDesc:"Discovery Filter",formSchema:p.object().shape({searchText:p.string().label("Search"),distance:p.number().label("Distance").typeError(un).required().min(1,un).max(30,un),minprice:p.string().label("Price Range").typeError(mn).required().matches(/[0-4]/,mn)}),formActionsAccessor:function(){return pn.filterForm},formStateSelector:function(e){return function(e){return rn(e).filterForm}(e)}}),pn=d.generateActions.root(Object(m.a)({},tn,{filterForm:dn.registrar.formActionGenesis(),retrieve:{actionMeta:{traits:["filter"]},complete:{actionMeta:{traits:["filter","discoveriesResp"]}},fail:{actionMeta:{traits:["err"]}}},nextPage:{actionMeta:{traits:["pagetoken"]},complete:{actionMeta:{traits:["discoveriesResp"]}},fail:{actionMeta:{traits:["err"]}}}})),fn=Object(c.expandWithFassets)(function(e){return Object(b.b)({name:"".concat(tn,".initialRetrieve"),type:String(e.actions.changeView),process:function(e,t,n){var a=e.getState,r=e.action,o=e.fassets,i=a();if(r.viewName===tn&&null===ln(i)&&!on(i)){var c=o.sel.getLocation(i);t(pn.retrieve(Object(f.a)({},cn(i),{loc:[c.lat,c.lng]})))}n()}})}),gn=Object(b.b)({name:"".concat(tn,".defaultFilter"),type:String(pn.filterForm.open),transform:function(e,t){var n=e.getState,a=e.action;e.fassets;a.domain||(a.domain=cn(n())),t(a)}}),hn=Object(b.b)({name:"".concat(tn,".processFilter"),type:String(pn.filterForm.process),process:function(e,t,n){var a=e.getState,r=e.action,o=e.fassets,i=a(),c=r.domain,s=o.sel.getLocation(i);t(pn.retrieve(Object(f.a)({},c,{loc:[s.lat,s.lng]}))),t(o.actions.changeView(tn)),t(pn.filterForm.close()),n()}}),bn=Object(b.b)({name:"".concat(tn,".retrieve"),type:String(pn.retrieve),warnTimeout:0,process:function(e,t,n){e.getState;var a=e.action;e.fassets.discoveryService.searchDiscoveries(a.filter).then(function(e){t(pn.retrieve.complete(a.filter,e)),n()}).catch(function(e){t(pn.retrieve.fail(e)),ce({err:e.defineAttemptingToMsg("DiscoveryService.searchDiscoveries()")}),n()})}}),vn=Object(b.b)({name:"".concat(tn,".nextPage"),type:String(pn.nextPage),warnTimeout:0,process:function(e,t,n){e.getState;var a=e.action;e.fassets.discoveryService.searchDiscoveriesNextPage(a.pagetoken).then(function(e){t(pn.nextPage.complete(e)),n()}).catch(function(e){t(pn.nextPage.fail(e)),ce({err:e.defineAttemptingToMsg("DiscoveryService.searchDiscoveriesNextPage()")}),n()})}}),On=Object(c.expandWithFassets)(function(e){return[].concat(Object(D.a)(dn.registrar.formLogic()),[gn,fn(e),hn,bn,vn])}),En=n(686),wn=n(689),yn=n(669),In=n(662),Sn=n(663),jn=n(6),Rn=n.n(jn);function An(e){var t=e.fieldName,n=e.iForm,a=e.row,o=e.helperText,i=e.children,c=Object(g.a)(e,["fieldName","iForm","row","helperText","children"]),s=S.prefix("<IRadioField> property violation: ");s(t,"fieldName is required"),s(n,"iForm is required"),s(n.handleFieldTouched,"iForm prop MUST be an IFormMeta object ... in fieldName: '".concat(t,"'"));var l=n.getLabel(t);s(l,"supplied fieldName '".concat(t,"' does NOT exist in the supplied iForm: '").concat(n.getLabel(),"'")),a&&s(!0===a||!1===a,"row must be a boolean (true/false) ... in fieldName: '".concat(t,"'"));var u=!!a,m=null,d={},p=n.getMsg(t);return p?(d.error=!0,m=r.a.createElement(vt.a,null,p)):o&&(m=r.a.createElement(vt.a,null,o)),r.a.createElement(In.a,Object.assign({},c,d),r.a.createElement(Sn.a,null,l),r.a.createElement(wn.a,{name:t,row:u,value:n.getValue(t)},i),m)}An.Op=function(e){var t=e.fieldName,n=e.iForm,a=e.value,o=e.label;return r.a.createElement(yn.a,{value:a,control:r.a.createElement(En.a,null),label:o,checked:a===n.getValue(t),onChange:function(){return n.handleFieldChanged(t,a)}})},An.Op.propTypes={fieldName:Rn.a.string.isRequired,iForm:Rn.a.any.isRequired,value:Rn.a.string.isRequired,label:Rn.a.string.isRequired};var Cn=n(129),Nn=n.n(Cn),Un=n(204),xn=n.n(Un);function kn(){var e=Object(Fe.useDispatch)(),t=Object(Fe.useSelector)(function(e){return dn.formStateSelector(e)},[]),n=_e(),a=Mn(),o=dn.IForm(t,e),i=o.getLabel(),c=o.inProcess(),s={fieldName:"minprice",iForm:o},l=o.getMsg();return r.a.createElement($e.a,{open:!0,onClose:o.handleClose,fullScreen:n,TransitionComponent:ut},r.a.createElement("form",{onSubmit:o.handleProcess},r.a.createElement(Ze.a,{disableTypography:!0,className:a.titleBar},r.a.createElement(it.a,{className:a.title,variant:"h6",color:"inherit",noWrap:!0},i),r.a.createElement(At.a,{color:"inherit",onClick:o.handleClose},r.a.createElement(Nn.a,null))),r.a.createElement(Qe.a,null,r.a.createElement(Ke.a,{className:a.entry},"filter your discovery with these settings ..."),r.a.createElement("div",{className:a.entry},r.a.createElement(bt,{fieldName:"searchText",iForm:o,autoFocus:!0,type:"string",helperText:"... suggest a restaurant or town (optional)"})),r.a.createElement("div",{className:a.entry},r.a.createElement(bt,{fieldName:"distance",iForm:o,placeholder:"... enter 1-30",type:"number",helperText:"... the maximum search distance (1-30)"})),r.a.createElement("div",{className:a.entry},r.a.createElement(An,Object.assign({},s,{row:!0,helperText:"... most affordable to most expensive"}),r.a.createElement(An.Op,Object.assign({value:"0",label:"1"},s)),r.a.createElement(An.Op,Object.assign({value:"1",label:"2"},s)),r.a.createElement(An.Op,Object.assign({value:"2",label:"3"},s)),r.a.createElement(An.Op,Object.assign({value:"3",label:"4"},s)),r.a.createElement(An.Op,Object.assign({value:"4",label:"5"},s)))),r.a.createElement("div",{className:a.entry},r.a.createElement(pt,null,r.a.createElement(q.a,{type:"submit",variant:"contained",color:"primary"},r.a.createElement(xn.a,{className:a.icon}),"Filter Discoveries"))),l&&r.a.createElement("div",{className:a.entry},r.a.createElement(vt.a,{error:!0},l)),c&&r.a.createElement("div",{className:a.entry},r.a.createElement(Ot.a,{className:a.inProgress,color:"secondary"})))))}var Mn=Object(B.a)(function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},entry:{margin:"30px 0px"},icon:{marginRight:e.spacing(1)},inProgress:{margin:e.spacing(4)}}}),Tn=n(205),Fn=n.n(Tn),Pn=n(664),Dn=n(612),Ln=n(671),Yn=n(670),Jn=n(340),Wn=n.n(Jn),Vn=n(88),Bn=n.n(Vn);function qn(){var e=Object(c.useFassets)(),t=Object(Fe.useSelector)(function(e){return on(e)},[]),n=Object(Fe.useSelector)(function(e){return ln(e)},[]),o=Object(Fe.useSelector)(function(e){return sn(e)},[]),i=Object(Fe.useSelector)(function(t){return e.sel.getEateryDbPool(t)},[e]),s=Object(Fe.useDispatch)(),l=Object(a.useCallback)(function(e){return s(pn.nextPage(e))},[]),u=Object(a.useCallback)(function(){return s(pn.filterForm.open())},[]),m=Object(a.useCallback)(function(t,n){n[t.id]?s(e.actions.removeEatery(t.id)):s(e.actions.addEatery(t.id))},[]),d=Gn(),p=null;if(null===n||"retrieve"===t)p=[r.a.createElement(Dn.a,{key:"inProgress"},r.a.createElement(Yn.a,null,r.a.createElement(it.a,{variant:"subtitle1",align:"center",noWrap:!0},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"retrieval in progress"))),r.a.createElement(Dn.a,{key:"inProgressSpin"},r.a.createElement(Yn.a,null,r.a.createElement(Ot.a,{className:d.progress,color:"secondary"})))];else if(0===n.length)p=[r.a.createElement(Dn.a,{key:"noEntries"},r.a.createElement(Yn.a,null,r.a.createElement(it.a,{variant:"subtitle1",align:"center",noWrap:!0},"No entries match your filter \xa0\xa0",r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:u},r.a.createElement(Bn.a,null),r.a.createElement(it.a,{color:"inherit",variant:"body2"},"\xa0Adjust Filter")))))];else{p=n.map(function(e){return r.a.createElement(Dn.a,{key:e.id,dense:!0,divider:!0},r.a.createElement(Ln.a,{onClick:function(){return m(e,i)}},r.a.createElement(At.a,null,function(e){return i[e.id]?r.a.createElement(Fn.a,{color:"secondary"}):r.a.createElement(Xe.a,null)}(e))),r.a.createElement(Yn.a,{primary:r.a.createElement(it.a,{variant:"h6",noWrap:!0},e.name),secondary:r.a.createElement(it.a,{variant:"subtitle1",noWrap:!0},e.addr)}))}),o?"next"===t?p.push(r.a.createElement(Dn.a,{key:"nextPage"},r.a.createElement(Yn.a,null,r.a.createElement(Ot.a,{className:d.progress,color:"secondary"})))):p.push(r.a.createElement(Dn.a,{key:"nextPageCntl",dense:!0,button:!0,onClick:function(){return l(o)}},r.a.createElement(Ln.a,null,r.a.createElement(At.a,{color:"primary"},r.a.createElement(Wn.a,null))),r.a.createElement(Yn.a,null,r.a.createElement(it.a,{color:"primary",variant:"h6",className:d.nextPage},"next page ...")))):60===p.length&&p.push(r.a.createElement(Dn.a,{key:"maxEntriesHit",dense:!0,button:!0,onClick:u},r.a.createElement(Ln.a,null,r.a.createElement(At.a,{color:"primary"},r.a.createElement(Bn.a,null))),r.a.createElement(Yn.a,null,r.a.createElement(it.a,{variant:"subtitle1"},"We are limited to 60 entries."),r.a.createElement(it.a,{variant:"subtitle2"},"... adjust filter with city or restaurant"),r.a.createElement(q.a,{variant:"contained",color:"primary"},r.a.createElement(Bn.a,null),r.a.createElement(it.a,{color:"inherit",variant:"body2"},"\xa0Adjust Filter")))))}return r.a.createElement(Pn.a,{className:d.list},p)}var Gn=Object(B.a)(function(e){return{list:{},progress:{margin:e.spacing(4)},nextPage:{fontStyle:"italic"}}}),_n=[Object(u.featureRoute)({priority:u.PRIORITY.HIGH,content:function(e){e.fassets;if(function(e){return!!rn(e).filterForm}(e.appState))return r.a.createElement(kn,null)}}),Object(u.featureRoute)({content:function(e){var t=e.fassets,n=e.appState;return t.sel.curView(n)!==tn?null:r.a.createElement(qn,null)}})],Hn=n(341),zn=n.n(Hn),Xn=n(673),$n=n(672);var Qn=Object(B.a)(function(e){return{major:{color:e.palette.secondary.main},minor:{color:e.palette.primary.dark}}});var Kn,Zn=n(687);var ea=Object(c.createFeature)({name:tn,fassets:{defineUse:(Kn={},Object(m.a)(Kn,"AppMotif.LeftNavItem.cc6_".concat(tn),function(){var e=Object(c.useFassets)(),t=Object(Fe.useDispatch)(),n=Object(a.useCallback)(function(){return t(e.actions.changeView(tn))},[e]),o=Object(a.useCallback)(function(){return t(pn.filterForm.open())},[]),i=Qn();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dn.a,{button:!0,onClick:n},r.a.createElement(Ln.a,{className:i.major},r.a.createElement(zn.a,null)),r.a.createElement(Yn.a,{primaryTypographyProps:{className:i.major},primary:"Discovery"}),r.a.createElement($n.a,{onClick:o},r.a.createElement(Ln.a,null,r.a.createElement(At.a,{className:i.minor},r.a.createElement(Bn.a,null))))),r.a.createElement(Xn.a,null))}),Object(m.a)(Kn,"AppMotif.auxViewContent.".concat(tn),{TitleComp:function(){var e=Object(c.useFassets)(),t=Object(Fe.useSelector)(function(t){return e.sel.curUser(t)},[e]);return r.a.createElement(it.a,{variant:"h6",color:"inherit",noWrap:!0},"Discovery",r.a.createElement(it.a,{color:"inherit",display:"inline",noWrap:!0},"\xa0(",t.pool,")"))},FooterComp:function(){return r.a.createElement(dt.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(it.a,null,"\xa0"),r.a.createElement(it.a,{color:"inherit",variant:"subtitle1"},"toggle check as \xa0",r.a.createElement(Fn.a,{color:"secondary"}),"\xa0 to place in pool"),r.a.createElement(Zn.a,{title:"powered by Google Places"},r.a.createElement("img",{width:"25px",src:"/googleLogo.png",alt:""})))}}),Kn)},reducer:an,logic:On,route:_n}),ta=function(){function e(){Object(C.a)(this,e)}return Object(N.a)(e,[{key:"searchDiscoveries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.loc,e.searchText,e.distance,e.minprice,Object(g.a)(e,["loc","searchText","distance","minprice"]);throw new Error("***ERROR*** ".concat(this.constructor.name,".searchDiscoveries() is a required service method that has NOT been implemented"))}},{key:"searchDiscoveriesNextPage",value:function(e){throw new Error("***ERROR*** ".concat(this.constructor.name,".searchDiscoveriesNextPage() is a required service method that has NOT been implemented"))}},{key:"fetchEateryDetail",value:function(e){throw new Error("***ERROR*** ".concat(this.constructor.name,".fetchEateryDetail() is a required service method that has NOT been implemented"))}}]),e}(),na=Object(c.createFeature)({name:"discoveryService",fassets:{use:[["discoveryService",{required:!0,type:function(e){return e instanceof ta?null:"object of type DiscoveryServiceAPI, NOT: "+e}}]]}});var aa=function(e){function t(){return Object(C.a)(this,t),Object(L.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(N.a)(t,[{key:"searchDiscoveries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.loc,n=e.searchText,a=void 0===n?"":n,r=e.distance,o=void 0===r?5:r,i=e.minprice,c=void 0===i?"1":i,s=Object(g.a)(e,["loc","searchText","distance","minprice"]),l=S.prefix("DiscoveryServiceGooglePlaces.searchDiscoveries() parameter violation: ");l(t,"loc is required ... [lat,lng]"),l(w()(a),"supplied searchText (".concat(a,") must be a string")),l(o,"distance is required ... (1-31) miles"),l(o>=1&&o<=31,"supplied distance (".concat(o,") must be between 1-31 miles")),l(c,"minprice is required ... (0-4)"),l(c>="0"&&c<="4","supplied minprice (".concat(c,") must be between 0-4"));var u=Object.keys(s);l(0===u.length,"unrecognized named parameter(s): ".concat(u));var m,d={location:{lat:t[0],lng:t[1]},radius:(m=o,1609.34*m),minPriceLevel:c,type:"restaurant"};return a&&(d.keyword=a),new Promise(function(e,t){oa=e,ia=t;try{sa().nearbySearch(d,function(e,t,n){var a=ua(t);if(a)return ia(a);ra=n.hasNextPage?n:null;var r=function(e,t){return{pagetoken:t.hasNextPage?"giveMeTheNextPagePlease":null,discoveries:e.map(function(e){return la(e)})}}(e,n);return oa(r)})}catch(n){return ia(n)}})}},{key:"searchDiscoveriesNextPage",value:function(e){var t=S.prefix("DiscoveryServiceGooglePlaces.searchDiscoveriesNextPage() parameter violation: ");if(t(e,"pagetoken is required"),t(w()(e),"supplied pagetoken (".concat(e,") must be a string")),ra)return new Promise(function(e,t){oa=e,ia=t,ra.nextPage()});throw new Error("*** ERROR *** DiscoveryServiceGooglePlaces - Next page requested, when there are NO additional pages")}},{key:"fetchEateryDetail",value:function(e){return new Promise(function(t,n){try{sa().getDetails({fields:["place_id","name","formatted_phone_number","geometry","formatted_address","url","website"],placeId:e},function(e,a){var r=ua(a);if(r)return n(r);var o=la(e);return t(o)})}catch(a){return n(a)}})}}]),t}(ta),ra=null,oa=null,ia=null,ca=null;function sa(){if(ca)return ca;var e=window.google;if(!e)throw new Error("*** ERROR *** DiscoveryServiceGooglePlaces - NO google object has been defined from our initialization");return ca=new e.maps.places.PlacesService(document.createElement("div"))}function la(e){return{id:e.place_id,name:e.name,phone:e.formatted_phone_number||"not-in-search",loc:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},addr:e.formatted_address||e.vicinity,navUrl:e.url||"not-in-search",website:e.website||"not-in-search"}}function ua(e){if("OK"!==e&&"ZERO_RESULTS"!==e)return new Error("*** ERROR *** DiscoveryServiceGooglePlaces - Google Places ERROR STATUS: '".concat(e,"'"))}var ma=Object(c.createFeature)({name:"discoveryServiceGooglePlaces",enabled:Yt.useWIFI,fassets:{defineUse:{discoveryService:new aa}}}),da=n(206),pa=n.n(da),fa=function(){function e(){Object(C.a)(this,e)}return Object(N.a)(e,[{key:"monitorDbEateryPool",value:function(e,t,n){throw new Error("***ERROR*** ".concat(this.constructor.name,".monitorDbEateryPool() is a required service method that has NOT been implemented"))}},{key:"addEatery",value:function(e){throw new Error("***ERROR*** ".concat(this.constructor.name,".addEatery() is a required service method that has NOT been implemented"))}},{key:"removeEatery",value:function(e){throw new Error("***ERROR*** ".concat(this.constructor.name,".removeEatery() is a required service method that has NOT been implemented"))}}]),e}(),ga=function(e){function t(){var e,n;Object(C.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(L.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).curPoolMonitor={pool:null,monitorCB:null,eateries:null},n}return Object(J.a)(t,e),Object(N.a)(t,[{key:"monitorDbEateryPool",value:function(e,t,n){var a=ha.reduce(function(e,t){return e[t]=ba[t],e},{});for(var r in this.curPoolMonitor={pool:e,monitorCB:n,eateries:a},ba){var o=ba[r];o.distance=pa()([o.loc.lat,o.loc.lng],[t.lat,t.lng])}n(a)}},{key:"addEatery",value:function(e){var t=this;return new Promise(function(n,a){if(!t.curPoolMonitor.pool)return a(new Error("***ERROR*** (within app logic) EateryServiceMock.addEatery(): may only be called once a successful monitorDbEateryPool() has completed.").defineAttemptingToMsg("add an Eatery to the DB"));t.curPoolMonitor.eateries=Object(f.a)({},t.curPoolMonitor.eateries,Object(m.a)({},e.id,e)),t.curPoolMonitor.monitorCB(t.curPoolMonitor.eateries)})}},{key:"removeEatery",value:function(e){var t=this;return new Promise(function(n,a){if(!t.curPoolMonitor.pool)return a(new Error("***ERROR*** (within app logic) EateryServiceMock.removeEatery(): may only be called once a successful monitorDbEateryPool() has completed.").defineAttemptingToMsg("remove an Eatery from the DB"));var r=Object.assign({},t.curPoolMonitor.eateries);delete r[e],t.curPoolMonitor.eateries=r,t.curPoolMonitor.monitorCB(t.curPoolMonitor.eateries)})}}]),t}(fa),ha=["ChIJ2_bmEw6vIIYRS7ztDnnLpNg","ChIJaVmoJg6vIIYR9iB3FoxFfEQ","ChIJ6yNtftWuIIYRJrESGu4C5fM","ChIJ6zsQedWuIIYRYmlx6sWCkUw","ChIJ-6rxFimpIIYRCrq8YVb3Ujs","ChIJ6yVNhImlIIYR8tQxm8GDdi0","ChIJ28cfCwymIIYRmTnBVitvmZ0","ChIJ2ybOvA2mIIYRMRjz-wyjyu4","ChIJgTgvHA6mIIYR8-Hw_kHU-f0","ChIJryxqrxCmIIYRtUFAh4d96BY","ChIJs_quaAymIIYRUwRs2-LHWqA","ChIJu2hvxRGmIIYRaS0qajrz0ZE","ChIJ6b-WfSOmIIYRHRWCCIzhh08","ChIJRQDMLA2mIIYR-ZQnRWmSdnU","ChIJ8dWgxgymIIYRyt8bRdLUXXU","ChIJfV2h73KmIIYRRDpBV-crpB8","ChIJvTnAEW6mIIYRqA7o0JRIRyA","ChIJETttTjKkIIYRfnaTcqDqbnw","ChIJO8UE__pZJ4YROei1_1_xklM","ChIJ76kBGjFcJ4YRwmBQteVXEyk"],ba={"ChIJ-6rxFimpIIYRCrq8YVb3Ujs":{addr:"2000 Lakeshore Dr Uc250, New Orleans, LA 70148, USA",id:"ChIJ-6rxFimpIIYRCrq8YVb3Ujs",loc:{lat:30.02439820000001,lng:-90.0684455},name:"Aramark",navUrl:"https://maps.google.com/?cid=4274750946707028490",phone:"(504) 280-6079",website:"https://www.aramark.com/",distance:3},ChIJ01VeXQymIIYRI6lnasCzx3M:{addr:"724 Iberville St, New Orleans, LA 70130, USA",id:"ChIJ01VeXQymIIYRI6lnasCzx3M",loc:{lat:29.9543,lng:-90.0689558},name:"Acme Oyster House",navUrl:"https://maps.google.com/?cid=8342834473727404323",phone:"(504) 522-5973",website:"http://www.acmeoyster.com/french-quarter/",distance:4},ChIJ28cfCwymIIYRmTnBVitvmZ0:{addr:"841 Iberville St, New Orleans, LA 70112, USA",id:"ChIJ28cfCwymIIYRmTnBVitvmZ0",loc:{lat:29.9553468,lng:-90.0698063},name:"Deanie's Seafood Restaurant in the French Quarter",navUrl:"https://maps.google.com/?cid=11356230167321196953",phone:"(504) 581-1316",website:"https://www.deanies.com/",distance:4},ChIJ2_bmEw6vIIYRS7ztDnnLpNg:{addr:"900 Harrison Ave, New Orleans, LA 70124, USA",id:"ChIJ2_bmEw6vIIYRS7ztDnnLpNg",loc:{lat:30.003912,lng:-90.103667},name:"Mondo",navUrl:"https://maps.google.com/?cid=15610825929174924363",phone:"(504) 224-2633",website:"http://www.mondoneworleans.com/",distance:1},"ChIJ2ybOvA2mIIYRMRjz-wyjyu4":{addr:"307 Chartres St, New Orleans, LA 70130, USA",id:"ChIJ2ybOvA2mIIYRMRjz-wyjyu4",loc:{lat:29.9544808,lng:-90.0665677},name:"Caf\xe9 Fleur-De-Lis",navUrl:"https://maps.google.com/?cid=17206744602484348977",phone:"(504) 529-9641",website:"http://cafefleurdelis.com/",distance:4},"ChIJ6U-QewymIIYRzP5x_fdjwEw":{addr:"115 Bourbon St, New Orleans, LA 70130, USA",id:"ChIJ6U-QewymIIYRzP5x_fdjwEw",loc:{lat:29.954424,lng:-90.0695719},name:"Red Fish Grill",navUrl:"https://maps.google.com/?cid=5530530259171147468",phone:"(504) 598-1200",website:"http://www.redfishgrill.com/",distance:4},"ChIJ6b-WfSOmIIYRHRWCCIzhh08":{addr:"2601 Royal St, New Orleans, LA 70117, USA",id:"ChIJ6b-WfSOmIIYRHRWCCIzhh08",loc:{lat:29.96491200000001,lng:-90.051209},name:"Mimi's In the Marigny",navUrl:"https://maps.google.com/?cid=5730797042406659357",phone:"(504) 872-9868",website:"http://mimismarigny.com/",distance:5},ChIJ6yNtftWuIIYRJrESGu4C5fM:{addr:"6100 Hamburg St Suite A, New Orleans, LA 70122, USA",id:"ChIJ6yNtftWuIIYRJrESGu4C5fM",loc:{lat:30.020369,lng:-90.0767649},name:"Yummy Sushi",navUrl:"https://maps.google.com/?cid=17574456342546133286",phone:"(504) 309-9401",website:"not-in-search",distance:2},ChIJ6yVNhImlIIYR8tQxm8GDdi0:{addr:"315 S Broad Ave, New Orleans, LA 70119, USA",id:"ChIJ6yVNhImlIIYR8tQxm8GDdi0",loc:{lat:29.9636662,lng:-90.0895056},name:"Ruby Slipper Cafe",navUrl:"https://maps.google.com/?cid=3275950646514275570",phone:"(504) 525-9355",website:"http://www.therubyslippercafe.net/",distance:3},ChIJ6zsQedWuIIYRYmlx6sWCkUw:{addr:"1522 Robert E Lee Blvd, New Orleans, LA 70122, USA",id:"ChIJ6zsQedWuIIYRYmlx6sWCkUw",loc:{lat:30.0207669,lng:-90.07682419999999},name:"The F\xfcd Bar",navUrl:"https://maps.google.com/?cid=5517334805059037538",phone:"(504) 309-3284",website:"http://www.eathappynola.com/",distance:2},ChIJ76kBGjFcJ4YRwmBQteVXEyk:{addr:"19130 Rogers Ln, Covington, LA 70433, USA",id:"ChIJ76kBGjFcJ4YRwmBQteVXEyk",loc:{lat:30.4735482,lng:-90.0887137},name:"The Chimes-Covington",navUrl:"https://maps.google.com/?cid=2959806024213618882",phone:"(985) 892-5396",website:"http://www.thechimes.com/the-chimes-covington",distance:32},ChIJ7SpQ6RGmIIYRsuU_zP71sBI:{addr:"630 St Peter, New Orleans, LA 70116, USA",id:"ChIJ7SpQ6RGmIIYRsuU_zP71sBI",loc:{lat:29.9577089,lng:-90.0645131},name:"Gumbo Shop",navUrl:"https://maps.google.com/?cid=1346846763281016242",phone:"(504) 525-1486",website:"http://gumboshop.com/",distance:4},ChIJ8VL0ug2mIIYRDrOWNVA6nhY:{addr:"307 Exchange Pl, New Orleans, LA 70130, USA",id:"ChIJ8VL0ug2mIIYRDrOWNVA6nhY",loc:{lat:29.9546927,lng:-90.067018},name:"Green Goddess",navUrl:"https://maps.google.com/?cid=1629804231325561614",phone:"(504) 301-3347",website:"http://greengoddessrestaurant.com/",distance:4},ChIJ8W3hFQymIIYRQObKMMNMyRo:{addr:"808 Bienville St, New Orleans, LA 70112, USA",id:"ChIJ8W3hFQymIIYRQObKMMNMyRo",loc:{lat:29.9555463,lng:-90.06883859999999},name:"GW Fins",navUrl:"https://maps.google.com/?cid=1930158316525905472",phone:"(504) 581-3467",website:"http://gwfins.com/",distance:4},ChIJ8dWgxgymIIYRyt8bRdLUXXU:{addr:"125 Camp St, New Orleans, LA 70130, USA",id:"ChIJ8dWgxgymIIYRyt8bRdLUXXU",loc:{lat:29.9520226,lng:-90.0687354},name:"Red Gravy",navUrl:"https://maps.google.com/?cid=8457149674839334858",phone:"(504) 561-8844",website:"http://redgravycafe.com/",distance:5},"ChIJ9Uw1l75cJ4YRXJ2HT-BttUU":{addr:"70456 LA-21 E, Covington, LA 70433, USA",id:"ChIJ9Uw1l75cJ4YRXJ2HT-BttUU",loc:{lat:30.4537876,lng:-90.1340372},name:"Subway Restaurants",navUrl:"https://maps.google.com/?cid=5023041769576045916",phone:"(985) 875-0624",website:"http://order.subway.com/Stores/Redirect.aspx?s=28364&sa=0&f=r&utm_source=google&utm_medium=local&utm_term=0&utm_content=28364&utm_campaign=fwh-local-remote-order&cid=0:0:0:0:0:0&segment_code=0",distance:30},ChIJDVhB0w2mIIYRZVLScBsQtTo:{addr:"739 Conti St, New Orleans, LA 70130, USA",id:"ChIJDVhB0w2mIIYRZVLScBsQtTo",loc:{lat:29.956247,lng:-90.067626},name:"Oceana Grill",navUrl:"https://maps.google.com/?cid=4230305135027442277",phone:"(504) 525-6002",website:"http://www.oceanagrill.com/",distance:4},ChIJDxnIrtelIIYR8sJkRU4JuTM:{addr:"1732 St Charles Ave, New Orleans, LA 70130, USA",id:"ChIJDxnIrtelIIYR8sJkRU4JuTM",loc:{lat:29.9369517,lng:-90.076805},name:"The Avenue Pub",navUrl:"https://maps.google.com/?cid=3727020398402126578",phone:"(504) 586-9243",website:"http://theavenuepub.com/",distance:5},ChIJDyC9Ig6mIIYRDWmrSR08N54:{addr:"718 St Peter, New Orleans, LA 70116, USA",id:"ChIJDyC9Ig6mIIYRDWmrSR08N54",loc:{lat:29.9582008,lng:-90.0652973},name:"Pat O'Brien's",navUrl:"https://maps.google.com/?cid=11400647078199388429",phone:"(504) 525-4823",website:"http://www.patobriens.com/",distance:4},ChIJETttTjKkIIYRfnaTcqDqbnw:{addr:"3128 Magazine St, New Orleans, LA 70115, USA",id:"ChIJETttTjKkIIYRfnaTcqDqbnw",loc:{lat:29.924039,lng:-90.086011},name:"The Rum House",navUrl:"https://maps.google.com/?cid=8966361882979169918",phone:"(504) 941-7560",website:"http://www.therumhouse.com/",distance:6},ChIJFYDeXQymIIYRh1Cion6Ta9I:{addr:"716 Iberville St, New Orleans, LA 70130, USA",id:"ChIJFYDeXQymIIYRh1Cion6Ta9I",loc:{lat:29.954206,lng:-90.068728},name:"Dickie Brennan's Steakhouse",navUrl:"https://maps.google.com/?cid=15162374742576615559",phone:"(504) 522-2467",website:"http://www.dickiebrennanssteakhouse.com/",distance:4},ChIJG_d8TP5eJ4YR6wK6RwXBFkc:{addr:"72011 Holly St, Abita Springs, LA 70420, USA",id:"ChIJG_d8TP5eJ4YR6wK6RwXBFkc",loc:{lat:30.47869790000001,lng:-90.0391606},name:"Abita Brew Pub",navUrl:"https://maps.google.com/?cid=5122493854602887915",phone:"(985) 892-5837",website:"http://www.abitabrewpub.com/",distance:32},ChIJO8UE__pZJ4YROei1_1_xklM:{addr:"1917 Lakeshore Dr, Mandeville, LA 70448, USA",id:"ChIJO8UE__pZJ4YROei1_1_xklM",loc:{lat:30.3524862,lng:-90.0674878},name:"Rips On the Lake",navUrl:"https://maps.google.com/?cid=6022141046362073145",phone:"(985) 727-2829",website:"http://www.ripsonthelake.com/",distance:23},"ChIJRQDMLA2mIIYR-ZQnRWmSdnU":{addr:"200 Magazine St, New Orleans, LA 70130, USA",id:"ChIJRQDMLA2mIIYR-ZQnRWmSdnU",loc:{lat:29.9510068,lng:-90.0674083},name:"The Ruby Slipper Cafe",navUrl:"https://maps.google.com/?cid=8464113530518869241",phone:"(504) 525-9355",website:"http://www.therubyslippercafe.net/",distance:5},ChIJT4MvDBKmIIYRFjCBCX693Yc:{addr:"534 St Louis St, New Orleans, LA 70130, USA",id:"ChIJT4MvDBKmIIYRFjCBCX693Yc",loc:{lat:29.955558,lng:-90.065077},name:"NOLA Restaurant",navUrl:"https://maps.google.com/?cid=9790189513996316694",phone:"(504) 522-6652",website:"http://emerilsrestaurants.com/nola",distance:4},"ChIJTz6VoQumIIYRAXvVrezBp-U":{addr:"123 Baronne St, New Orleans, LA 70112, USA",id:"ChIJTz6VoQumIIYRAXvVrezBp-U",loc:{lat:29.9538764,lng:-90.0716274},name:"Domenica",navUrl:"https://maps.google.com/?cid=16548408578069068545",phone:"(504) 648-6020",website:"http://www.domenicarestaurant.com/",distance:4},"ChIJW3d2Wc2lIIYRu-qs_NaSOkg":{addr:"1403 Washington Ave, New Orleans, LA 70130, USA",id:"ChIJW3d2Wc2lIIYRu-qs_NaSOkg",loc:{lat:29.9287839,lng:-90.08421849999999},name:"Commander's Palace",navUrl:"https://maps.google.com/?cid=5204633771439876795",phone:"(504) 899-8221",website:"https://www.commanderspalace.com/",distance:6},ChIJWegGCA6mIIYRYAiMKN4T4CM:{addr:"713 St Louis St, New Orleans, LA 70130, USA",id:"ChIJWegGCA6mIIYRYAiMKN4T4CM",loc:{lat:29.95674039999999,lng:-90.06639969999999},name:"Antoine's Restaurant",navUrl:"https://maps.google.com/?cid=2585088030994597984",phone:"(504) 581-4422",website:"http://www.antoines.com/",distance:4},ChIJX0qVUw2mIIYRNZcBBOu8Xfs:{addr:"365 Canal St Suite 220, New Orleans, LA 70130, USA",id:"ChIJX0qVUw2mIIYRNZcBBOu8Xfs",loc:{lat:29.95115109999999,lng:-90.0653869},name:"Morton's The Steakhouse",navUrl:"https://maps.google.com/?cid=18112840993924552501",phone:"(504) 566-0221",website:"http://www.mortons.com/neworleans/",distance:5},"ChIJXUB3oBGmIIYRDRcvPi-pdDM":{addr:"547 St Ann St, New Orleans, LA 70116, USA",id:"ChIJXUB3oBGmIIYRDRcvPi-pdDM",loc:{lat:29.95826729999999,lng:-90.0629094},name:"Stanley Restaurant",navUrl:"https://maps.google.com/?cid=3707774413604591373",phone:"(504) 587-0093",website:"http://stanleyrestaurant.com/",distance:4},ChIJXXjcfZhcJ4YRWnFiE4ofXes:{addr:"6025 Pinnacle Pkwy, Covington, LA 70433, USA",id:"ChIJXXjcfZhcJ4YRWnFiE4ofXes",loc:{lat:30.444494,lng:-90.12936499999999},name:"Texas Roadhouse",navUrl:"https://maps.google.com/?cid=16959746449638322522",phone:"(985) 867-8008",website:"https://www.texasroadhouse.com/restaurant-locations/louisiana/covington",distance:30},ChIJYbYLMBimIIYR_jUx5ds4Quo:{addr:"536 Frenchmen St, New Orleans, LA 70116, USA",id:"ChIJYbYLMBimIIYR_jUx5ds4Quo",loc:{lat:29.9632722,lng:-90.0578685},name:"Three Muses",navUrl:"https://maps.google.com/?cid=16880116870432241150",phone:"(504) 252-4801",website:"http://www.3musesnola.com/",distance:4},ChIJaS5FoBGmIIYRTXOjqm3XxI0:{addr:"801 Chartres St, New Orleans, LA 70116, USA",id:"ChIJaS5FoBGmIIYRTXOjqm3XxI0",loc:{lat:29.9583835,lng:-90.063105},name:"Muriel's Jackson Square",navUrl:"https://maps.google.com/?cid=10215526720797373261",phone:"(504) 568-1885",website:"http://www.muriels.com/",distance:4},ChIJaVmoJg6vIIYR9iB3FoxFfEQ:{addr:"6300 Argonne Blvd, New Orleans, LA 70124, USA",id:"ChIJaVmoJg6vIIYR9iB3FoxFfEQ",loc:{lat:30.004869,lng:-90.102976},name:"The Velvet Cactus",navUrl:"https://maps.google.com/?cid=4934895759665864950",phone:"(504) 301-2083",website:"http://www.thevelvetcactus.com/",distance:1},"ChIJf-CSq3SmIIYR1QNnxY9r5wo":{addr:"333 St Charles Ave, New Orleans, LA 70130, USA",id:"ChIJf-CSq3SmIIYR1QNnxY9r5wo",loc:{lat:29.950587,lng:-90.07044619999999},name:"Luke",navUrl:"https://maps.google.com/?cid=785714925235798997",phone:"(504) 378-2840",website:"http://www.lukeneworleans.com/",distance:5},"ChIJfV2h73KmIIYRRDpBV-crpB8":{addr:"401 Poydras St, New Orleans, LA 70130, USA",id:"ChIJfV2h73KmIIYRRDpBV-crpB8",loc:{lat:29.949065,lng:-90.06708809999999},name:"Mother's Restaurant",navUrl:"https://maps.google.com/?cid=2279995583957645892",phone:"(504) 523-9656",website:"http://www.mothersrestaurant.net/",distance:5},"ChIJgTgvHA6mIIYR8-Hw_kHU-f0":{addr:"613 Royal St, New Orleans, LA 70130, USA",id:"ChIJgTgvHA6mIIYR8-Hw_kHU-f0",loc:{lat:29.9575423,lng:-90.0652683},name:"The Court of Two Sisters",navUrl:"https://maps.google.com/?cid=18300891940711883251",phone:"(504) 522-7261",website:"http://www.courtoftwosisters.com/",distance:4},ChIJi2AxW3SmIIYRmML7jsbqtb8:{addr:"701 St Charles Ave, New Orleans, LA 70130, USA",id:"ChIJi2AxW3SmIIYRmML7jsbqtb8",loc:{lat:29.947316,lng:-90.07156100000002},name:"Herbsaint",navUrl:"https://maps.google.com/?cid=13814205570552152728",phone:"(504) 524-4114",website:"http://www.herbsaint.com/",distance:5},ChIJiUWE9A2mIIYRngo31C8qPSw:{addr:"416 Chartres St, New Orleans, LA 70130, USA",id:"ChIJiUWE9A2mIIYRngo31C8qPSw",loc:{lat:29.955348,lng:-90.0655},name:"K-Paul's Louisiana Kitchen",navUrl:"https://maps.google.com/?cid=3187750496160385694",phone:"(504) 596-2530",website:"http://www.kpauls.com/",distance:4},"ChIJnUfNIiOmIIYRibUzWhx-PBg":{addr:"2440 Chartres St, New Orleans, LA 70117, USA",id:"ChIJnUfNIiOmIIYRibUzWhx-PBg",loc:{lat:29.9636919,lng:-90.0529387},name:"New Orleans Cake Caf\xe9 & Bakery",navUrl:"https://maps.google.com/?cid=1746409415750432137",phone:"(504) 943-0010",website:"http://www.nolacakes.com/",distance:5},ChIJnYiUJxtcJ4YRkAFmz9vshEU:{addr:"1202 N Hwy 190, Covington, LA 70433, USA",id:"ChIJnYiUJxtcJ4YRkAFmz9vshEU",loc:{lat:30.44807140000001,lng:-90.0815896},name:"Acme Oyster House",navUrl:"https://maps.google.com/?cid=5009389114364395920",phone:"(985) 246-6155",website:"http://www.acmeoyster.com/",distance:30},ChIJp6mGj3GmIIYRfS0qjpoGsmo:{addr:"800 Tchoupitoulas St, New Orleans, LA 70130, USA",id:"ChIJp6mGj3GmIIYRfS0qjpoGsmo",loc:{lat:29.944616,lng:-90.067286},name:"Emeril's New Orleans",navUrl:"https://maps.google.com/?cid=7688214774754717053",phone:"(504) 528-9393",website:"http://emerilsrestaurants.com/emerils-new-orleans",distance:5},"ChIJpdlCODylIIYRyeE-wYHtahE":{addr:"626 S Carrollton Ave, New Orleans, LA 70118, USA",id:"ChIJpdlCODylIIYRyeE-wYHtahE",loc:{lat:29.94384989999999,lng:-90.1339165},name:"The Camellia Grill",navUrl:"https://maps.google.com/?cid=1255076587724792265",phone:"(504) 309-2679",website:"https://www.facebook.com/pages/Camellia-Grill/104113072958918?rf=250301408353469",distance:4},ChIJryxqrxCmIIYRtUFAh4d96BY:{addr:"1201 Royal St, New Orleans, LA 70116, USA",id:"ChIJryxqrxCmIIYRtUFAh4d96BY",loc:{lat:29.96209660000001,lng:-90.06116809999999},name:"Verti Marte",navUrl:"https://maps.google.com/?cid=1650707284474479029",phone:"(504) 525-4767",website:"not-in-search",distance:4},"ChIJs_quaAymIIYRUwRs2-LHWqA":{addr:"144 Bourbon St, New Orleans, LA 70130, USA",id:"ChIJs_quaAymIIYRUwRs2-LHWqA",loc:{lat:29.9545625,lng:-90.0691287},name:"Bourbon House",navUrl:"https://maps.google.com/?cid=11554767571130254419",phone:"(504) 522-0111",website:"http://www.bourbonhouse.com/",distance:4},ChIJt2f3WgymIIYRb1B1S_gWc3I:{addr:"201 Royal St, New Orleans, LA 70130, USA",id:"ChIJt2f3WgymIIYRb1B1S_gWc3I",loc:{lat:29.9543868,lng:-90.0683629},name:"Mr. B's Bistro",navUrl:"https://maps.google.com/?cid=8246960598319190127",phone:"(504) 523-2078",website:"http://www.mrbsbistro.com/",distance:4},ChIJu2hvxRGmIIYRaS0qajrz0ZE:{addr:"717 Orleans St, New Orleans, LA 70116, USA",id:"ChIJu2hvxRGmIIYRaS0qajrz0ZE",loc:{lat:29.95864749999999,lng:-90.0645742},name:"Roux on Orleans Restaurant",navUrl:"https://maps.google.com/?cid=10507446837846879593",phone:"(504) 571-4604",website:"http://www.bourbonorleans.com/restaurant-dining.php",distance:4},ChIJuwqeNamlIIYRiCYSjKciG5c:{addr:"4905 Freret St, New Orleans, LA 70115, USA",id:"ChIJuwqeNamlIIYRiCYSjKciG5c",loc:{lat:29.935024,lng:-90.1074596},name:"Cure",navUrl:"https://maps.google.com/?cid=10888334627103188616",phone:"(504) 302-2357",website:"http://curenola.com/",distance:5},ChIJv2VvX3GmIIYRlCIIn4WtIYY:{addr:"800 Magazine St, New Orleans, LA 70130, USA",id:"ChIJv2VvX3GmIIYRlCIIn4WtIYY",loc:{lat:29.945088,lng:-90.069051},name:"P\xeache Seafood Grill",navUrl:"https://maps.google.com/?cid=9665197064724161172",phone:"(504) 522-1744",website:"https://www.pecherestaurant.com/",distance:5},ChIJvTnAEW6mIIYRqA7o0JRIRyA:{addr:"201 Julia St, New Orleans, LA 70130, USA",id:"ChIJvTnAEW6mIIYRqA7o0JRIRyA",loc:{lat:29.9444575,lng:-90.0647824},name:"Mulate's | The Original Cajun Restaurant",navUrl:"https://maps.google.com/?cid=2325907536557379240",phone:"(504) 522-1492",website:"https://www.mulates.com/",distance:5},ChIJzXUQJhimIIYR7wBw72LWWZs:{addr:"508 Frenchmen St, New Orleans, LA 70116, USA",id:"ChIJzXUQJhimIIYR7wBw72LWWZs",loc:{lat:29.962781,lng:-90.057801},name:"The Maison",navUrl:"https://maps.google.com/?cid=11194214069218312431",phone:"(504) 371-5543",website:"http://www.maisonfrenchmen.com/",distance:4}},va={pagetoken:"THERE_IS_MORE",discoveries:[]},Oa={pagetoken:null,discoveries:[]},Ea=!1;for(var wa in ba){var ya=ba[wa];"ChIJTz6VoQumIIYRAXvVrezBp-U"===ya.id&&(Ea=!0),Ea?Oa.discoveries.push(ya):va.discoveries.push(ya)}var Ia=function(e){function t(){return Object(C.a)(this,t),Object(L.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(N.a)(t,[{key:"searchDiscoveries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.loc,n=e.searchText,a=void 0===n?"":n,r=e.distance,o=void 0===r?5:r,i=e.minprice,c=void 0===i?"1":i,s=Object(g.a)(e,["loc","searchText","distance","minprice"]),l=S.prefix("DiscoveryServiceMock.searchDiscoveries() parameter violation: ");l(t,"loc is required ... [lat,lng]"),l(w()(a),"supplied searchText (".concat(a,") must be a string")),l(o,"distance is required ... (1-31) miles"),l(o>=1&&o<=31,"supplied distance (".concat(o,") must be between 1-31 miles")),l(c,"minprice is required ... (0-4)"),l(c>="0"&&c<="4","supplied minprice (".concat(c,") must be between 0-4"));var u=Object.keys(s);return l(0===u.length,"unrecognized named parameter(s): ".concat(u)),new Promise(function(e,t){return e(va)})}},{key:"searchDiscoveriesNextPage",value:function(e){var t=S.prefix("DiscoveryServiceMock.searchDiscoveriesNextPage() parameter violation: ");return t(e,"pagetoken is required"),t(w()(e),"supplied pagetoken (".concat(e,") must be a string")),new Promise(function(e,t){return e(Oa)})}},{key:"fetchEateryDetail",value:function(e){return new Promise(function(t,n){return t(ba[e])})}}]),t}(ta),Sa=Object(c.createFeature)({name:"discoveryServiceMock",enabled:!Yt.useWIFI,fassets:{defineUse:{discoveryService:new Ia}}}),ja="eateries",Ra=Object(s.slicedReducer)("view.".concat(ja),Object(c.expandWithFassets)(function(e){var t,n,a,r;return Object(R.combineReducers)({dbPool:Object(h.reducerHash)((t={},Object(m.a)(t,Pa.dbPool.changed,function(e,t){return t.eateries}),Object(m.a)(t,e.actions.signOut,function(e,t){return null}),t),null),listView:Object(R.combineReducers)({filterForm:Fa.registrar.formReducer(),filter:Object(h.reducerHash)((n={},Object(m.a)(n,Pa.filterForm.process,function(e,t){return t.domain}),Object(m.a)(n,e.actions.signOut,function(e,t){return{distance:null,sortOrder:"name"}}),n),{distance:null,sortOrder:"name"})}),selectedEateryId:Object(h.reducerHash)((a={},Object(m.a)(a,Pa.viewDetail,function(e,t){return t.eateryId}),Object(m.a)(a,Pa.viewDetail.close,function(e,t){return null}),a),null),spin:Object(h.reducerHash)((r={},Object(m.a)(r,Pa.spin,function(e,t){return t.spinMsg}),Object(m.a)(r,Pa.spin.complete,function(e,t){return null}),r),null)})})),Aa=Ra,Ca=function(e){return Ra.getSlicedState(e)},Na=function(e){return Ca(e).dbPool},Ua=function(e){return Ca(e).listView.filter},xa=Object(A.a)(Na,Ua,function(e,t){return e?Object.values(e).filter(function(e){return!t.distance||e.distance<=t.distance}).sort(function(e,n){return("distance"===t.sortOrder?e.distance-n.distance:0)||e.name.localeCompare(n.name)}):null}),ka=function(e){var t=Ca(e).selectedEateryId;return t?Ca(e).dbPool[t]:null},Ma=function(e){return Ca(e).spin},Ta="Sort order should be either 'name' or 'distance'",Fa=j({formDesc:"Pool Filter",formSchema:p.object().shape({distance:p.number().label("Miles").typeError("Miles should be a positive number (when supplied)").nullable().transform(function(e){return e||null}).positive("Miles should be a positive number (when supplied)"),sortOrder:p.string().label("Sort").typeError(Ta).required().matches(/(name|distance)/,Ta)}),formActionsAccessor:function(){return Pa.filterForm},formStateSelector:function(e){return function(e){return Ca(e).listView.filterForm}(e)}}),Pa=d.generateActions.root(Object(m.a)({},ja,{dbPool:{changed:{actionMeta:{traits:["eateries"]}},add:{actionMeta:{traits:["eateryId"]},eateryDetail:{actionMeta:{traits:["eatery"]},fail:{actionMeta:{traits:["eateryId","err"]}}}},remove:{actionMeta:{traits:["eateryId"]}}},filterForm:Fa.registrar.formActionGenesis(),viewDetail:{actionMeta:{traits:["eateryId"]},close:{actionMeta:{}}},spin:{actionMeta:{},complete:{actionMeta:{traits:["eateryId"]}}}})),Da={pool:null,wrapUp:function(){return"no-op"}},La=null,Ya=new ga,Ja=Object(c.expandWithFassets)(function(e){return Object(b.b)({name:"".concat(ja,".setupGuestUser"),type:String(e.actions.signIn.complete),transform:function(e,t){e.getState;var n=e.action,a=e.fassets;n.user.isGuest()&&(La=a.eateryService,a.eateryService=Ya,te({msg:'as a "guest" user, your Eatery pool is a "mocked" in-memory data source'})),t(n)}})}),Wa=Object(c.expandWithFassets)(function(e){return Object(b.b)({name:"".concat(ja,".tearDownGuestUser"),type:String(e.actions.signOut),process:function(e,t,n){e.getState;var a=e.action,r=e.fassets;a.user.isGuest()&&(r.eateryService=La),n()}})}),Va=Object(c.expandWithFassets)(function(e){return Object(b.b)({name:"".concat(ja,".monitorDbPool"),type:String(e.actions.userProfileChanged),warnTimeout:0,validate:function(e,t,n){e.getState;var a=e.action;e.fassets;a.user.pool!==Da.pool?t(a):n(a)},process:function(e,t,n){var a=e.getState,r=e.action,o=e.fassets;Da.wrapUp(),Da={pool:r.user.pool,wrapUp:function(){n()}},o.eateryService.monitorDbEateryPool(r.user.pool,o.sel.getLocation(a()),function(e){t(Pa.dbPool.changed(e))})}})}),Ba=Object(c.expandWithFassets)(function(e){return Object(b.b)({name:"".concat(ja,".closeDbPool"),type:String(e.actions.signOut),process:function(e,t,n){e.getState,e.action,e.fassets;Da.wrapUp(),Da={pool:null,wrapUp:function(){return"no-op"}},n()}})}),qa=Object(b.b)({name:"".concat(ja,".defaultFilter"),type:String(Pa.filterForm.open),transform:function(e,t){var n=e.getState,a=e.action;e.fassets;a.domain||(a.domain=Ua(n())),t(a)}}),Ga=Object(b.b)({name:"".concat(ja,".processFilter"),type:String(Pa.filterForm.process),process:function(e,t,n){e.getState,e.action;t(e.fassets.actions.changeView(ja)),t(Pa.filterForm.close()),n()}}),_a=Object(b.b)({name:"".concat(ja,".spin"),type:String(Pa.spin),transform:function(e,t,n){var a=e.getState,r=e.action,o=(e.fassets,a()),i=xa(o);r.spinMsg="... selecting your eatery from ".concat(i.length," entries!"),t(r)},process:function(e,t,n){var a=e.getState;e.action,e.fassets;setTimeout(function(){var e=a(),r=xa(e),o=Math.ceil(0),i=Math.floor(r.length),c=r[Math.floor(Math.random()*(i-o))+o].id;t(Pa.spin.complete(c)),n()},1200)}}),Ha=Object(b.b)({name:"".concat(ja,".spinComplete"),type:String(Pa.spin.complete),process:function(e,t,n){e.getState;var a=e.action;e.fassets;t(Pa.viewDetail(a.eateryId)),n()}}),za=Object(b.b)({name:"".concat(ja,".addToPoolPrep"),type:String(Pa.dbPool.add),process:function(e,t,n){e.getState;var a=e.action;e.fassets.discoveryService.fetchEateryDetail(a.eateryId).then(function(e){t(Pa.dbPool.add.eateryDetail(e)),n()}).catch(function(e){t(Pa.dbPool.add.eateryDetail.fail(a.eateryId,e)),n()})}}),Xa=Object(b.b)({name:"".concat(ja,".addToPool"),type:String(Pa.dbPool.add.eateryDetail),transform:function(e,t,n){e.getState;var a=e.action;e.fassets.eateryService.addEatery(a.eatery).catch(function(e){ce({err:e})}),t(a)}}),$a=Object(b.b)({name:"".concat(ja,".removeFromPool"),type:String(Pa.dbPool.remove),transform:function(e,t,n){e.getState;var a=e.action;e.fassets.eateryService.removeEatery(a.eateryId).catch(function(e){ce({err:e})}),t(a)}}),Qa=Object(c.expandWithFassets)(function(e){return[Ja(e),Wa(e),Va(e),Ba(e)].concat(Object(D.a)(Fa.registrar.formLogic()),[qa,Ga,_a,Ha,za,Xa,$a])}),Ka=n(674),Za=n(208),er=n.n(Za),tr=n(207),nr=n.n(tr),ar=n(344),rr=n.n(ar),or=n(676),ir=n(680),cr=n(679),sr=n(677),lr=n(678),ur=n(675),mr=n(343),dr=n.n(mr),pr=n(209),fr=n.n(pr);function gr(e){var t=e.eatery,n=Object(c.useFassets)(),o=Object(Fe.useSelector)(function(e){return n.sel.curUser(e)},[n]),i=Object(Fe.useDispatch)(),s=Object(a.useCallback)(function(){return i(Pa.viewDetail.close())},[]),l=Object(a.useCallback)(function(){return i(Pa.spin())},[]),u=_e(),m=hr();return r.a.createElement($e.a,{open:!0,onClose:s,fullScreen:u,TransitionComponent:mt},r.a.createElement(Ze.a,{disableTypography:!0,className:m.titleBar},r.a.createElement(it.a,{className:m.title,variant:"h6",color:"inherit",noWrap:!0},"Eatery",r.a.createElement(it.a,{color:"inherit",display:"inline",noWrap:!0},"\xa0(",o.pool,")")),r.a.createElement(At.a,{color:"inherit",onClick:s},r.a.createElement(Nn.a,null))),r.a.createElement(Qe.a,null,r.a.createElement(Pn.a,null,r.a.createElement(Dn.a,null,r.a.createElement(Yn.a,{primary:r.a.createElement(it.a,{variant:"h6"},t.name)})),r.a.createElement(Dn.a,null,r.a.createElement(Ln.a,null,r.a.createElement(nr.a,null)),r.a.createElement(Yn.a,{primary:r.a.createElement(Ka.a,{variant:"body1",href:t.navUrl,target:"_blank",color:"inherit",underline:"none"},t.addr),secondary:"".concat(t.distance," mile").concat(1===t.distance?"":"s")})),r.a.createElement(Dn.a,null,r.a.createElement(Ln.a,null,r.a.createElement(dr.a,null)),r.a.createElement(Yn.a,{primary:r.a.createElement(Ka.a,{variant:"body1",href:"tel:".concat(t.phone),color:"inherit",underline:"none"},t.phone)})),"not-in-search"!==t.website&&r.a.createElement(Dn.a,null,r.a.createElement(Ln.a,null,r.a.createElement(er.a,null)),r.a.createElement(Yn.a,{primary:r.a.createElement(Ka.a,{variant:"body1",href:t.website,target:"_blank",color:"inherit",underline:"none"},"Web Site")})))),r.a.createElement(ur.a,{className:m.bottomBar},r.a.createElement(At.a,{color:"inherit",onClick:l},r.a.createElement(fr.a,null),r.a.createElement(it.a,{color:"inherit",variant:"subtitle1"},"\xa0\xa0Spin Again"))))}var hr=Object(B.a)(function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},bottomBar:{color:e.palette.common.white,backgroundColor:e.palette.primary.main}}});function br(){var e=Object(Fe.useSelector)(function(e){return xa(e)},[]),t=Object(Fe.useSelector)(function(e){return Ua(e)},[]),n=Object(Fe.useSelector)(function(e){return ka(e)},[]),o=Object(Fe.useSelector)(function(e){return Ma(e)},[]),i=Object(Fe.useDispatch)(),c=Object(a.useCallback)(function(e){i(Pa.viewDetail(e))},[]),s=function(){var e=Object(Fe.useSelector)(function(e){return Ge(e)},[]),t=Object(Pe.a)();return Object(De.a)(t.breakpoints.up(e))}(),l=vr();if(!e)return r.a.createElement(yt,{msg:"... waiting for pool entries"});var u="distance"===t.sortOrder,m=-1;return r.a.createElement(r.a.Fragment,null,r.a.createElement(function(){return s?r.a.createElement(or.a,{size:"small",className:l.table},r.a.createElement(sr.a,null,r.a.createElement(lr.a,null,u&&r.a.createElement(cr.a,{className:l.tableHeader},"Miles"),r.a.createElement(cr.a,{className:l.tableHeader},"Eatery"),r.a.createElement(cr.a,{className:l.tableHeader},"Phone"),!u&&r.a.createElement(cr.a,{className:l.tableHeader},"Miles"),r.a.createElement(cr.a,{className:l.tableHeader},"Address"))),r.a.createElement(ir.a,null,e.map(function(e){return r.a.createElement(lr.a,{key:e.id,hover:!0,onClick:function(){return c(e.id)}},u&&r.a.createElement(cr.a,{align:"right"},e.distance),r.a.createElement(cr.a,null,e.name,"not-in-search"!==e.website&&r.a.createElement(r.a.Fragment,null,"\xa0",r.a.createElement(Ka.a,{href:e.website,target:"_blank",color:"inherit",underline:"none"},r.a.createElement(er.a,{className:l.icon})))),r.a.createElement(cr.a,null,r.a.createElement(it.a,{variant:"body2",noWrap:!0},e.phone)),!u&&r.a.createElement(cr.a,{align:"right"},e.distance),r.a.createElement(cr.a,null,r.a.createElement(Ka.a,{href:e.navUrl,target:"_blank",color:"inherit",underline:"none"},r.a.createElement(nr.a,{className:l.icon}))," \xa0",e.addr))}))):function(){var t=[];return e.forEach(function(e){if(u&&e.distance!==m){m=e.distance;var n="".concat(m," mile").concat(1===m?"":"s");t.push(r.a.createElement(Dn.a,{key:"subheader".concat(m),dense:!0,className:l.divider,divider:!0},r.a.createElement(Yn.a,{primary:n,primaryTypographyProps:{variant:"subtitle1"}})))}t.push(r.a.createElement(Dn.a,{key:e.id,dense:!0,button:!0,divider:!0,onClick:function(){return c(e.id)}},r.a.createElement(Ln.a,null,r.a.createElement(rr.a,null)),r.a.createElement(Yn.a,{primary:r.a.createElement(it.a,{variant:"h6",noWrap:!0},e.name,r.a.createElement(it.a,{display:"inline",noWrap:!0},"\xa0(","".concat(e.distance," mile").concat(1===e.distance?"":"s"),")")),secondary:r.a.createElement(it.a,{variant:"subtitle1",noWrap:!0},e.addr)})))}),r.a.createElement(Pn.a,null,t)}()},null),o&&r.a.createElement(yt,{msg:o}),n&&r.a.createElement(gr,{eatery:n}))}var vr=Object(B.a)(function(e){return{divider:{backgroundColor:e.palette.divider},table:{marginTop:15},tableHeader:{top:0,position:"sticky",color:"black",background:"rgba(200, 200, 200, 1.0)"},icon:{width:16,color:e.palette.secondary.main,verticalAlign:"middle"}}});function Or(){var e=Object(Fe.useDispatch)(),t=Object(Fe.useSelector)(function(e){return Fa.formStateSelector(e)},[]),n=_e(),a=Er(),o=Fa.IForm(t,e),i=o.getLabel(),c=o.inProcess(),s={fieldName:"sortOrder",iForm:o},l=o.getMsg();return r.a.createElement($e.a,{open:!0,onClose:o.handleClose,fullScreen:n,TransitionComponent:ut},r.a.createElement("form",{onSubmit:o.handleProcess},r.a.createElement(Ze.a,{disableTypography:!0,className:a.titleBar},r.a.createElement(it.a,{className:a.title,variant:"h6",color:"inherit",noWrap:!0},i),r.a.createElement(At.a,{color:"inherit",onClick:o.handleClose},r.a.createElement(Nn.a,null))),r.a.createElement(Qe.a,null,r.a.createElement(Ke.a,{className:a.entry},"filter your pool with these settings ..."),r.a.createElement("div",{className:a.entry},r.a.createElement(bt,{fieldName:"distance",iForm:o,autoFocus:!0,type:"number",helperText:"prune entries within this distance (leave blank to view entire pool)"})),r.a.createElement("div",{className:a.entry},r.a.createElement(An,Object.assign({},s,{row:!0,helperText:"sort entries by Restaurant (name) or Distance"}),r.a.createElement(An.Op,Object.assign({value:"name",label:"Restaurant"},s)),r.a.createElement(An.Op,Object.assign({value:"distance",label:"Distance"},s)))),r.a.createElement("div",{className:a.entry},r.a.createElement(pt,null,r.a.createElement(q.a,{type:"submit",variant:"contained",color:"primary"},r.a.createElement(xn.a,{className:a.icon}),"Filter Pool"))),l&&r.a.createElement("div",{className:a.entry},r.a.createElement(vt.a,{error:!0},l)),c&&r.a.createElement("div",{className:a.entry},r.a.createElement(Ot.a,{className:a.inProgress,color:"secondary"})))))}var Er=Object(B.a)(function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},entry:{margin:"30px 0px"},icon:{marginRight:e.spacing(1)},inProgress:{margin:e.spacing(4)}}}),wr=[Object(u.featureRoute)({priority:u.PRIORITY.HIGH,content:function(e){e.fassets;if(function(e){return!!Ca(e).listView.filterForm}(e.appState))return r.a.createElement(Or,null)}}),Object(u.featureRoute)({content:function(e){var t=e.fassets,n=e.appState;return t.sel.curView(n)!==ja?null:r.a.createElement(br,null)}})],yr=n(345),Ir=n.n(yr);var Sr,jr=Object(B.a)(function(e){return{major:{color:e.palette.grey.A200},minor:{color:e.palette.primary.dark}}});var Rr=Object(c.createFeature)({name:ja,fassets:{define:{"actions.addEatery":Pa.dbPool.add,"actions.removeEatery":Pa.dbPool.remove,"sel.getEateryDbPool":Na},defineUse:(Sr={},Object(m.a)(Sr,"AppMotif.LeftNavItem.cc4_".concat(ja),function(){var e=Object(c.useFassets)(),t=Object(Fe.useDispatch)(),n=Object(a.useCallback)(function(){return t(e.actions.changeView(ja))},[e]),o=Object(a.useCallback)(function(){return t(Pa.filterForm.open())},[e]),i=jr();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dn.a,{button:!0,onClick:n},r.a.createElement(Ln.a,{className:i.major},r.a.createElement(Ir.a,null)),r.a.createElement(Yn.a,{primaryTypographyProps:{className:i.major},primary:"Pool"}),r.a.createElement($n.a,{onClick:o},r.a.createElement(Ln.a,null,r.a.createElement(At.a,{className:i.minor},r.a.createElement(Bn.a,null))))),r.a.createElement(Xn.a,null))}),Object(m.a)(Sr,"AppMotif.auxViewContent.".concat(ja),{TitleComp:function(){var e=Object(c.useFassets)(),t=Object(Fe.useSelector)(function(t){return e.sel.curUser(t)},[e]),n=Object(Fe.useSelector)(function(e){return Ua(e)},[]);return r.a.createElement(it.a,{variant:"h6",color:"inherit",noWrap:!0},"Pool",r.a.createElement(it.a,{color:"inherit",display:"inline",noWrap:!0},"\xa0(",t.pool,")"),n.distance&&r.a.createElement(it.a,{color:"inherit",noWrap:!0},"... within ",n.distance," mile",1===n.distance?"":"s"))},FooterComp:function(){var e=Object(Fe.useDispatch)(),t=Object(a.useCallback)(function(){return e(Pa.spin())},[]);return r.a.createElement(dt.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(it.a,null,"\xa0"),r.a.createElement(At.a,{color:"inherit",onClick:t},r.a.createElement(fr.a,null),r.a.createElement(it.a,{color:"inherit",variant:"subtitle1"},"\xa0\xa0Spin")),r.a.createElement(Zn.a,{title:"powered by Google Firebase"},r.a.createElement("img",{width:"50px",src:"/firebaseLogo.png",alt:""})))}}),Sr)},reducer:Aa,logic:Qa,route:wr,appDidStart:function(e){var t=e.fassets;e.appState;(0,e.dispatch)(t.actions.changeView(ja))}}),Ar=Object(c.createFeature)({name:"eateryService",fassets:{use:[["eateryService",{required:!0,type:function(e){return e instanceof fa?null:"object of type EateryServiceAPI, NOT: "+e}}]]}});var Cr=function(e){function t(){var e,n;Object(C.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(L.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).curPoolMonitor={pool:null,dbRef:null,wrapUp:function(){return"no-op"}},n}return Object(J.a)(t,e),Object(N.a)(t,[{key:"monitorDbEateryPool",value:function(e,t,n){this.curPoolMonitor.wrapUp(),this.curPoolMonitor={pool:e,dbRef:Wt.a.database().ref("/pools/".concat(e)),wrapUp:function(){this.dbRef.off("value")}},this.curPoolMonitor.dbRef.on("value",function(e){var a=null!==e.val()?e.val():{};for(var r in a){var o=a[r];o.distance=pa()([o.loc.lat,o.loc.lng],[t.lat,t.lng])}n(a)})}},{key:"addEatery",value:function(e){var t=this;return new Promise(function(n,a){if(!t.curPoolMonitor.pool)return a(new Error("***ERROR*** (within app logic) EateryServiceFirebase.addEatery(): may only be called once a successful monitorDbEateryPool() has completed.").defineAttemptingToMsg("add an Eatery to the DB"));Wt.a.database().ref("/pools/".concat(t.curPoolMonitor.pool,"/").concat(e.id)).set(e).then(function(){}).catch(function(n){return a(n.defineAttemptingToMsg("add eatery (".concat(e.id,") to pool ").concat(t.curPoolMonitor.pool)))})})}},{key:"removeEatery",value:function(e){var t=this;return new Promise(function(n,a){if(!t.curPoolMonitor.pool)return a(new Error("***ERROR*** (within app logic) EateryServiceFirebase.removeEatery(): may only be called once a successful monitorDbEateryPool() has completed.").defineAttemptingToMsg("remove an Eatery from the DB"));Wt.a.database().ref("/pools/".concat(t.curPoolMonitor.pool,"/").concat(e)).set(null).then(function(){}).catch(function(n){return a(n.defineAttemptingToMsg("remove eatery (".concat(e,") from pool ").concat(t.curPoolMonitor.pool)))})})}}]),t}(fa),Nr=Object(c.createFeature)({name:"eateryServiceFirebase",enabled:Yt.useWIFI,fassets:{defineUse:{eateryService:new Cr}}}),Ur=Object(c.createFeature)({name:"eateryServiceMock",enabled:!Yt.useWIFI,fassets:{defineUse:{eateryService:new ga}}});var xr=Object(c.createFeature)({name:"initFirebase",enabled:Yt.useWIFI,fassets:{defineUse:{"bootstrap.initFirebase":_t("Waiting for Firebase Initialization",function(e){e.dispatch,e.fassets;return new Promise(function(e,t){fetch("/fbac").then(function(e){return e.ok?e.text():t(new Error("**ERROR** Accessing /fbac resource was REJECTED with status: ".concat(e.status)))}).then(function(n){if(n.includes("<html"))return t(new Error("**ERROR** Non Existent Resource: /fbac"));var a=de(n);Wt.a.initializeApp(a),e(null)}).catch(function(e){return console.log("ERROR: reading /fbac: ".concat(e," ... "),e),t(e)})})})}}});var kr=Object(c.createFeature)({name:"initGooglePlaces",enabled:Yt.useWIFI,fassets:{defineUse:{"bootstrap.initGooglePlaces":_t("Waiting for Google Places Initialization",function(e){e.dispatch,e.fassets;return new Promise(function(e,t){fetch("/gpak").then(function(e){return e.ok?e.text():t(new Error("**ERROR** Accessing /gpak resource was REJECTED with status: ".concat(e.status)))}).then(function(n){if(n.includes("<html"))return t(new Error("**ERROR** Non Existent Resource: /gpak"));var a=de(n),r=document.createElement("script");r.type="text/javascript",r.src="https://maps.googleapis.com/maps/api/js?key=".concat(a,"&libraries=places"),document.body.appendChild(r),e(null)}).catch(function(e){return console.log("ERROR: reading /gpak: ".concat(e," ... "),e),t(e)})})})}}}),Mr=[Object(b.b)({name:"".concat("baseUI",".persistUITheme"),type:String(Le.toggleUITheme),process:function(e,t,n){var a,r=e.getState;e.action,e.fassets;a=qe(r()),ge(Ye,a),n()}}),Object(b.b)({name:"".concat("baseUI",".persistResponsiveMode"),type:String(Le.setResponsiveMode),process:function(e,t,n){var a,r=e.getState;e.action,e.fassets;a=Ge(r()),ge(Je,a),n()}})],Tr=n(330),Fr=n(177),Pr=n(684),Dr=n(682),Lr=n(681),Yr=n(683);function Jr(){var e=Object(a.useState)(!1),t=Object(Rt.a)(e,2),n=t[0],o=t[1];Br=Object(a.useCallback)(function(){return o(!0)},[]);var i=Object(a.useCallback)(function(){return o(!1)},[]),s=Object(c.useFassets)("AppMotif.LeftNavItem.*@withKeys"),l=Object(a.useMemo)(function(){return Object(D.a)(s).sort(function(e,t){var n=Object(Rt.a)(e,1)[0],a=Object(Rt.a)(t,1)[0];return n.localeCompare(a)})},[s]),u=Wr();return r.a.createElement(Lr.a,{open:n,onClose:i},r.a.createElement("div",{className:u.leftNav,onClick:i,onKeyDown:i},r.a.createElement(Dr.a,{position:"static"},r.a.createElement(Yr.a,null,r.a.createElement(it.a,{variant:"h6",color:"inherit"},"Select a view"))),r.a.createElement(Pn.a,null,l.map(function(e){var t=Object(Rt.a)(e,2),n=t[0],a=t[1];return r.a.createElement(a,{key:n})}))))}var Wr=Object(B.a)(function(e){return{leftNav:{width:250}}});function Vr(){Br&&Br()}var Br=null,qr=n(346),Gr=n.n(qr);function _r(e){var t=e.children,n=Object(c.useFassets)(),o=Object(Fe.useSelector)(function(e){return n.sel.curUser(e)},[n]),i=Object(Fe.useSelector)(function(e){return n.sel.curView(e)},[n]),s=Hr(),l=n.get("AppMotif.auxViewContent.*@withKeys"),u=Object(a.useMemo)(function(){return function(e,t){var n="AppMotif.auxViewContent.".concat(e),a=t.find(function(e){var t=Object(Rt.a)(e,1),a=t[0];return a===n})||zr;return Object(Rt.a)(a,2)[1]}(i,l)},[i,l]),m=u.TitleComp,d=u.FooterComp;return o.isUserSignedIn()?r.a.createElement("div",{className:s.app},r.a.createElement(Dr.a,{className:s.appBar,position:"absolute"},r.a.createElement(Yr.a,{className:s.toolbar,disableGutters:!1},r.a.createElement(At.a,{className:s.menuButton,color:"inherit",onClick:Vr},r.a.createElement(Gr.a,null)),r.a.createElement("div",{className:s.title},r.a.createElement(m,null)),r.a.createElement(xt,{curUser:o}))),r.a.createElement(Jr,null),r.a.createElement("main",{className:s.content},t),d&&r.a.createElement(Dr.a,{className:s.bottomBar,position:"absolute"},r.a.createElement(Yr.a,{className:s.toolbar,disableGutters:!1},r.a.createElement(d,null)))):r.a.createElement(r.a.Fragment,null,t)}var Hr=Object(B.a)(function(e){return{app:{display:"flex"},appBar:{},bottomBar:{top:"auto",bottom:0},toolbar:{},menuButton:{marginRight:36},title:{flexGrow:1},content:{flexGrow:1,height:"100vh",overflow:"auto",paddingTop:"4em",paddingBottom:"4em"}}});var zr=["AppMotif.auxViewContent.FALLBACK",{TitleComp:function(){return r.a.createElement(it.a,{variant:"h6",color:"inherit",noWrap:!0},"App Motif")}}];function Xr(e){var t=e.children,n=Object(Fe.useSelector)(function(e){return qe(e)},[]),o=Object(a.useMemo)(function(){return"dark"===n?Qr:$r},[n]),i=Kr();return r.a.createElement(Tr.a,{theme:o},r.a.createElement(Pr.a,null),r.a.createElement(G,null),r.a.createElement("main",{className:i.main},r.a.createElement(_r,null,t)))}var $r=Object(Fr.a)({typography:{useNextVariants:!0},palette:{type:"light"}}),Qr=Object(Fr.a)({typography:{useNextVariants:!0},palette:{type:"dark"}}),Kr=Object(B.a)(function(e){return{main:{width:"auto",display:"block"}}}),Zr=n(688),eo=n(347),to=n.n(eo),no=n(348),ao=n.n(no),ro=r.a.forwardRef(function(e,t){var n=Object(Fe.useSelector)(function(e){return qe(e)},[]),o=Object(a.useMemo)(function(){return"light"===n?to.a:ao.a},[n]),i=Object(a.useMemo)(function(){return"light"===n?"to dark":"to light"},[n]),c=Object(Fe.useDispatch)(),s=Object(a.useCallback)(function(){return c(Le.toggleUITheme())},[]);return r.a.createElement("span",Object.assign({},e,{ref:t}),r.a.createElement(Tt,{onClick:s},r.a.createElement(Zr.a,{label:i,icon:r.a.createElement(o,null)})),r.a.createElement(Xn.a,null))}),oo=r.a.forwardRef(function(e,t){var n=Object(Fe.useSelector)(function(e){return Ge(e)},[]),o=Object(a.useMemo)(function(){return"off"===n?function(){return null}:Xe.a},[n]),i=Object(Fe.useDispatch)(),c=Object(a.useCallback)(function(){oe.success({msg:'The eatery-nod-w app is designed with mobile devices in mind (i.e. cell phones).\n\nWhen the "responsive" mode is enabled, selected screens will dynamically adjust to take advantage of the additional screen real estate.  As an example, a simple list can morph into a detailed table.\n\nYou can define the "responsive" boundary where additional content is manifest (based on the screen width), or disable it altogether.\n\nSet the "responsive" boundary to:\n(** is current)',actions:[].concat(Object(D.a)(co(n,i)),[{txt:"Close"}])})},[]);return r.a.createElement("span",Object.assign({},e,{ref:t}),r.a.createElement(Tt,{onClick:c},r.a.createElement(Zr.a,{label:"responsive",icon:r.a.createElement(o,null)})),r.a.createElement(Xn.a,null))}),io=[{name:"Tablet",value:"sm"},{name:"Desktop",value:"md"},{name:"Landscape",value:"lg"},{name:"Disable",value:"off"}],co=function(e,t){return io.map(function(n){return{txt:"".concat(e===n.value?"**":"").concat(n.name),action:function(){return t(Le.setResponsiveMode(n.value))}}})},so=r.a.forwardRef(function(e,t){return r.a.createElement("span",Object.assign({},e,{ref:t}),r.a.createElement(Xn.a,null),r.a.createElement(Tt,{onClick:lo},"About ..."))});function lo(){var e="https://github.com/KevinAst/eatery-nod-w/blob/master/README.md",t="https://github.com/KevinAst/eatery-nod-w/blob/master/README.md#revision-history",n="".concat("eatery-nod-w","\n\n").concat("A Date Night Restaurant Selector","\n\nversion: ").concat("2.1.0"),a=[];a.push({txt:"Docs",action:function(){return window.open(e,"_blank")}}),a.push({txt:"History",action:function(){return window.open(t,"_blank")}}),a.push({txt:"Close"}),ae.success({msg:n,actions:a})}var uo=Object(c.createFeature)({name:"baseUI",fassets:{define:{"actions.changeView":Le.changeView,"sel.curView":function(e){return Be(e).curView}},defineUse:{"AppMotif.UserMenuItem.aa1_UIThemeToggle":ro,"AppMotif.UserMenuItem.aa2_MaintainResponsiveMode":oo,"AppMotif.UserMenuItem.zz8_About":so},use:[["AppMotif.UserMenuItem.*",{required:!0,type:c.fassetValidations.comp}],["AppMotif.LeftNavItem.*",{required:!0,type:c.fassetValidations.comp}],["AppMotif.auxViewContent.*",{required:!1,type:c.fassetValidations.any}]]},reducer:Ve,logic:Mr,appWillStart:function(e){e.fassets;var t=e.curRootAppElm;return r.a.createElement(Xr,null,t)}}),mo=d.generateActions.root(Object(m.a)({},"location",{setLocation:{actionMeta:{traits:["loc"]}}})),po=Object(s.slicedReducer)("location",Object(c.expandWithFassets)(function(e){var t;return Object(h.reducerHash)((t={},Object(m.a)(t,mo.setLocation,function(e,t){return t.loc}),Object(m.a)(t,e.actions.signIn.complete,function(e,t){return t.user.guestLoc||e}),Object(m.a)(t,e.actions.signOut,function(e,t){return t.user.originalLoc}),t),null)})),fo=po,go=Yt.mockGPS?function(){var e={lat:38.752209,lng:-89.98661},t=Yt.mockGPS.lat?Yt.mockGPS:e;return new Promise(function(e,n){return e(t)})}:function(){return new Promise(function(e,t){if(!("geolocation"in navigator))return t(new Error("geolocation is NOT available in this browser"));navigator.geolocation.getCurrentPosition(function(t){return e({lat:t.coords.latitude,lng:t.coords.longitude})},function(e){var n=new Error(e.message);return n.code=e.code,n.PERMISSION_DENIED=e.PERMISSION_DENIED,n.POSITION_UNAVAILABLE=e.POSITION_UNAVAILABLE,n.TIMEOUT=e.TIMEOUT,t(n)},{enableHighAccuracy:!0})})};var ho=Object(c.createFeature)({name:"location",reducer:fo,fassets:{defineUse:{"bootstrap.location":_t("Waiting for GPS Location",function(e){var t=e.dispatch;e.fassets;return go().then(function(e){t(mo.setLocation(e))}).catch(function(e){throw t(mo.setLocation({lat:38.752209,lng:-89.98661})),e.defineUserMsg("Unable to get your GPS location (".concat(e.message,") ... falling back to our base location (Glen Carbon)"))})})},define:{"sel.getLocation":function(e){return po.getSlicedState(e)}}}}),bo=null,vo=[Object(b.b)({name:"".concat("logActions",".actionLogger"),type:"*",transform:function(e,t){e.getState;var n=e.action;"verbose"===Yt.log&&console.group("Action: ".concat(n.type)),console.log("Dispatched Action: ",n),t(n)},process:function(e,t,n){var a=e.getState;e.action,e.fassets;if("verbose"===Yt.log){var r=a();r===bo?console.log("Current State: UNCHANGED"):console.log("Current State: ",r),bo=r,console.groupEnd()}n()}})],Oo=Object(c.createFeature)({name:"logActions",enabled:!!Yt.log,logic:vo});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Eo=Object(c.createFeature)({name:"pwa",appDidStart:function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}}),wo=n(349),yo=n.n(wo);var Io=function(e,t){return r.a.createElement(Dn.a,{button:!0,onClick:t},r.a.createElement(Ln.a,null,r.a.createElement(yo.a,null)),r.a.createElement(Yn.a,{primary:e}))},So=Object(c.createFeature)({name:"sandbox",enabled:Yt.sandbox,fassets:{defineUse:{"AppMotif.LeftNavItem.zz5_sandbox":function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xn.a,null),r.a.createElement(Dn.a,null,r.a.createElement(Yn.a,{primary:"sandbox toasts ... "})),Io("success",function(){return te.success({msg:"success toast"})}),Io("info",function(){return te.info({msg:"info toast"})}),Io("warn",function(){return te.warn({msg:"warn toast"})}),Io("error",function(){return te.error({msg:"error toast",actions:[{txt:"OK"},{txt:"WowZee",action:function(){return te.success({msg:"WowZee: error toast CB"})}},{txt:"WooWoo",action:function(){return te.success({msg:"WooWoo: error toast CB"})}}]})}),r.a.createElement(Xn.a,null),r.a.createElement(Dn.a,null,r.a.createElement(Yn.a,{primary:"sandbox alerts ... "})),Io("success",function(){return ae.success({msg:"success alert"})}),Io("info",function(){return ae.info({msg:"info alert"})}),Io("warn",function(){return ae.warn({msg:"warn alert"})}),Io("error",function(){return ae.error({msg:"error alert",actions:[{txt:"OK"},{txt:"WowZee",action:function(){return ae.success({msg:"WowZee: error alert CB"})}},{txt:"WooWoo",action:function(){return ae.success({msg:"WooWoo: error alert CB"})}}]})}),r.a.createElement(Xn.a,null),r.a.createElement(Dn.a,null,r.a.createElement(Yn.a,{primary:"sandbox confirms ... "})),Io("success",function(){return oe.success({msg:"success confirm",actions:[{txt:"Okey Dokey"}]})}),Io("info",function(){return oe.info({msg:"info confirm",actions:[{txt:"Okey Dokey"}]})}),Io("warn",function(){return oe.warn({msg:"warn confirm",actions:[{txt:"Okey Dokey"}]})}),Io("error",function(){return oe.error({msg:"error confirm",actions:[{txt:"Okey Dokey"}]})}),r.a.createElement(Xn.a,null),r.a.createElement(Dn.a,null,r.a.createElement(Yn.a,{primary:"sandbox raw notifies ... "})),Io("notify",function(){return Z({msg:"my notify\nNow is the time for every good man to come to the aid of his country ... I really hope this works for a really long line\nnext next line",position:"top-center",duration:null,actions:[{txt:"OK"},{txt:"WowZee",action:function(){return te.success({msg:"WowZee: notify CB"})}},{txt:"WooWoo",action:function(){return te.success({msg:"WooWoo: notify CB"})}}]})}))}}}}),jo=[Rr,Ar,Nr,Ur,ea,na,ma,Sa,uo,Pt,Lt,Bt,Gt,en,xr,kr,ho,Eo,Oo,So],Ro=n(350),Ao=n.n(Ro);function Co(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue;return console.log("***DIAGNOSTIC*** ".concat(e)),t()}function No(e,t){return null}var Uo=Co;Uo.skip=No;var xo=n(255);function ko(e,t,n){Uo.skip("feature-redux plugin: test PUBLIC allowNoReducers$",function(){!function(){function t(){jo.forEach(function(e){e.reducer&&delete e.reducer})}Uo("test_allowNoReducers$() test PUBLIC allowNoReducers$ ... disable feature-u logging, so as to see forced logs",function(){c.launchApp.diag.logf.disable()}),Uo.skip("test_allowNoReducers$() 1st: insure allowNoReducers$ is NOT referenced when our features HAVE reducers ... should run normally",function(){e.config.allowNoReducers$=function(e){return"MY REDUCER"}}),Uo.skip("test_allowNoReducers$() 2nd: test DEFAULT EXCEPTION ... when our features HAVE NO reducers ... expecting: thrown exception",function(){t()}),Uo.skip("test_allowNoReducers$() 3rd: test allowNoReducers$ = true ... when our features HAVE NO reducers ... expecting: forced log",function(){t(),e.config.allowNoReducers$=!0}),Uo.skip("test_allowNoReducers$() 4th: test allowNoReducers$ = reducerFn ... when our features HAVE NO reducers ... expecting: forced log",function(){t(),e.config.allowNoReducers$=function(e){return"MY REDUCER"}})}()}),Uo.skip("feature-redux plugin: test HIDDEN createReduxStore$",function(){e.config.createReduxStore$=function(e,t){return console.log("OVERRIDING createReduxStore$ ... LOOK FOR THIS LOG"),0===t.length?Object(R.createStore)(e):Object(R.createStore)(e,Object(R.compose)(R.applyMiddleware.apply(void 0,Object(D.a)(t))))}}),Uo.skip("feature-redux-logic plugin: test PUBLIC allowNoLogic$",function(){!function(){function e(){jo.forEach(function(e){e.logic&&delete e.logic})}Uo("test_allowNoLogic$() test PUBLIC allowNoLogic$ ... disable feature-u logging, so as to see forced logs",function(){c.launchApp.diag.logf.disable()}),Uo.skip("test_allowNoLogic$() 1st: insure allowNoLogic$ is NOT referenced when our features HAVE logic ... should run normally",function(){t.config.allowNoLogic$=["simulatedLogicNotSoWell"]}),Uo.skip("test_allowNoLogic$() 2nd: test DEFAULT EXCEPTION ... when our features HAVE NO logic ... expecting: thrown exception",function(){e()}),Uo.skip("test_allowNoLogic$() 3rd: test allowNoLogic$ = true ... when our features HAVE NO logic ... expecting: forced log",function(){e(),t.config.allowNoLogic$=!0}),Uo.skip("test_allowNoLogic$() 4th: test allowNoLogic$ = [myLogic] ... when our features HAVE NO logic ... expecting: forced log",function(){e(),t.config.allowNoLogic$=["simulatedLogicNotSoWell"]})}()}),Uo.skip("feature-redux-logic plugin: test HIDDEN createLogicMiddleware$",function(){t.config.createLogicMiddleware$=function(e,t){return console.log("OVERRIDING createLogicMiddleware$ ... LOOK FOR THIS LOG"),Object(xo.a)(t,{app:e})}}),Uo.skip("feature-router plugin: test PUBLIC allowNoRoutes$",function(){!function(){function e(){jo.forEach(function(e){e.route&&delete e.route})}Uo("test_allowNoRoutes$() test PUBLIC allowNoRoutes$ ... disable feature-u logging, so as to see forced logs",function(){c.launchApp.diag.logf.disable()});var t=Object(u.featureRoute)({priority:u.PRIORITY.HIGH,content:function(e){e.app,e.appState;return r.a.createElement(yt,{msg:"KOOL: This is a route supplied by routeAspect.config.allowNoRoutes$ !!!"})}});Uo.skip("test_allowNoRoutes$() 1st: insure allowNoRoutes$ is NOT referenced when our features HAVE routes ... should run normally",function(){n.config.allowNoRoutes$=[t]}),Uo.skip("test_allowNoRoutes$() 2nd: test DEFAULT EXCEPTION ... when our features HAVE NO routes ... expecting: thrown exception",function(){e()}),Uo.skip("test_allowNoRoutes$() 3rd: test allowNoRoutes$ = true ... when our features HAVE NO routes ... expecting: forced log",function(){e(),n.config.allowNoRoutes$=!0}),Uo.skip("test_allowNoRoutes$() 4th: test allowNoRoutes$ = [routes] ... when our features HAVE NO routes ... expecting: forced log",function(){e(),n.config.allowNoRoutes$=[t]})}()}),Uo.skip("TEST ability to rename Aspect.name (on various plugin projects)",function(){Uo("test_renameAspectName() TEST ability to rename Aspect.name ... enable feature-u logging, so as to see the fun",function(){c.launchApp.diag.logf.enable()}),Uo("test_renameAspectName() RENAME Aspect.name:reducer TO: Aspect.name:reducerX",function(){e.name="reducerX",jo.forEach(function(e){e.reducer&&(e.reducerX=e.reducer,delete e.reducer)})}),Uo("test_renameAspectName() RENAME Aspect.name:logic TO: Aspect.name:logicX",function(){t.name="logicX",jo.forEach(function(e){e.logic&&(e.logicX=e.logic,delete e.logic)})}),Uo("test_renameAspectName() RENAME Aspect.name:route TO: Aspect.name:routeX",function(){n.name="routeX",jo.forEach(function(e){e.route&&(e.routeX=e.route,delete e.route)})})})}var Mo=Object(c.launchApp)({aspects:function(){var e=Object(s.createReducerAspect)(),t=Object(l.createLogicAspect)(),n=Object(u.createRouteAspect)(),a=[e,t,n];return n.config.fallbackElm$=r.a.createElement(yt,{msg:"I'm trying to think but it hurts!"}),function(e,t,n){Uo.skip('enable eatery-nod "sandbox" feature (in left-nav)',function(){So.enabled=!0}),Uo.skip('enable eatery-nod "logActions" feature',function(){Oo.enabled=!0}),Uo.skip("enable feature-u logging",function(){c.launchApp.diag.logf.enable()}),Uo.skip("show feature-u react elms as object blobs",function(){c.launchApp.diag.logf.elm2html=function(e){return e}}),Uo.skip("show feature-u react elms as html markup",function(){c.launchApp.diag.logf.elm2html=function(e){return Ao.a.renderToStaticMarkup(e)}}),Uo.skip("perform feature-u integration tests",function(){ko(e,t,n)})}(e,t,n),a}(),features:jo,registerRootAppElm:function(e){i.a.render(e,document.getElementById("root"))}});n.d(t,"default",function(){return Mo})}},[[368,1,2]]]);
//# sourceMappingURL=main.9881fced.chunk.js.map