(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{454:function(e,t,n){e.exports=n(954)},612:function(e,t){if(!Error.prototype.defineUserMsg){Error.prototype.defineUserMsg=function(e){return this.userMsg=e,this.expected=!0,this},Error.prototype.userMsg="Unexpected Condition",Error.prototype.isExpected=function(){return this.expected},Error.prototype.expected=!1,Error.prototype.isUnexpected=function(){return!this.expected},Error.prototype.defineAttemptingToMsg=function(e){return this.attemptingToMsg?this.attemptingToMsg+=", -and- ".concat(e):this.attemptingToMsg+=" ... attempting to: ".concat(e),this},Error.prototype.attemptingToMsg="",Error.prototype.formatUserMsg=function(){return this.userMsg+this.attemptingToMsg};var n=Error.prototype.toString;Error.prototype.toString=function(){return n.call(this)+"\n\nUser Msg: "+this.formatUserMsg()}}},954:function(e,t,n){"use strict";n.r(t);n(455),n(612);var a=n(0),r=n.n(a),o=n(51),i=n.n(o),c=n(4),s=n(53),l=n(428),u=n(49),m=n(6),p=n(67),d=n(62),f=n(42),h=n(33),g=n(41),v=n(177),b=n(429),y=n.n(b),w=n(26),I=n.n(w),E=n(29),O=n.n(E);function S(e,t){if(!e)throw new Error(t)}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.formDesc,n=e.formSchema,a=e.formActionsAccessor,r=e.formStateSelector,o=e.mapDomain2Form,i=e.mapForm2Domain,c=Object(h.a)(e,["formDesc","formSchema","formActionsAccessor","formStateSelector","mapDomain2Form","mapForm2Domain"]),s=S.prefix("IFormMeta() parameter violation: ");s(t,"formDesc is required"),s(I()(t),"invalid formDesc (expecting a string)"),s(n,"formSchema is required"),s(n.validate,"invalid formSchema (expecting a Yup Schema)"),s(a,"formActionsAccessor is required"),s(O()(a),"invalid formActionsAccessor (expecting a function)"),s(r,"formStateSelector is required"),s(O()(r),"invalid formStateSelector (expecting a function)");var l=Object.keys(c);s(0===l.length,"unrecognized named parameter(s): ".concat(l));var u=Object.keys(n.fields),p=u.reduce(function(e,t){return e[t]=n.fields[t].describe().label||t,e},{FORM:t});o||(o=function(e){return u.reduce(function(t,n){return t[n]=e[n]||"",t[n]=t[n].toString(),t},{})}),s(O()(o),"invalid mapDomain2Form (expecting a function)"),i||(i=function(e){return e}),s(O()(i),"invalid mapForm2Domain (expecting a function)");var d={abortEarly:!1};function b(e){return n.validate(e,d).then(function(){return{}}).catch(function(e){var t={};return e.inner.forEach(function(e){t[e.path]=e.message}),t})}return{registrar:{formActionGenesis:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={open:{actionMeta:{traits:["domain","formMsg"],ratify:function(){return[arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null]}}},fieldChanged:{actionMeta:{traits:["fieldName","value"]}},fieldTouched:{actionMeta:{traits:["fieldName"]}},process:{actionMeta:{},reject:{actionMeta:{traits:["msgs"]}}},close:{actionMeta:{}}},n=S.prefix("IFormMeta.formActionGenesis(): invalid appInjectedFormActions parameter ... ");for(var a in e)n(!t[a],"".concat(a," action is reserved as one of the auto-generated iForm actions.")),t[a]=e[a];return t},formLogic:function(){var e=a();return[Object(v.b)({name:"validateFields for '".concat(t,"' form"),type:[String(e.fieldChanged),String(e.fieldTouched)],validate:function(t,n,a){var o=t.getState,i=t.action,c=(t.api,r(o()));c.inProcess?a():b(i.type===String(e.fieldChanged)?Object(f.a)({},c.values,Object(m.a)({},i.fieldName,i.value)):c.values).then(function(e){c.msgs.FORM&&(e.FORM=c.msgs.FORM),i.msgs=e,n(i)})}}),Object(v.b)({name:"process validation for '".concat(t,"' form"),type:String(e.process),validate:function(t,a,o){var c=t.getState,s=t.action,l=(t.api,r(c()));l.inProcess?o():b(l.values).then(function(t){if(Object.keys(t).length>0)t.FORM="Please resolve the highlighted issues, and try again.",a(e.process.reject(t));else{var r=n.cast(l.values),o=i(r);s.values=r,s.domain=o,a(s)}})}})]},formReducer:function(){var e,n=a();return Object(g.reducerHash)((e={},Object(m.a)(e,n.open,function(e,n){var a=n.domain?o(n.domain):u.reduce(function(e,t){return e[t]="",e},{}),r=u.sort(),i=Object.keys(a).sort();S(y()(r,i),"'".concat(t,"' form open reducer ... miss-matched field(s) introduced in app-supplied mapDomain2Form ... generated fields: ").concat(i," ... expected fields: ").concat(r));var c={};return n.formMsg&&(c.FORM=n.formMsg),{labels:p,values:a,msgs:c,validating:{},inProcess:!1}}),Object(m.a)(e,n.fieldChanged,function(e,t){var n=Object(f.a)({},e);return n.values=Object(f.a)({},e.values,Object(m.a)({},t.fieldName,t.value)),n.msgs=t.msgs,n}),Object(m.a)(e,n.fieldTouched,function(e,t){if(e.validating[t.fieldName])return e;var n=Object(f.a)({},e);return n.validating=Object(f.a)({},e.validating,Object(m.a)({},t.fieldName,!0)),n.msgs=t.msgs,n}),Object(m.a)(e,n.process,function(e,t){var n=Object(f.a)({},e);return n.inProcess=!0,n.validating=Object(f.a)({},e.validating,{FORM:!0}),n.msgs={},n}),Object(m.a)(e,n.process.reject,function(e,t){var n=Object(f.a)({},e);return n.validating=Object(f.a)({},e.validating,{FORM:!0}),n.msgs=t.msgs,n}),Object(m.a)(e,n.close,function(e,t){return null}),e),null)}},formStateSelector:r,IForm:function(e,n){var r=S.prefix("IFormMeta.IForm() parameter violation: ");r(e,"formState is required"),r(e.labels,"invalid formState - does NOT conform to the IForm state"),r(e.labels.FORM===t,"miss-matched formState - expecting ".concat(t," but received ").concat(e.labels.FORM)),r(n,"dispatch is required"),r(O()(n),"invalid dispatch (expecting a function)");var o=a();function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return e.validating.FORM||e.validating[t]}return{getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return e.labels[t]},getValue:function(t){return S(t||"FORM"!==t,"IFormMeta.IForm.getValue() unsupported fieldName: ".concat(t)),e.values[t]},isValid:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return"FORM"===t?0===Object.keys(e.msgs).length:!e.msgs[t]},getMsg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return e.msgs[t]},getExposedMsg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return i(t)?e.msgs[t]:null},isValidationExposed:i,inProcess:function(){return e.inProcess},handleFieldChanged:function(e,t){n(o.fieldChanged(e,t))},handleFieldTouched:function(e){n(o.fieldTouched(e))},handleProcess:function(e){n(o.process()),e&&e.preventDefault()},handleClose:function(){n(o.close())}}}}}S.prefix=function(e){return function(t,n){return S(t,e+n)}};var R=n(54),C=n(231),A=n(35),U=n(36),N=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,a=void 0===n?null:n,r=t.email,o=void 0===r?null:r,i=t.emailVerified,c=void 0!==i&&i,s=t.pool,l=void 0===s?null:s,u=t.guestLoc,m=void 0===u?null:u,p=t.originalLoc,d=void 0===p?null:p,f=Object(h.a)(t,["name","email","emailVerified","pool","guestLoc","originalLoc"]);Object(A.a)(this,e);var g=S.prefix("User() constructor parameter violation: "),v=Object.keys(f);g(0===v.length,"unrecognized named parameter(s): ".concat(v)),g(0===arguments.length||1===arguments.length,"unrecognized positional parameters (only named parameters can be specified)"),this.name=a,this.email=o,this.emailVerified=c,this.pool=l,this.guestLoc=m,this.originalLoc=d}return Object(U.a)(e,[{key:"isUserSignedOut",value:function(){return null===this.email}},{key:"isUserSignedIn",value:function(){return null!==this.email&&this.emailVerified}},{key:"isUserSignedInUnverified",value:function(){return null!==this.email&&!this.emailVerified}},{key:"getAuthStatus",value:function(){return this.email?this.emailVerified?"signedIn":"signedInUnverified":"signedOut"}},{key:"isGuest",value:function(){return!!this.guestLoc}},{key:"toStruct",value:function(){return{name:this.name,email:this.email,emailVerified:this.emailVerified,pool:this.pool,guestLoc:this.guestLoc,originalLoc:this.originalLoc}}},{key:"clone",value:function(){return new e(this.toStruct())}}]),e}(),x=Object(s.slicedReducer)("auth",Object(c.expandWithFassets)(function(e){var t;return Object(R.combineReducers)({user:Object(g.reducerHash)((t={},Object(m.a)(t,T.signIn.complete,function(e,t){return t.user.toStruct()}),Object(m.a)(t,T.signIn.checkEmailVerified,function(e,t){return t.user.toStruct()}),Object(m.a)(t,T.userProfileChanged,function(e,t){return t.user.toStruct()}),Object(m.a)(t,T.signOut,function(e,t){return(new N).toStruct()}),t),(new N).toStruct()),signInForm:F.registrar.formReducer()})})),P=x,k=function(e){return x.getSlicedState(e)},M=Object(C.a)(function(e){return k(e).user},function(e){return new N(e)}),F=j({formDesc:"Sign In",formSchema:d.object().shape({email:d.string().required().email().label("Email"),pass:d.string().required().min(6).max(9).label("Password")}),formActionsAccessor:function(){return T.signIn},formStateSelector:function(e){return function(e){return k(e).signInForm}(e)}}),T=p.generateActions.root(Object(m.a)({},"auth",{autoSignIn:{actionMeta:{},haveDeviceCredentials:{actionMeta:{traits:["credentials"]}},noDeviceCredentials:{actionMeta:{}}},signIn:F.registrar.formActionGenesis({actionMeta:{traits:["email","pass"]},complete:{actionMeta:{traits:["user"]}},checkEmailVerified:{actionMeta:{}},resendEmailVerification:{actionMeta:{}}}),signOut:{actionMeta:{}},userProfileChanged:{actionMeta:{traits:["user"]}}})),Y=n(93),D=n(57),J=n(55),L=n(56),W=n(127),V=n(304),B=n(39),q=n(47),G=n.n(q);var z=Object(B.withStyles)(function(e){return{variantSuccess:{whiteSpace:"pre-line"},variantInfo:{whiteSpace:"pre-line"},variantWarning:{whiteSpace:"pre-line"},variantError:{whiteSpace:"pre-line"}}})(function(e){return r.a.createElement(V.SnackbarProvider,{maxSnack:3,dense:!0,className:e.classes.variantSuccess},r.a.createElement(K,null,e.children))}),_=null,H=function(e){function t(){var e,n;Object(A.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=Object(D.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(r))),S(!_,"<Notify> only ONE Notify instance should be instantiated in the app (at the top-level)."),_=Object(W.a)(Object(W.a)(n)),n}return Object(L.a)(t,e),Object(U.a)(t,[{key:"display",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.msg,a=t.duration,o=void 0===a?5:a,i=t.level,c=void 0===i?"success":i,s=t.position,l=void 0===s?"bottom-left":s,u=t.modal,m=void 0!==u&&u,p=t.actions,d=void 0===p?[]:p,f=Object(h.a)(t,["msg","duration","level","position","modal","actions"]),g=S.prefix("notify() parameter violation: ");g(n,"directive.msg is required"),g(I()(n),"msg must be a string"),null!==o&&g(o>=1&&o<=20,"supplied duration (".concat(o,") must be a number between 1 and 20 (inclusive).")),g(X[c],"invalid level: '".concat(c,"', expecting one of ").concat(Object.keys(X),".")),g(Q[l],"invalid position: '".concat(l,"', expecting one of ").concat(Object.keys(Q),".")),g(!0===m||!1===m,"supplied modal (".concat(m,") must be a boolean true/false.")),g(d,"actions must be an Action[] array"),g(Array.isArray(d),"actions must be an Action[] array"),d.forEach(function(e,t){g(e.txt,"action[".concat(t,"].txt is required")),g(I()(e.txt),"action[".concat(t,"].txt be a string ... NOT: ").concat(e.txt)),e.action&&g(O()(e.action),"action[".concat(t,"].action (when supplied) must be a function ... NOT: ").concat(e.action))});var v=Object.keys(f);g(0===v.length,"unrecognized named parameter(s): ".concat(v));var b=o?1e3*o:null;o||0!==d.length||(d=[{txt:"OK"}]);var y=d.reduce(function(e,t){return e[t.txt]=t.action||Z,e},{}),w=d.map(function(e,t){return r.a.createElement(G.a,{key:t,color:"default",size:"small"},e.txt)}),E=this.props.enqueueSnackbar(n,{variant:X[c],autoHideDuration:b,anchorOrigin:Q[l],action:w,onClickAction:function(t){e.props.closeSnackbar(E);var n=y[t.target.textContent];setTimeout(function(){return n()},400)}})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.children)}}]),t}(r.a.Component),X={success:"success",info:"info",warn:"warning",error:"error"},Q={"top-left":{vertical:"top",horizontal:"left"},"top-center":{vertical:"top",horizontal:"center"},"top-right":{vertical:"top",horizontal:"right"},"bottom-left":{vertical:"bottom",horizontal:"left"},"bottom-center":{vertical:"bottom",horizontal:"center"},"bottom-right":{vertical:"bottom",horizontal:"right"}},Z=function(e){return e},K=Object(V.withSnackbar)(H);function $(e){S(_,"notify(): NO <Notify> instance has been established in the app root."),_.display(e)}function ee(e,t){var n=e.msg,a=e.duration,r=void 0===a?5:a,o=e.actions,i=Object(h.a)(e,["msg","duration","actions"]),c=t?".".concat(t):"",s=S.prefix("toast".concat(c,"() parameter violation: "));s(n,"msg named parameter is required");var l=Object.keys(i);s(0===l.length,"unrecognized named parameter(s): ".concat(l)),$({msg:n,duration:r,level:t,position:"bottom-left",modal:!1,actions:o})}function te(e){ee(e)}function ne(e,t){var n=e.msg,a=e.actions,r=Object(h.a)(e,["msg","actions"]),o=t?".".concat(t):"",i=S.prefix("alert".concat(o,"() parameter violation: "));i(n,"msg named parameter is required");var c=Object.keys(r);i(0===c.length,"unrecognized named parameter(s): ".concat(c)),$({msg:n,duration:null,level:t,position:"top-center",modal:!0,actions:a})}function ae(e){ne(e)}function re(e,t){var n=e.msg,a=e.actions,r=Object(h.a)(e,["msg","actions"]),o=t?".".concat(t):"",i=S.prefix("confirm".concat(o,"() parameter violation: "));i(n,"msg named parameter is required"),i(a&&a.length>0,"client-specific actions are required.");var c=Object.keys(r);i(0===c.length,"unrecognized named parameter(s): ".concat(c)),$({msg:n,duration:null,level:t,position:"top-right",modal:!0,actions:a})}function oe(e){re(e)}K.displayName="NotifyAPI_withSnackBar",te.success=function(e){ee(e,"success")},te.info=function(e){ee(e,"info")},te.warn=function(e){ee(e,"warn")},te.error=function(e){ee(e,"error")},ae.success=function(e){ne(e,"success")},ae.info=function(e){ne(e,"info")},ae.warn=function(e){ne(e,"warn")},ae.error=function(e){ne(e,"error")},oe.success=function(e){re(e,"success")},oe.info=function(e){re(e,"info")},oe.warn=function(e){re(e,"warn")},oe.error=function(e){re(e,"error")};var ie="DYNAMIC_DEFAULT";function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.err,n=e.showUser,a=void 0===n||n,r=e.logIt,o=void 0===r?ie:r,i=Object(h.a)(e,["err","showUser","logIt"]);try{var c=S.prefix("discloseError() parameter violation: ");c(t,"err is required"),c(t instanceof Error,"err must be an Error object, NOT: ",t),c(!0===(a=a===ie?t.isExpected():a)||!1===a,"showUser must be a boolean"),c(!0===(o=o===ie?t.isUnexpected():o)||!1===o,"logIt must be a boolean");var s=Object.keys(i);c(0===s.length,"unrecognized named parameter(s): ".concat(s)),c(0===arguments.length||1===arguments.length,"unrecognized positional parameters (only named parameters can be specified)")}catch(u){return console.log("YIKES ... eatery-nod-w's discloseError() was attempting to report on err: ",t),void console.log('HOWEVER AN INVOCATION PROBLEM was detected in the parameters passed to discloseError()!\n... discloseError() CANNOT throw an error (when used in a promise an "Unhandled promise rejection" will result)!!\n... PLEASE FIX THE FOLLOWING INVOCATION PROBLEM: ',u)}if(a&&(t.isUnexpected()?te.error({msg:t.formatUserMsg(),actions:[{txt:"details",action:function(){ae.error({msg:"An unexpected error occurred:\n\n".concat(t,"\n\nIf this problem persists, please contact your tech support.")})}}]}):te.warn({msg:t.formatUserMsg()})),o){var l=t.isUnexpected()?"*** Unexpected Error:\n\n":"*** Expected Error:\n\n";console.log(l+t),t.isUnexpected()&&console.log(t)}}var se=n(90),le=n.n(se);function ue(){}function me(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=S.prefix("encode(ref) parameter violation: ");n(e,"ref is required"),n(I()(e)||le()(e),"ref must be a string -or- an object literal. NOT: ",e),n(!0===t||!1===t,"safeguard must be a boolean (true/false), NOT: ",t);var a=e;return le()(a)&&(a=de+JSON.stringify(a)),t&&(a=fe+function(e){if(!window.btoa)throw new Error("*** ERROR *** encode(): ENCODING NOT supported by this browser (btoa).");return window.btoa(e)}(a)),a}function pe(e){if(S.prefix("decode(ref) parameter violation: ")(e,"ref is required"),!I()(e))return e;var t=e;return 0===t.indexOf(fe)&&(t=function(e){if(!window.atob)throw new Error("*** ERROR *** encode(): DECODING NOT supported by this browser (atob).");return window.atob(e)}(t=t.substring(fe.length))),0===t.indexOf(de)&&(t=t.substring(de.length),t=JSON.parse(t)),t}var de="obj2str:",fe="afesa";function he(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=S.prefix("storeItem() parameter violation: ");a(e,"key is required"),a(I()(e),"key must be a string, NOT: ",e),a(t,"ref is required"),a(I()(t)||le()(t),"ref must be a string -or- an object literal, NOT: ",t),a(!0===n||!1===n,"safeguard must be a boolean (true/false), NOT: ",n);var r=me(t,n);ye.setItem(e,r)}function ge(e){var t=S.prefix("fetchItem() parameter violation: ");t(e,"key is required"),t(I()(e),"key must be a string, NOT: ",e);var n=ye.getItem(e);return n?pe(n):null}function ve(e){var t=S.prefix("removeItem() parameter violation: ");t(e,"key is required"),t(I()(e),"key must be a string, NOT: ",e),ye.removeItem(e)}var be=function(e){var t;try{t=window[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(a){return a instanceof DOMException&&(22===a.code||1014===a.code||"QuotaExceededError"===a.name||"NS_ERROR_DOM_QUOTA_REACHED"===a.name)&&t&&0!==t.length}}("localStorage");be||console.warn("***WARNING*** deviceStorage module ... localStorage (Web Storage API) is NOT available in this browser ... all deviceStorage usage will silently no-op!!");var ye=be?{setItem:function(e,t){return window.localStorage.setItem(e,t)},getItem:function(e){return window.localStorage.getItem(e)},removeItem:function(e){return window.localStorage.removeItem(e)}}:{setItem:ue,getItem:ue,removeItem:ue};var we="credentials",Ie=Object(c.expandWithFassets)(function(e){return Object(v.b)({name:"".concat("auth",".startAuthorization"),type:String(e.actions.bootstrapComplete),process:function(e,t,n){e.getState,e.action;t(T.autoSignIn()),n()}})}),Ee=Object(v.b)({name:"".concat("auth",".checkDeviceCredentials"),type:String(T.autoSignIn),process:function(e,t,n){e.getState,e.action,e.fassets;var a=ge(we);t(a?T.autoSignIn.haveDeviceCredentials(a):T.autoSignIn.noDeviceCredentials()),n()}}),Oe=Object(v.b)({name:"".concat("auth",".autoSignIn"),type:String(T.autoSignIn.haveDeviceCredentials),process:function(e,t,n){e.getState;var a=e.action,r=(e.fassets,a.credentials),o=r.email,i=r.pass;t(T.signIn(o,i)),n()}}),Se=Object(v.b)({name:"".concat("auth",".manualSignIn'"),type:[String(T.autoSignIn.noDeviceCredentials),String(T.signOut)],process:function(e,t,n){e.getState,e.action;t(T.signIn.open()),n()}}),je=Object(v.b)({name:"".concat("auth",".processSignIn"),type:String(T.signIn.process),process:function(e,t,n){e.getState;var a=e.action;t(T.signIn(a.values.email,a.values.pass)),n()}}),Re=Object(v.b)({name:"".concat("auth",".signIn"),type:String(T.signIn),warnTimeout:0,process:function(e,t,n){e.getState;var a=e.action;e.fassets.authService.signIn(a.email,a.pass).then(function(e){var r,o;r=a.email,o=a.pass,he(we,{email:r,pass:o},!0),t(T.signIn.complete(e)),n()}).catch(function(e){ce({err:e,showUser:e.isUnexpected()}),t(T.signIn.open(a,e.formatUserMsg())),n()})}}),Ce=Object(v.b)({name:"".concat("auth",".supplementSignedInUserLoc"),type:String(T.signIn.complete),transform:function(e,t,n){var a=e.getState,r=e.action,o=e.fassets;r.user.originalLoc=o.sel.getLocation(a()),t(r)}}),Ae=Object(v.b)({name:"".concat("auth",".supplementSignInComplete"),type:String(T.signIn.complete),process:function(e,t,n){e.getState;var a=e.action;t(T.userProfileChanged(a.user)),n()}}),Ue=Object(v.b)({name:"".concat("auth",".signInCleanup"),type:String(T.signIn.complete),process:function(e,t,n){e.getState,e.action;t(T.signIn.close()),n()}}),Ne=Object(v.b)({name:"".concat("auth",".checkEmailVerified"),type:String(T.signIn.checkEmailVerified),transform:function(e,t,n){var a=e.getState,r=e.action,o=e.fassets;te({msg:"verifying your email: ".concat(M(a()).email)}),o.authService.refreshUser().then(function(e){r.user=e,t(r)}).catch(function(e){ce({err:e}),n()})}}),xe=Object(v.b)({name:"".concat("auth",".resendEmailVerification"),type:String(T.signIn.resendEmailVerification),transform:function(e,t){var n=e.getState,a=e.action,r=e.fassets;te({msg:"resending email to: ".concat(M(n()).email)}),r.authService.resendEmailVerification(),t(a)}}),Pe=Object(v.b)({name:"".concat("auth",".supplementSignOutUser"),type:String(T.signOut),transform:function(e,t,n){var a=e.getState,r=e.action;e.fassets;r.user=M(a()),t(r)}}),ke=Object(v.b)({name:"".concat("auth",".signOut"),type:String(T.signOut),process:function(e,t,n){e.getState,e.action;e.fassets.authService.signOut().catch(function(e){ce({err:e})}),ve(we),n()}}),Me=Object(c.expandWithFassets)(function(e){return[Ie(e),Ee,Oe,Se].concat(Object(Y.a)(F.registrar.formLogic()),[je,Ce,Re,Ae,Ue,Ne,xe,Pe,ke])}),Fe=n(217);function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapStateToProps,n=e.mapDispatchToProps,a=e.mergeProps,r=e.options,o=e.component,i=Object(h.a)(e,["mapStateToProps","mapDispatchToProps","mergeProps","options","component"]),c=S.prefix("withState() parameter violation: ");o&&c("function"==typeof o,"component, when supplied, must be a React Component - to be wrapped");var s=Object.keys(i);c(0===s.length,"unrecognized named parameter(s): ".concat(s)),c(1===arguments.length,"unrecognized positional parameters (only named parameters can be specified)");var l=Object(Fe.connect)(t,n,a,r);return o?l(o):l}var Ye=n(72),De=n.n(Ye),Je=n(232),Le=n.n(Je),We=n(234),Ve=n.n(We),Be=n(69),qe=n.n(Be),Ge=n(71),ze=n.n(Ge),_e=n(92),He=n.n(_e),Xe=n(70),Qe=n.n(Xe),Ze=n(68),Ke=n.n(Ze),$e=n(233),et=n.n($e),tt=n(431),nt=n.n(tt),at=n(178),rt=n.n(at),ot=n(10),it=n.n(ot),ct=(n(216),n(176)),st=n.n(ct),lt=n(430),ut=n.n(lt);function mt(e){return r.a.createElement(st.a,Object.assign({direction:"right",timeout:"1000"},e))}function pt(e){return r.a.createElement(ut.a,Object.assign({timeout:"1000"},e))}function dt(e){var t=e.children;return r.a.createElement(Ke.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},t)}var ft=Te({component:function(e){var t=e.email,n=e.checkEmailVerified,a=e.resendEmailVerification,o=e.signOut,i=e.fullScreen,c=e.classes;return r.a.createElement(qe.a,{open:!0,fullScreen:i,TransitionComponent:pt},r.a.createElement(Qe.a,{disableTypography:!0,className:c.titleBar},r.a.createElement(it.a,{className:c.title,variant:"h6",color:"inherit",noWrap:!0},"Eatery Nod")),r.a.createElement(ze.a,null,r.a.createElement(dt,null,r.a.createElement(Le.a,{className:c.lockAvatar},r.a.createElement(et.a,null))),r.a.createElement(dt,null,r.a.createElement(it.a,{variant:"h6",noWrap:!0},"Sign In Verification")),r.a.createElement(He.a,{className:c.entry},"Your account email has not been verified."),r.a.createElement(He.a,{className:c.entry},"Please follow the instructions from the email sent to: ",t),r.a.createElement("div",{className:c.entry},r.a.createElement(dt,null,r.a.createElement(it.a,{variant:"body2"},"... once completed:")),r.a.createElement(dt,null,r.a.createElement(G.a,{variant:"contained",color:"primary",onClick:n},r.a.createElement(Ve.a,{className:c.icon}),"Continue"))),r.a.createElement("div",{className:c.entry},r.a.createElement(dt,null,r.a.createElement(G.a,{variant:"contained",color:"secondary",onClick:a},r.a.createElement(nt.a,{className:c.icon}),"Resend Email"))),r.a.createElement("div",{className:c.entry},r.a.createElement(dt,null,r.a.createElement(G.a,{variant:"contained",color:"secondary",onClick:o},r.a.createElement(rt.a,{className:c.icon}),"Sign Out")))))},mapStateToProps:function(e){return{email:M(e).email}},mapDispatchToProps:function(e){return{checkEmailVerified:function(){e(T.signIn.checkEmailVerified())},resendEmailVerification:function(){e(T.signIn.resendEmailVerification())},signOut:function(){e(T.signOut())}}}}),ht=Object(B.withStyles)(function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},lockAvatar:{margin:e.spacing.unit,backgroundColor:e.palette.primary.main},entry:{margin:"30px 0px"},icon:{marginRight:e.spacing.unit},inProgress:{margin:4*e.spacing.unit}}})(ft),gt=De()({breakpoint:"xs"})(ht),vt=n(432),bt=n.n(vt);function yt(e){var t=e.fieldName,n=e.iForm,a=Object(h.a)(e,["fieldName","iForm"]),o=S.prefix("<ITextField> property violation: ");o(t,"fieldName is required"),o(n,"iForm is required"),o(n.handleFieldTouched,"iForm prop MUST be an IFormMeta object ... in fieldName: '".concat(t,"'"));var i=n.getLabel(t);o(i,"supplied fieldName '".concat(t,"' does NOT exist in the supplied iForm: '").concat(n.getLabel(),"'")),["label","value","disabled","onChange","onBlur","error"].forEach(function(e){return o(!a[e],"'".concat(e,"' prop cannot be used (it is managed internally) ... for fieldName: '").concat(t,"'"))});var c={};if(n.isValidationExposed(t)){var s=n.getMsg(t);s&&(c.error=!0,c.helperText=s)}return r.a.createElement(bt.a,Object.assign({label:i,value:n.getValue(t),disabled:n.inProcess(),onChange:function(e){return n.handleFieldChanged(t,e.target.value)},onBlur:function(){return n.handleFieldTouched(t)}},a,c))}var wt=n(85),It=n.n(wt),Et=n(74),Ot=n.n(Et);function St(e){var t=e.children;return r.a.createElement(Ke.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},t)}var jt=Te({component:function(e){var t=e.iForm,n=e.fullScreen,a=e.classes,o=t.getLabel(),i=t.inProcess(),c=t.getMsg();return r.a.createElement(qe.a,{open:!0,fullScreen:n,TransitionComponent:pt},r.a.createElement(Qe.a,{disableTypography:!0,className:a.titleBar},r.a.createElement(it.a,{className:a.title,variant:"h6",color:"inherit",noWrap:!0},"Eatery Nod")),r.a.createElement(ze.a,null,r.a.createElement("form",{onSubmit:t.handleProcess},r.a.createElement("fieldset",{className:a.invisible,disabled:i},r.a.createElement(St,null,r.a.createElement(Le.a,{className:a.lockAvatar},r.a.createElement(et.a,null))),r.a.createElement(St,null,r.a.createElement(it.a,{variant:"h6",noWrap:!0},o)),r.a.createElement(He.a,{className:a.entry},"Welcome to Eatery Nod ... please ",o,"!"),r.a.createElement("div",{className:a.entry},r.a.createElement(yt,{fieldName:"email",iForm:t,autoFocus:!0,required:!0,fullWidth:!0,type:"email",placeholder:"jon.snow@gmail.com",helperText:"your email is your ID"})),r.a.createElement("div",{className:a.entry},r.a.createElement(yt,{fieldName:"pass",iForm:t,required:!0,fullWidth:!0,type:"password"})),r.a.createElement(St,null,r.a.createElement(G.a,{type:"submit",variant:"contained",color:"primary"},r.a.createElement(rt.a,{className:a.icon}),o)),r.a.createElement(It.a,{error:!0},c),i&&r.a.createElement("div",{className:a.entry},r.a.createElement(Ot.a,{className:a.inProgress,color:"secondary"})),r.a.createElement("div",{className:a.entry},r.a.createElement(St,null,r.a.createElement(it.a,{variant:"body2",color:"secondary"},"... don't have an account?")),r.a.createElement(St,null,r.a.createElement(G.a,{variant:"contained",color:"secondary",onClick:function(){return te.warn({msg:"Sign Up has not yet been implemented."})}},r.a.createElement(rt.a,{className:a.icon}),"Sign Up")))))))},mapStateToProps:function(e){return{formState:F.formStateSelector(e)}},mergeProps:function(e,t,n){return Object(f.a)({},n,{iForm:F.IForm(e.formState,t.dispatch)})}}),Rt=Object(B.withStyles)(function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},lockAvatar:{margin:e.spacing.unit,backgroundColor:e.palette.primary.main},entry:{margin:"30px 0px"},invisible:{border:"0 none",margin:0,padding:0},icon:{marginRight:e.spacing.unit},inProgress:{margin:4*e.spacing.unit}}})(jt),Ct=De()({breakpoint:"xs"})(Rt);function At(e){var t=e.msg,n=e.classes,a=e.fullScreen;return r.a.createElement(qe.a,{open:!0,fullScreen:a,TransitionComponent:pt},r.a.createElement(Qe.a,{className:n.title},r.a.createElement("center",{className:n.title},"Eatery Nod")),r.a.createElement(ze.a,null,r.a.createElement("center",null,r.a.createElement("br",null),r.a.createElement("img",{className:n.favicon,src:"/eatery.png",alt:"eatery-nod"}),r.a.createElement("br",null),r.a.createElement(Ot.a,{className:n.progress,color:"secondary"}),r.a.createElement(it.a,{variant:"body2"},t),r.a.createElement("br",null))))}At.defaultProps={msg:""};var Ut=Object(B.withStyles)(function(e){return{title:{color:e.palette.common.white,backgroundColor:e.palette.primary.main},favicon:{width:"150px"},progress:{margin:4*e.spacing.unit}}})(At),Nt=De()({breakpoint:"xs"})(Ut),xt=Object(u.featureRoute)({priority:u.PRIORITY.HIGH,content:function(e){e.fassets;var t=e.appState,n=M(t);if(n.isUserSignedIn())return null;if(n.isUserSignedInUnverified())return r.a.createElement(gt,null);if(function(e){return!!k(e).signInForm}(t))return r.a.createElement(Ct,null);var a="authorization in progress (".concat(n.getAuthStatus(),")");return r.a.createElement(Nt,{msg:a})}}),Pt=n(435),kt=n.n(Pt),Mt=n(95),Ft=n(37),Tt=n.n(Ft),Yt=n(434),Dt=n.n(Yt),Jt=n(433),Lt=n.n(Jt);var Wt=Object(c.withFassets)({component:function(e){var t=e.userMenuItems,n=r.a.useState(null),a=Object(Mt.a)(n,2),o=a[0],i=a[1],c=Boolean(o);return Vt=function(){return i(null)},r.a.createElement("div",null,r.a.createElement(Tt.a,{color:"inherit",onClick:function(e){return i(e.currentTarget)}},r.a.createElement(Lt.a,null)),r.a.createElement(Dt.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:Bt},t.map(function(e){var t=Object(Mt.a)(e,2),n=t[0],a=t[1];return r.a.createElement(a,{key:n})})))},mapFassetsToProps:{userMenuItems:"AppMotif.UserMenuItem.*@withKeys"}}),Vt=null;function Bt(){Vt&&Vt()}function qt(e){return r.a.createElement(kt.a,Object.assign({},e,{onClick:function(){Bt(),e.onClick&&e.onClick.apply(e,arguments)}}),e.children)}var Gt=Te({component:function(e){var t=e.signOut;return r.a.createElement(r.a.Fragment,null,r.a.createElement(qt,{onClick:zt},"User Profile"),r.a.createElement(qt,{onClick:t},"Sign Out"))},mapDispatchToProps:function(e){return{signOut:function(){oe.warn({msg:"Are you sure you wish to sign out?",actions:[{txt:"Sign Out",action:function(){return e(T.signOut())}},{txt:"Go Back"}]})}}}});function zt(){te.warn({msg:"NOT implemented yet (coming soon)!"})}var _t=Object(c.createFeature)({name:"auth",fassets:{define:{"actions.userProfileChanged":T.userProfileChanged,"actions.signOut":T.signOut,"actions.signIn.complete":T.signIn.complete,"sel.curUser":M},defineUse:{"AppMotif.UserMenuItem.AuthUserMenu":Gt}},reducer:P,logic:Me,route:xt}),Ht=function(){function e(){Object(A.a)(this,e)}return Object(U.a)(e,[{key:"signIn",value:function(e,t){throw new Error("***ERROR*** ".concat(this.constructor.name,".signIn() is a required service method that has NOT been implemented"))}},{key:"refreshUser",value:function(){throw new Error("***ERROR*** ".concat(this.constructor.name,".refreshUser() is a required service method that has NOT been implemented"))}},{key:"resendEmailVerification",value:function(){throw new Error("***ERROR*** ".concat(this.constructor.name,".resendEmailVerification() is a required service method that has NOT been implemented"))}},{key:"signOut",value:function(){throw new Error("***ERROR*** ".concat(this.constructor.name,".signOut() is a required service method that has NOT been implemented"))}}]),e}(),Xt=Object(c.createFeature)({name:"authService",fassets:{use:[["authService",{required:!0,type:function(e){return e instanceof Ht?null:"object of type AuthServiceAPI, NOT: "+e}}]]}});var Qt={useWIFI:!0,mockGPS:!1,log:!1,sandbox:!1},Zt=n(63),Kt=n.n(Zt),$t=(n(925),n(426),function(e){function t(){var e,n;Object(A.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(r)))).currentAppUser=null,n}return Object(L.a)(t,e),Object(U.a)(t,[{key:"signIn",value:function(e,t){var n=this;return new Promise(function(a,r){if("guestNO"===t&&0===e.indexOf("guestNO@"))return n.currentAppUser=new N({name:"Harry",email:e,emailVerified:!0,pool:"mockNO",guestLoc:{lat:30.010479,lng:-90.119414}}),a(n.currentAppUser);Kt.a.auth().signInWithEmailAndPassword(e,t).then(function(e){Kt.a.database().ref("/userProfiles/".concat(e.user.uid)).once("value").then(function(t){var o=t.val();return o?(n.currentAppUser=new N({name:o.name,email:e.user.email,emailVerified:e.user.emailVerified,pool:o.pool}),a(n.currentAppUser)):r(new Error("***ERROR*** No userProfile exists for user: ".concat(e.user.email)).defineAttemptingToMsg("sign in to eatery-nod (your user profile does NOT exist)"))}).catch(function(e){return r(e.defineAttemptingToMsg("sign in to eatery-nod (a problem was encountered fetching your user profile)"))})}).catch(function(e){return e.code?e.defineUserMsg("Invalid SignIn credentials."):e.defineAttemptingToMsg("sign in to eatery-nod"),r(e)})})}},{key:"refreshUser",value:function(){var e=this;return new Promise(function(t,n){if(null===e.currentAppUser)return n(new Error("***ERROR*** (within app logic) AuthServiceFirebase.refreshUser(): may only be called once a successful signIn() has completed.").defineAttemptingToMsg("refresh a non-existent user (not yet signed in)"));Kt.a.auth().currentUser.reload().then(function(){var n=Kt.a.auth().currentUser;return e.currentAppUser=new N({name:e.currentAppUser.name,email:n.user.email,emailVerified:n.user.emailVerified,pool:e.currentAppUser.pool}),t(e.currentAppUser)}).catch(function(e){return n(e.defineAttemptingToMsg("refresh the signed-in user"))})})}},{key:"resendEmailVerification",value:function(){if(null===this.currentAppUser)throw new Error("***ERROR*** (within app logic) AuthServiceFirebase.resendEmailVerification(): may only be called once a successful signIn() has completed.").defineAttemptingToMsg("resend an email verification to a non-existent user (not yet signed in)");Kt.a.auth().currentUser.sendEmailVerification()}},{key:"signOut",value:function(){var e=this;return new Promise(function(t,n){if(null===e.currentAppUser)return n(new Error("***ERROR*** (within app logic) AuthServiceFirebase.signOut(): may only be called once a successful signIn() has completed.").defineAttemptingToMsg("sign-out a non-existent user (not yet signed in)"));Kt.a.auth().signOut().then(function(){e.currentAppUser=null}).catch(function(e){return n(e.defineAttemptingToMsg("sign-out the user"))})})}}]),t}(Ht)),en=Object(c.createFeature)({name:"authServiceFirebase",enabled:Qt.useWIFI,fassets:{defineUse:{authService:new $t}}}),tn=function(e){function t(){var e,n;Object(A.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(r)))).currentAppUser=null,n}return Object(L.a)(t,e),Object(U.a)(t,[{key:"signIn",value:function(e,t){var n=this;return new Promise(function(a,r){return"unexpect"===t?r(new Error("***ERROR*** Simulated Unexpected Condition").defineAttemptingToMsg("sign in to eatery-nod")):"expect"===t?r(new Error("***ERROR*** Invalid Password").defineUserMsg("Invalid SignIn credentials.").defineAttemptingToMsg("sign in to eatery-nod")):(n.currentAppUser=new N({name:"MockGuy",email:e,emailVerified:!1,pool:"mock"}),"unverify"===t?a(n.currentAppUser):(n.currentAppUser.emailVerified=!0,a(n.currentAppUser)))})}},{key:"refreshUser",value:function(){var e=this;return new Promise(function(t,n){return e.currentAppUser=e.currentAppUser.clone(),e.currentAppUser.emailVerified=!0,t(e.currentAppUser)})}},{key:"resendEmailVerification",value:function(){}},{key:"signOut",value:function(){var e=this;return new Promise(function(t,n){return e.currentAppUser=null,t(void 0)})}}]),t}(Ht),nn=Object(c.createFeature)({name:"authServiceMock",enabled:!Qt.useWIFI,fassets:{defineUse:{authService:new tn}}});var an=p.generateActions.root(Object(m.a)({},"bootstrap",{actionMeta:{},setStatus:{actionMeta:{traits:["statusMsg"]}},complete:{actionMeta:{}}})),rn=[Object(v.b)({name:"".concat("bootstrap"),type:String(an),warnTimeout:0,process:function(e,t,n){var a=e.getState,r=(e.action,e.fassets),o=r.get("bootstrap.*");function i(){t(an.setStatus("COMPLETE")),t(an.complete()),n()}function c(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n&&n.isUnexpected()||(e.complete=!0),n&&(n.defineAttemptingToMsg(e.bootstrapWhat),ce({err:n,logIt:!0}));var a=o.find(function(e){return!e.complete});a&&t(an.setStatus(a.bootstrapWhat)),a||i()}o.forEach(function(e){return e.complete=!1}),0!==o.length?(t(an.setStatus(o[0].bootstrapWhat)),o.forEach(function(e){e({getState:a,dispatch:t,fassets:r}).then(function(){c(e)}).catch(function(t){c(e,t)})})):i()}})],on=Object(s.slicedReducer)("bootstrap",Object(R.combineReducers)({status:Object(g.reducerHash)(Object(m.a)({},an.setStatus,function(e,t){return t.statusMsg}),"Waiting for App to start")})),cn=on,sn=function(e){return on.getSlicedState(e)},ln=function(e){return sn(e).status},un=Object(u.featureRoute)({priority:u.PRIORITY.HIGH+10,content:function(e){e.fassets;var t=e.appState;return function(e){return"COMPLETE"===sn(e).status}(t)?null:r.a.createElement(Nt,{msg:ln(t)})}}),mn=Object(c.createFeature)({name:"bootstrap",reducer:cn,logic:rn,route:un,fassets:{use:[["bootstrap.*",{required:!1,type:function(e){return(t=e)&&O()(t)&&t.bootstrapWhat?null:"bootstrapFn";var t}}]],define:{"actions.bootstrapComplete":an.complete}},appDidStart:function(e){e.fassets,e.appState;(0,e.dispatch)(an())}}),pn=Object(s.slicedReducer)("view.".concat("discovery"),Object(c.expandWithFassets)(function(e){var t,n,a,r;return Object(R.combineReducers)({inProgress:Object(g.reducerHash)((t={},Object(m.a)(t,En.retrieve,function(e,t){return"retrieve"}),Object(m.a)(t,En.retrieve.complete,function(e,t){return null}),Object(m.a)(t,En.retrieve.fail,function(e,t){return null}),Object(m.a)(t,En.nextPage,function(e,t){return"next"}),Object(m.a)(t,En.nextPage.complete,function(e,t){return null}),Object(m.a)(t,En.nextPage.fail,function(e,t){return null}),t),null),filterForm:In.registrar.formReducer(),filter:Object(g.reducerHash)((n={},Object(m.a)(n,En.retrieve.complete,function(e,t){return t.filter}),Object(m.a)(n,e.actions.signOut,function(e,t){return{searchText:"",distance:10,minprice:"1"}}),n),{searchText:"",distance:10,minprice:"1"}),nextPageToken:Object(g.reducerHash)((a={},Object(m.a)(a,En.retrieve.complete,function(e,t){return t.discoveriesResp.pagetoken}),Object(m.a)(a,En.nextPage.complete,function(e,t){return t.discoveriesResp.pagetoken}),Object(m.a)(a,e.actions.signOut,function(e,t){return null}),a),null),discoveries:Object(g.reducerHash)((r={},Object(m.a)(r,En.retrieve.complete,function(e,t){return t.discoveriesResp.discoveries}),Object(m.a)(r,En.nextPage.complete,function(e,t){return[].concat(Object(Y.a)(e),Object(Y.a)(t.discoveriesResp.discoveries))}),Object(m.a)(r,e.actions.signOut,function(e,t){return null}),r),null)})})),dn=pn,fn=function(e){return pn.getSlicedState(e)},hn=function(e){return fn(e).inProgress},gn=function(e){return fn(e).filter},vn=function(e){return fn(e).nextPageToken},bn=function(e){return fn(e).discoveries},yn="Miles should be a number between 1 and 30",wn="Price should be a number between 0 and 4",In=j({formDesc:"Discovery Filter",formSchema:d.object().shape({searchText:d.string().label("Search"),distance:d.number().label("Distance").typeError(yn).required().min(1,yn).max(30,yn),minprice:d.string().label("Price Range").typeError(wn).required().matches(/[0-4]/,wn)}),formActionsAccessor:function(){return En.filterForm},formStateSelector:function(e){return function(e){return fn(e).filterForm}(e)}}),En=p.generateActions.root(Object(m.a)({},"discovery",{filterForm:In.registrar.formActionGenesis(),retrieve:{actionMeta:{traits:["filter"]},complete:{actionMeta:{traits:["filter","discoveriesResp"]}},fail:{actionMeta:{traits:["err"]}}},nextPage:{actionMeta:{traits:["pagetoken"]},complete:{actionMeta:{traits:["discoveriesResp"]}},fail:{actionMeta:{traits:["err"]}}}})),On=Object(c.expandWithFassets)(function(e){return Object(v.b)({name:"".concat("discovery",".initialRetrieve"),type:String(e.actions.changeView),process:function(e,t,n){var a=e.getState,r=e.action,o=e.fassets,i=a();if("discovery"===r.viewName&&null===bn(i)&&!hn(i)){var c=o.sel.getLocation(i);t(En.retrieve(Object(f.a)({},gn(i),{loc:[c.lat,c.lng]})))}n()}})}),Sn=Object(v.b)({name:"".concat("discovery",".defaultFilter"),type:String(En.filterForm.open),transform:function(e,t){var n=e.getState,a=e.action;e.fassets;a.domain||(a.domain=gn(n())),t(a)}}),jn=Object(v.b)({name:"".concat("discovery",".processFilter"),type:String(En.filterForm.process),process:function(e,t,n){var a=e.getState,r=e.action,o=e.fassets,i=a(),c=r.domain,s=o.sel.getLocation(i);t(En.retrieve(Object(f.a)({},c,{loc:[s.lat,s.lng]}))),t(o.actions.changeView("discovery")),t(En.filterForm.close()),n()}}),Rn=Object(v.b)({name:"".concat("discovery",".retrieve"),type:String(En.retrieve),warnTimeout:0,process:function(e,t,n){e.getState;var a=e.action;e.fassets.discoveryService.searchDiscoveries(a.filter).then(function(e){t(En.retrieve.complete(a.filter,e)),n()}).catch(function(e){t(En.retrieve.fail(e)),ce({err:e.defineAttemptingToMsg("DiscoveryService.searchDiscoveries()")}),n()})}}),Cn=Object(v.b)({name:"".concat("discovery",".nextPage"),type:String(En.nextPage),warnTimeout:0,process:function(e,t,n){e.getState;var a=e.action;e.fassets.discoveryService.searchDiscoveriesNextPage(a.pagetoken).then(function(e){t(En.nextPage.complete(e)),n()}).catch(function(e){t(En.nextPage.fail(e)),ce({err:e.defineAttemptingToMsg("DiscoveryService.searchDiscoveriesNextPage()")}),n()})}}),An=Object(c.expandWithFassets)(function(e){return[].concat(Object(Y.a)(In.registrar.formLogic()),[Sn,On(e),jn,Rn,Cn])}),Un=n(438),Nn=n.n(Un),xn=n(436),Pn=n.n(xn),kn=n(437),Mn=n.n(kn),Fn=n(303),Tn=n.n(Fn),Yn=n(302),Dn=n.n(Yn),Jn=n(3),Ln=n.n(Jn);function Wn(e){var t=e.fieldName,n=e.iForm,a=e.row,o=e.helperText,i=e.children,c=Object(h.a)(e,["fieldName","iForm","row","helperText","children"]),s=S.prefix("<IRadioField> property violation: ");s(t,"fieldName is required"),s(n,"iForm is required"),s(n.handleFieldTouched,"iForm prop MUST be an IFormMeta object ... in fieldName: '".concat(t,"'"));var l=n.getLabel(t);s(l,"supplied fieldName '".concat(t,"' does NOT exist in the supplied iForm: '").concat(n.getLabel(),"'")),a&&s(!0===a||!1===a,"row must be a boolean (true/false) ... in fieldName: '".concat(t,"'"));var u=!!a,m=null,p={},d=n.getMsg(t);return d?(p.error=!0,m=r.a.createElement(It.a,null,d)):o&&(m=r.a.createElement(It.a,null,o)),r.a.createElement(Tn.a,Object.assign({},c,p),r.a.createElement(Dn.a,null,l),r.a.createElement(Pn.a,{name:t,row:u,value:n.getValue(t)},i),m)}Wn.Op=function(e){var t=e.fieldName,n=e.iForm,a=e.value,o=e.label;return r.a.createElement(Mn.a,{value:a,control:r.a.createElement(Nn.a,null),label:o,checked:a===n.getValue(t),onChange:function(){return n.handleFieldChanged(t,a)}})},Wn.Op.propTypes={fieldName:Ln.a.string.isRequired,iForm:Ln.a.any.isRequired,value:Ln.a.string.isRequired,label:Ln.a.string.isRequired};var Vn=n(159),Bn=n.n(Vn),qn=n(235),Gn=n.n(qn);function zn(e){var t=e.children;return r.a.createElement(Ke.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},t)}var _n=Te({component:function(e){var t=e.iForm,n=e.fullScreen,a=e.classes,o=t.getLabel(),i=t.inProcess(),c={fieldName:"minprice",iForm:t},s=t.getMsg();return r.a.createElement(qe.a,{open:!0,onClose:t.handleClose,fullScreen:n,TransitionComponent:mt},r.a.createElement("form",{onSubmit:t.handleProcess},r.a.createElement(Qe.a,{disableTypography:!0,className:a.titleBar},r.a.createElement(it.a,{className:a.title,variant:"h6",color:"inherit",noWrap:!0},o),r.a.createElement(Tt.a,{color:"inherit",onClick:t.handleClose},r.a.createElement(Bn.a,null))),r.a.createElement(ze.a,null,r.a.createElement(He.a,{className:a.entry},"filter your discovery with these settings ..."),r.a.createElement("div",{className:a.entry},r.a.createElement(yt,{fieldName:"searchText",iForm:t,autoFocus:!0,type:"string",helperText:"... suggest a restaurant or town (optional)"})),r.a.createElement("div",{className:a.entry},r.a.createElement(yt,{fieldName:"distance",iForm:t,placeholder:"... enter 1-30",type:"number",helperText:"... the maximum search distance (1-30)"})),r.a.createElement("div",{className:a.entry},r.a.createElement(Wn,Object.assign({},c,{row:!0,helperText:"... most affordable to most expensive"}),r.a.createElement(Wn.Op,Object.assign({value:"0",label:"1"},c)),r.a.createElement(Wn.Op,Object.assign({value:"1",label:"2"},c)),r.a.createElement(Wn.Op,Object.assign({value:"2",label:"3"},c)),r.a.createElement(Wn.Op,Object.assign({value:"3",label:"4"},c)),r.a.createElement(Wn.Op,Object.assign({value:"4",label:"5"},c)))),r.a.createElement("div",{className:a.entry},r.a.createElement(zn,null,r.a.createElement(G.a,{type:"submit",variant:"contained",color:"primary"},r.a.createElement(Gn.a,{className:a.icon}),"Filter Discoveries"))),s&&r.a.createElement("div",{className:a.entry},r.a.createElement(It.a,{error:!0},s)),i&&r.a.createElement("div",{className:a.entry},r.a.createElement(Ot.a,{className:a.inProgress,color:"secondary"})))))},mapStateToProps:function(e){return{formState:In.formStateSelector(e)}},mergeProps:function(e,t,n){return Object(f.a)({},n,{iForm:In.IForm(e.formState,t.dispatch)})}}),Hn=Object(B.withStyles)(function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},entry:{margin:"30px 0px"},icon:{marginRight:e.spacing.unit},inProgress:{margin:4*e.spacing.unit}}})(_n),Xn=De()({breakpoint:"xs"})(Hn),Qn=n(8),Zn=n.n(Qn),Kn=n(236),$n=n.n(Kn),ea=n(91),ta=n.n(ea),na=n(27),aa=n.n(na),ra=n(45),oa=n.n(ra),ia=n(30),ca=n.n(ia),sa=n(439),la=n.n(sa),ua=n(107),ma=n.n(ua);var pa=Te({component:function(e){var t=e.inProgress,n=e.discoveries,a=e.nextPageToken,o=e.eateryPool,i=e.toggleEateryPool,c=e.handleNextPage,s=e.handleFilterDiscovery,l=e.classes,u=null;null===n||"retrieve"===t?u=[r.a.createElement(aa.a,{key:"inProgress"},r.a.createElement(ca.a,null,r.a.createElement(it.a,{variant:"subtitle1",align:"center",noWrap:!0},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"retrieval in progress"))),r.a.createElement(aa.a,{key:"inProgressSpin"},r.a.createElement(ca.a,null,r.a.createElement(Ot.a,{className:l.progress,color:"secondary"})))]:0===n.length?u=[r.a.createElement(aa.a,{key:"noEntries"},r.a.createElement(ca.a,null,r.a.createElement(it.a,{variant:"subtitle1",align:"center",noWrap:!0},"No entries match your filter \xa0\xa0",r.a.createElement(G.a,{variant:"contained",color:"primary",onClick:s},r.a.createElement(ma.a,null),r.a.createElement(it.a,{color:"inherit",variant:"body2"},"\xa0Adjust Filter")))))]:(u=n.map(function(e){return r.a.createElement(aa.a,{key:e.id,dense:!0,divider:!0},r.a.createElement(oa.a,{onClick:function(){return i(e,o)}},r.a.createElement(Tt.a,null,function(e){return o[e.id]?r.a.createElement($n.a,{color:"secondary"}):r.a.createElement(Ve.a,null)}(e))),r.a.createElement(ca.a,{primary:r.a.createElement(it.a,{variant:"h6",noWrap:!0},e.name),secondary:r.a.createElement(it.a,{variant:"subtitle1",noWrap:!0},e.addr)}))}),a?"next"===t?u.push(r.a.createElement(aa.a,{key:"nextPage"},r.a.createElement(ca.a,null,r.a.createElement(Ot.a,{className:l.progress,color:"secondary"})))):u.push(r.a.createElement(aa.a,{key:"nextPageCntl",dense:!0,button:!0,onClick:function(){return c(a)}},r.a.createElement(oa.a,null,r.a.createElement(Tt.a,{color:"primary"},r.a.createElement(la.a,null))),r.a.createElement(ca.a,null,r.a.createElement(it.a,{color:"primary",variant:"h6",className:l.nextPage},"next page ...")))):60===u.length&&u.push(r.a.createElement(aa.a,{key:"maxEntriesHit",dense:!0,button:!0,onClick:s},r.a.createElement(oa.a,null,r.a.createElement(Tt.a,{color:"primary"},r.a.createElement(ma.a,null))),r.a.createElement(ca.a,null,r.a.createElement(it.a,{variant:"subtitle1"},"We are limited to 60 entries."),r.a.createElement(it.a,{variant:"subtitle2"},"... adjust filter with city or restaurant"),r.a.createElement(G.a,{variant:"contained",color:"primary"},r.a.createElement(ma.a,null),r.a.createElement(it.a,{color:"inherit",variant:"body2"},"\xa0Adjust Filter"))))));return r.a.createElement(ta.a,{className:l.list},u)},mapStateToProps:function(e,t){var n=t.fassets;return{inProgress:hn(e),discoveries:bn(e),nextPageToken:vn(e),eateryPool:n.sel.getEateryDbPool(e)}},mapDispatchToProps:function(e,t){var n=t.fassets;return{toggleEateryPool:function(t,a){a[t.id]?e(n.actions.removeEatery(t.id)):e(n.actions.addEatery(t.id))},handleNextPage:function(t){e(En.nextPage(t))},handleFilterDiscovery:function(){e(En.filterForm.open())}}}}),da=Object(c.withFassets)({component:pa,mapFassetsToProps:{fassets:"."}}),fa=Zn()(function(e){return{list:{},progress:{margin:4*e.spacing.unit},nextPage:{fontStyle:"italic"}}})(da),ha=[Object(u.featureRoute)({priority:u.PRIORITY.HIGH,content:function(e){e.fassets;if(function(e){return!!fn(e).filterForm}(e.appState))return r.a.createElement(Xn,null)}}),Object(u.featureRoute)({content:function(e){var t=e.fassets,n=e.appState;return"discovery"!==t.sel.curView(n)?null:r.a.createElement(fa,null)}})],ga=n(440),va=n.n(ga),ba=n(61),ya=n.n(ba),wa=n(237),Ia=n.n(wa);var Ea=Te({component:function(e){var t=e.classes,n=e.changeView,a=e.handleFilter;return r.a.createElement(r.a.Fragment,null,r.a.createElement(aa.a,{button:!0,onClick:n},r.a.createElement(oa.a,{className:t.major},r.a.createElement(va.a,null)),r.a.createElement(ca.a,{primaryTypographyProps:{className:t.major},primary:"Discovery"}),r.a.createElement(Ia.a,{onClick:a},r.a.createElement(oa.a,null,r.a.createElement(Tt.a,{className:t.minor},r.a.createElement(ma.a,null))))),r.a.createElement(ya.a,null))},mapDispatchToProps:function(e,t){var n=t.fassets;return{changeView:function(){e(n.actions.changeView("discovery"))},handleFilter:function(){e(En.filterForm.open())}}}}),Oa=Object(c.withFassets)({component:Ea,mapFassetsToProps:{fassets:"."}}),Sa=Zn()(function(e){return{major:{color:e.palette.secondary.main},minor:{color:e.palette.primary.dark}}})(Oa);var ja,Ra=Te({component:function(e){var t=e.curUser;return r.a.createElement(it.a,{variant:"h6",color:"inherit",noWrap:!0},"Discovery",r.a.createElement(it.a,{color:"inherit",inline:!0,noWrap:!0},"\xa0(",t.pool,")"))},mapStateToProps:function(e,t){return{curUser:t.fassets.sel.curUser(e)}}}),Ca=Object(c.withFassets)({component:Ra,mapFassetsToProps:{fassets:"."}}),Aa=n(238),Ua=n.n(Aa);var Na=Object(c.createFeature)({name:"discovery",fassets:{defineUse:(ja={},Object(m.a)(ja,"AppMotif.LeftNavItem.".concat("discovery"),Sa),Object(m.a)(ja,"AppMotif.auxViewContent.".concat("discovery"),{TitleComp:Ca,FooterComp:function(){return r.a.createElement(Ke.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(it.a,null,"\xa0"),r.a.createElement(it.a,{color:"inherit",variant:"subtitle1"},"toggle check as \xa0",r.a.createElement($n.a,{color:"secondary",inline:!0}),"\xa0 to place in pool"),r.a.createElement(Ua.a,{title:"powered by Google Places"},r.a.createElement("img",{width:"25px",src:"/googleLogo.png",alt:""})))}}),ja)},reducer:dn,logic:An,route:ha}),xa=function(){function e(){Object(A.a)(this,e)}return Object(U.a)(e,[{key:"searchDiscoveries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.loc,e.searchText,e.distance,e.minprice,Object(h.a)(e,["loc","searchText","distance","minprice"]);throw new Error("***ERROR*** ".concat(this.constructor.name,".searchDiscoveries() is a required service method that has NOT been implemented"))}},{key:"searchDiscoveriesNextPage",value:function(e){throw new Error("***ERROR*** ".concat(this.constructor.name,".searchDiscoveriesNextPage() is a required service method that has NOT been implemented"))}},{key:"fetchEateryDetail",value:function(e){throw new Error("***ERROR*** ".concat(this.constructor.name,".fetchEateryDetail() is a required service method that has NOT been implemented"))}}]),e}(),Pa=Object(c.createFeature)({name:"discoveryService",fassets:{use:[["discoveryService",{required:!0,type:function(e){return e instanceof xa?null:"object of type DiscoveryServiceAPI, NOT: "+e}}]]}});var ka=function(e){function t(){return Object(A.a)(this,t),Object(D.a)(this,Object(J.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(U.a)(t,[{key:"searchDiscoveries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.loc,n=e.searchText,a=void 0===n?"":n,r=e.distance,o=void 0===r?5:r,i=e.minprice,c=void 0===i?"1":i,s=Object(h.a)(e,["loc","searchText","distance","minprice"]),l=S.prefix("DiscoveryServiceGooglePlaces.searchDiscoveries() parameter violation: ");l(t,"loc is required ... [lat,lng]"),l(I()(a),"supplied searchText (".concat(a,") must be a string")),l(o,"distance is required ... (1-31) miles"),l(o>=1&&o<=31,"supplied distance (".concat(o,") must be between 1-31 miles")),l(c,"minprice is required ... (0-4)"),l(c>="0"&&c<="4","supplied minprice (".concat(c,") must be between 0-4"));var u=Object.keys(s);l(0===u.length,"unrecognized named parameter(s): ".concat(u));var m,p={location:{lat:t[0],lng:t[1]},radius:(m=o,1609.34*m),minPriceLevel:c,type:"restaurant"};return a&&(p.keyword=a),new Promise(function(e,t){Fa=e,Ta=t;try{Da().nearbySearch(p,function(e,t,n){var a=La(t);if(a)return Ta(a);Ma=n.hasNextPage?n:null;var r=function(e,t){return{pagetoken:t.hasNextPage?"giveMeTheNextPagePlease":null,discoveries:e.map(function(e){return Ja(e)})}}(e,n);return Fa(r)})}catch(n){return Ta(n)}})}},{key:"searchDiscoveriesNextPage",value:function(e){var t=S.prefix("DiscoveryServiceGooglePlaces.searchDiscoveriesNextPage() parameter violation: ");if(t(e,"pagetoken is required"),t(I()(e),"supplied pagetoken (".concat(e,") must be a string")),Ma)return new Promise(function(e,t){Fa=e,Ta=t,Ma.nextPage()});throw new Error("*** ERROR *** DiscoveryServiceGooglePlaces - Next page requested, when there are NO additional pages")}},{key:"fetchEateryDetail",value:function(e){return new Promise(function(t,n){try{Da().getDetails({fields:["place_id","name","formatted_phone_number","geometry","formatted_address","url","website"],placeId:e},function(e,a){var r=La(a);if(r)return n(r);var o=Ja(e);return t(o)})}catch(a){return n(a)}})}}]),t}(xa),Ma=null,Fa=null,Ta=null,Ya=null;function Da(){if(Ya)return Ya;var e=window.google;if(!e)throw new Error("*** ERROR *** DiscoveryServiceGooglePlaces - NO google object has been defined from our initialization");return Ya=new e.maps.places.PlacesService(document.createElement("div"))}function Ja(e){return{id:e.place_id,name:e.name,phone:e.formatted_phone_number||"not-in-search",loc:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},addr:e.formatted_address||e.vicinity,navUrl:e.url||"not-in-search",website:e.website||"not-in-search"}}function La(e){if("OK"!==e&&"ZERO_RESULTS"!==e)return new Error("*** ERROR *** DiscoveryServiceGooglePlaces - Google Places ERROR STATUS: '".concat(e,"'"))}var Wa=Object(c.createFeature)({name:"discoveryServiceGooglePlaces",enabled:Qt.useWIFI,fassets:{defineUse:{discoveryService:new ka}}}),Va=n(239),Ba=n.n(Va),qa=function(){function e(){Object(A.a)(this,e)}return Object(U.a)(e,[{key:"monitorDbEateryPool",value:function(e,t,n){throw new Error("***ERROR*** ".concat(this.constructor.name,".monitorDbEateryPool() is a required service method that has NOT been implemented"))}},{key:"addEatery",value:function(e){throw new Error("***ERROR*** ".concat(this.constructor.name,".addEatery() is a required service method that has NOT been implemented"))}},{key:"removeEatery",value:function(e){throw new Error("***ERROR*** ".concat(this.constructor.name,".removeEatery() is a required service method that has NOT been implemented"))}}]),e}(),Ga=function(e){function t(){var e,n;Object(A.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(r)))).curPoolMonitor={pool:null,monitorCB:null,eateries:null},n}return Object(L.a)(t,e),Object(U.a)(t,[{key:"monitorDbEateryPool",value:function(e,t,n){var a=za.reduce(function(e,t){return e[t]=_a[t],e},{});for(var r in this.curPoolMonitor={pool:e,monitorCB:n,eateries:a},_a){var o=_a[r];o.distance=Ba()([o.loc.lat,o.loc.lng],[t.lat,t.lng])}n(a)}},{key:"addEatery",value:function(e){var t=this;return new Promise(function(n,a){if(!t.curPoolMonitor.pool)return a(new Error("***ERROR*** (within app logic) EateryServiceMock.addEatery(): may only be called once a successful monitorDbEateryPool() has completed.").defineAttemptingToMsg("add an Eatery to the DB"));t.curPoolMonitor.eateries=Object(f.a)({},t.curPoolMonitor.eateries,Object(m.a)({},e.id,e)),t.curPoolMonitor.monitorCB(t.curPoolMonitor.eateries)})}},{key:"removeEatery",value:function(e){var t=this;return new Promise(function(n,a){if(!t.curPoolMonitor.pool)return a(new Error("***ERROR*** (within app logic) EateryServiceMock.removeEatery(): may only be called once a successful monitorDbEateryPool() has completed.").defineAttemptingToMsg("remove an Eatery from the DB"));var r=Object.assign({},t.curPoolMonitor.eateries);delete r[e],t.curPoolMonitor.eateries=r,t.curPoolMonitor.monitorCB(t.curPoolMonitor.eateries)})}}]),t}(qa),za=["ChIJ2_bmEw6vIIYRS7ztDnnLpNg","ChIJaVmoJg6vIIYR9iB3FoxFfEQ","ChIJ6yNtftWuIIYRJrESGu4C5fM","ChIJ6zsQedWuIIYRYmlx6sWCkUw","ChIJ-6rxFimpIIYRCrq8YVb3Ujs","ChIJ6yVNhImlIIYR8tQxm8GDdi0","ChIJ28cfCwymIIYRmTnBVitvmZ0","ChIJ2ybOvA2mIIYRMRjz-wyjyu4","ChIJgTgvHA6mIIYR8-Hw_kHU-f0","ChIJryxqrxCmIIYRtUFAh4d96BY","ChIJs_quaAymIIYRUwRs2-LHWqA","ChIJu2hvxRGmIIYRaS0qajrz0ZE","ChIJ6b-WfSOmIIYRHRWCCIzhh08","ChIJRQDMLA2mIIYR-ZQnRWmSdnU","ChIJ8dWgxgymIIYRyt8bRdLUXXU","ChIJfV2h73KmIIYRRDpBV-crpB8","ChIJvTnAEW6mIIYRqA7o0JRIRyA","ChIJETttTjKkIIYRfnaTcqDqbnw","ChIJO8UE__pZJ4YROei1_1_xklM","ChIJ76kBGjFcJ4YRwmBQteVXEyk"],_a={"ChIJ-6rxFimpIIYRCrq8YVb3Ujs":{addr:"2000 Lakeshore Dr Uc250, New Orleans, LA 70148, USA",id:"ChIJ-6rxFimpIIYRCrq8YVb3Ujs",loc:{lat:30.02439820000001,lng:-90.0684455},name:"Aramark",navUrl:"https://maps.google.com/?cid=4274750946707028490",phone:"(504) 280-6079",website:"https://www.aramark.com/",distance:3},ChIJ01VeXQymIIYRI6lnasCzx3M:{addr:"724 Iberville St, New Orleans, LA 70130, USA",id:"ChIJ01VeXQymIIYRI6lnasCzx3M",loc:{lat:29.9543,lng:-90.0689558},name:"Acme Oyster House",navUrl:"https://maps.google.com/?cid=8342834473727404323",phone:"(504) 522-5973",website:"http://www.acmeoyster.com/french-quarter/",distance:4},ChIJ28cfCwymIIYRmTnBVitvmZ0:{addr:"841 Iberville St, New Orleans, LA 70112, USA",id:"ChIJ28cfCwymIIYRmTnBVitvmZ0",loc:{lat:29.9553468,lng:-90.0698063},name:"Deanie's Seafood Restaurant in the French Quarter",navUrl:"https://maps.google.com/?cid=11356230167321196953",phone:"(504) 581-1316",website:"https://www.deanies.com/",distance:4},ChIJ2_bmEw6vIIYRS7ztDnnLpNg:{addr:"900 Harrison Ave, New Orleans, LA 70124, USA",id:"ChIJ2_bmEw6vIIYRS7ztDnnLpNg",loc:{lat:30.003912,lng:-90.103667},name:"Mondo",navUrl:"https://maps.google.com/?cid=15610825929174924363",phone:"(504) 224-2633",website:"http://www.mondoneworleans.com/",distance:1},"ChIJ2ybOvA2mIIYRMRjz-wyjyu4":{addr:"307 Chartres St, New Orleans, LA 70130, USA",id:"ChIJ2ybOvA2mIIYRMRjz-wyjyu4",loc:{lat:29.9544808,lng:-90.0665677},name:"Caf\xe9 Fleur-De-Lis",navUrl:"https://maps.google.com/?cid=17206744602484348977",phone:"(504) 529-9641",website:"http://cafefleurdelis.com/",distance:4},"ChIJ6U-QewymIIYRzP5x_fdjwEw":{addr:"115 Bourbon St, New Orleans, LA 70130, USA",id:"ChIJ6U-QewymIIYRzP5x_fdjwEw",loc:{lat:29.954424,lng:-90.0695719},name:"Red Fish Grill",navUrl:"https://maps.google.com/?cid=5530530259171147468",phone:"(504) 598-1200",website:"http://www.redfishgrill.com/",distance:4},"ChIJ6b-WfSOmIIYRHRWCCIzhh08":{addr:"2601 Royal St, New Orleans, LA 70117, USA",id:"ChIJ6b-WfSOmIIYRHRWCCIzhh08",loc:{lat:29.96491200000001,lng:-90.051209},name:"Mimi's In the Marigny",navUrl:"https://maps.google.com/?cid=5730797042406659357",phone:"(504) 872-9868",website:"http://mimismarigny.com/",distance:5},ChIJ6yNtftWuIIYRJrESGu4C5fM:{addr:"6100 Hamburg St Suite A, New Orleans, LA 70122, USA",id:"ChIJ6yNtftWuIIYRJrESGu4C5fM",loc:{lat:30.020369,lng:-90.0767649},name:"Yummy Sushi",navUrl:"https://maps.google.com/?cid=17574456342546133286",phone:"(504) 309-9401",website:"not-in-search",distance:2},ChIJ6yVNhImlIIYR8tQxm8GDdi0:{addr:"315 S Broad Ave, New Orleans, LA 70119, USA",id:"ChIJ6yVNhImlIIYR8tQxm8GDdi0",loc:{lat:29.9636662,lng:-90.0895056},name:"Ruby Slipper Cafe",navUrl:"https://maps.google.com/?cid=3275950646514275570",phone:"(504) 525-9355",website:"http://www.therubyslippercafe.net/",distance:3},ChIJ6zsQedWuIIYRYmlx6sWCkUw:{addr:"1522 Robert E Lee Blvd, New Orleans, LA 70122, USA",id:"ChIJ6zsQedWuIIYRYmlx6sWCkUw",loc:{lat:30.0207669,lng:-90.07682419999999},name:"The F\xfcd Bar",navUrl:"https://maps.google.com/?cid=5517334805059037538",phone:"(504) 309-3284",website:"http://www.eathappynola.com/",distance:2},ChIJ76kBGjFcJ4YRwmBQteVXEyk:{addr:"19130 Rogers Ln, Covington, LA 70433, USA",id:"ChIJ76kBGjFcJ4YRwmBQteVXEyk",loc:{lat:30.4735482,lng:-90.0887137},name:"The Chimes-Covington",navUrl:"https://maps.google.com/?cid=2959806024213618882",phone:"(985) 892-5396",website:"http://www.thechimes.com/the-chimes-covington",distance:32},ChIJ7SpQ6RGmIIYRsuU_zP71sBI:{addr:"630 St Peter, New Orleans, LA 70116, USA",id:"ChIJ7SpQ6RGmIIYRsuU_zP71sBI",loc:{lat:29.9577089,lng:-90.0645131},name:"Gumbo Shop",navUrl:"https://maps.google.com/?cid=1346846763281016242",phone:"(504) 525-1486",website:"http://gumboshop.com/",distance:4},ChIJ8VL0ug2mIIYRDrOWNVA6nhY:{addr:"307 Exchange Pl, New Orleans, LA 70130, USA",id:"ChIJ8VL0ug2mIIYRDrOWNVA6nhY",loc:{lat:29.9546927,lng:-90.067018},name:"Green Goddess",navUrl:"https://maps.google.com/?cid=1629804231325561614",phone:"(504) 301-3347",website:"http://greengoddessrestaurant.com/",distance:4},ChIJ8W3hFQymIIYRQObKMMNMyRo:{addr:"808 Bienville St, New Orleans, LA 70112, USA",id:"ChIJ8W3hFQymIIYRQObKMMNMyRo",loc:{lat:29.9555463,lng:-90.06883859999999},name:"GW Fins",navUrl:"https://maps.google.com/?cid=1930158316525905472",phone:"(504) 581-3467",website:"http://gwfins.com/",distance:4},ChIJ8dWgxgymIIYRyt8bRdLUXXU:{addr:"125 Camp St, New Orleans, LA 70130, USA",id:"ChIJ8dWgxgymIIYRyt8bRdLUXXU",loc:{lat:29.9520226,lng:-90.0687354},name:"Red Gravy",navUrl:"https://maps.google.com/?cid=8457149674839334858",phone:"(504) 561-8844",website:"http://redgravycafe.com/",distance:5},"ChIJ9Uw1l75cJ4YRXJ2HT-BttUU":{addr:"70456 LA-21 E, Covington, LA 70433, USA",id:"ChIJ9Uw1l75cJ4YRXJ2HT-BttUU",loc:{lat:30.4537876,lng:-90.1340372},name:"Subway Restaurants",navUrl:"https://maps.google.com/?cid=5023041769576045916",phone:"(985) 875-0624",website:"http://order.subway.com/Stores/Redirect.aspx?s=28364&sa=0&f=r&utm_source=google&utm_medium=local&utm_term=0&utm_content=28364&utm_campaign=fwh-local-remote-order&cid=0:0:0:0:0:0&segment_code=0",distance:30},ChIJDVhB0w2mIIYRZVLScBsQtTo:{addr:"739 Conti St, New Orleans, LA 70130, USA",id:"ChIJDVhB0w2mIIYRZVLScBsQtTo",loc:{lat:29.956247,lng:-90.067626},name:"Oceana Grill",navUrl:"https://maps.google.com/?cid=4230305135027442277",phone:"(504) 525-6002",website:"http://www.oceanagrill.com/",distance:4},ChIJDxnIrtelIIYR8sJkRU4JuTM:{addr:"1732 St Charles Ave, New Orleans, LA 70130, USA",id:"ChIJDxnIrtelIIYR8sJkRU4JuTM",loc:{lat:29.9369517,lng:-90.076805},name:"The Avenue Pub",navUrl:"https://maps.google.com/?cid=3727020398402126578",phone:"(504) 586-9243",website:"http://theavenuepub.com/",distance:5},ChIJDyC9Ig6mIIYRDWmrSR08N54:{addr:"718 St Peter, New Orleans, LA 70116, USA",id:"ChIJDyC9Ig6mIIYRDWmrSR08N54",loc:{lat:29.9582008,lng:-90.0652973},name:"Pat O'Brien's",navUrl:"https://maps.google.com/?cid=11400647078199388429",phone:"(504) 525-4823",website:"http://www.patobriens.com/",distance:4},ChIJETttTjKkIIYRfnaTcqDqbnw:{addr:"3128 Magazine St, New Orleans, LA 70115, USA",id:"ChIJETttTjKkIIYRfnaTcqDqbnw",loc:{lat:29.924039,lng:-90.086011},name:"The Rum House",navUrl:"https://maps.google.com/?cid=8966361882979169918",phone:"(504) 941-7560",website:"http://www.therumhouse.com/",distance:6},ChIJFYDeXQymIIYRh1Cion6Ta9I:{addr:"716 Iberville St, New Orleans, LA 70130, USA",id:"ChIJFYDeXQymIIYRh1Cion6Ta9I",loc:{lat:29.954206,lng:-90.068728},name:"Dickie Brennan's Steakhouse",navUrl:"https://maps.google.com/?cid=15162374742576615559",phone:"(504) 522-2467",website:"http://www.dickiebrennanssteakhouse.com/",distance:4},ChIJG_d8TP5eJ4YR6wK6RwXBFkc:{addr:"72011 Holly St, Abita Springs, LA 70420, USA",id:"ChIJG_d8TP5eJ4YR6wK6RwXBFkc",loc:{lat:30.47869790000001,lng:-90.0391606},name:"Abita Brew Pub",navUrl:"https://maps.google.com/?cid=5122493854602887915",phone:"(985) 892-5837",website:"http://www.abitabrewpub.com/",distance:32},ChIJO8UE__pZJ4YROei1_1_xklM:{addr:"1917 Lakeshore Dr, Mandeville, LA 70448, USA",id:"ChIJO8UE__pZJ4YROei1_1_xklM",loc:{lat:30.3524862,lng:-90.0674878},name:"Rips On the Lake",navUrl:"https://maps.google.com/?cid=6022141046362073145",phone:"(985) 727-2829",website:"http://www.ripsonthelake.com/",distance:23},"ChIJRQDMLA2mIIYR-ZQnRWmSdnU":{addr:"200 Magazine St, New Orleans, LA 70130, USA",id:"ChIJRQDMLA2mIIYR-ZQnRWmSdnU",loc:{lat:29.9510068,lng:-90.0674083},name:"The Ruby Slipper Cafe",navUrl:"https://maps.google.com/?cid=8464113530518869241",phone:"(504) 525-9355",website:"http://www.therubyslippercafe.net/",distance:5},ChIJT4MvDBKmIIYRFjCBCX693Yc:{addr:"534 St Louis St, New Orleans, LA 70130, USA",id:"ChIJT4MvDBKmIIYRFjCBCX693Yc",loc:{lat:29.955558,lng:-90.065077},name:"NOLA Restaurant",navUrl:"https://maps.google.com/?cid=9790189513996316694",phone:"(504) 522-6652",website:"http://emerilsrestaurants.com/nola",distance:4},"ChIJTz6VoQumIIYRAXvVrezBp-U":{addr:"123 Baronne St, New Orleans, LA 70112, USA",id:"ChIJTz6VoQumIIYRAXvVrezBp-U",loc:{lat:29.9538764,lng:-90.0716274},name:"Domenica",navUrl:"https://maps.google.com/?cid=16548408578069068545",phone:"(504) 648-6020",website:"http://www.domenicarestaurant.com/",distance:4},"ChIJW3d2Wc2lIIYRu-qs_NaSOkg":{addr:"1403 Washington Ave, New Orleans, LA 70130, USA",id:"ChIJW3d2Wc2lIIYRu-qs_NaSOkg",loc:{lat:29.9287839,lng:-90.08421849999999},name:"Commander's Palace",navUrl:"https://maps.google.com/?cid=5204633771439876795",phone:"(504) 899-8221",website:"https://www.commanderspalace.com/",distance:6},ChIJWegGCA6mIIYRYAiMKN4T4CM:{addr:"713 St Louis St, New Orleans, LA 70130, USA",id:"ChIJWegGCA6mIIYRYAiMKN4T4CM",loc:{lat:29.95674039999999,lng:-90.06639969999999},name:"Antoine's Restaurant",navUrl:"https://maps.google.com/?cid=2585088030994597984",phone:"(504) 581-4422",website:"http://www.antoines.com/",distance:4},ChIJX0qVUw2mIIYRNZcBBOu8Xfs:{addr:"365 Canal St Suite 220, New Orleans, LA 70130, USA",id:"ChIJX0qVUw2mIIYRNZcBBOu8Xfs",loc:{lat:29.95115109999999,lng:-90.0653869},name:"Morton's The Steakhouse",navUrl:"https://maps.google.com/?cid=18112840993924552501",phone:"(504) 566-0221",website:"http://www.mortons.com/neworleans/",distance:5},"ChIJXUB3oBGmIIYRDRcvPi-pdDM":{addr:"547 St Ann St, New Orleans, LA 70116, USA",id:"ChIJXUB3oBGmIIYRDRcvPi-pdDM",loc:{lat:29.95826729999999,lng:-90.0629094},name:"Stanley Restaurant",navUrl:"https://maps.google.com/?cid=3707774413604591373",phone:"(504) 587-0093",website:"http://stanleyrestaurant.com/",distance:4},ChIJXXjcfZhcJ4YRWnFiE4ofXes:{addr:"6025 Pinnacle Pkwy, Covington, LA 70433, USA",id:"ChIJXXjcfZhcJ4YRWnFiE4ofXes",loc:{lat:30.444494,lng:-90.12936499999999},name:"Texas Roadhouse",navUrl:"https://maps.google.com/?cid=16959746449638322522",phone:"(985) 867-8008",website:"https://www.texasroadhouse.com/restaurant-locations/louisiana/covington",distance:30},ChIJYbYLMBimIIYR_jUx5ds4Quo:{addr:"536 Frenchmen St, New Orleans, LA 70116, USA",id:"ChIJYbYLMBimIIYR_jUx5ds4Quo",loc:{lat:29.9632722,lng:-90.0578685},name:"Three Muses",navUrl:"https://maps.google.com/?cid=16880116870432241150",phone:"(504) 252-4801",website:"http://www.3musesnola.com/",distance:4},ChIJaS5FoBGmIIYRTXOjqm3XxI0:{addr:"801 Chartres St, New Orleans, LA 70116, USA",id:"ChIJaS5FoBGmIIYRTXOjqm3XxI0",loc:{lat:29.9583835,lng:-90.063105},name:"Muriel's Jackson Square",navUrl:"https://maps.google.com/?cid=10215526720797373261",phone:"(504) 568-1885",website:"http://www.muriels.com/",distance:4},ChIJaVmoJg6vIIYR9iB3FoxFfEQ:{addr:"6300 Argonne Blvd, New Orleans, LA 70124, USA",id:"ChIJaVmoJg6vIIYR9iB3FoxFfEQ",loc:{lat:30.004869,lng:-90.102976},name:"The Velvet Cactus",navUrl:"https://maps.google.com/?cid=4934895759665864950",phone:"(504) 301-2083",website:"http://www.thevelvetcactus.com/",distance:1},"ChIJf-CSq3SmIIYR1QNnxY9r5wo":{addr:"333 St Charles Ave, New Orleans, LA 70130, USA",id:"ChIJf-CSq3SmIIYR1QNnxY9r5wo",loc:{lat:29.950587,lng:-90.07044619999999},name:"Luke",navUrl:"https://maps.google.com/?cid=785714925235798997",phone:"(504) 378-2840",website:"http://www.lukeneworleans.com/",distance:5},"ChIJfV2h73KmIIYRRDpBV-crpB8":{addr:"401 Poydras St, New Orleans, LA 70130, USA",id:"ChIJfV2h73KmIIYRRDpBV-crpB8",loc:{lat:29.949065,lng:-90.06708809999999},name:"Mother's Restaurant",navUrl:"https://maps.google.com/?cid=2279995583957645892",phone:"(504) 523-9656",website:"http://www.mothersrestaurant.net/",distance:5},"ChIJgTgvHA6mIIYR8-Hw_kHU-f0":{addr:"613 Royal St, New Orleans, LA 70130, USA",id:"ChIJgTgvHA6mIIYR8-Hw_kHU-f0",loc:{lat:29.9575423,lng:-90.0652683},name:"The Court of Two Sisters",navUrl:"https://maps.google.com/?cid=18300891940711883251",phone:"(504) 522-7261",website:"http://www.courtoftwosisters.com/",distance:4},ChIJi2AxW3SmIIYRmML7jsbqtb8:{addr:"701 St Charles Ave, New Orleans, LA 70130, USA",id:"ChIJi2AxW3SmIIYRmML7jsbqtb8",loc:{lat:29.947316,lng:-90.07156100000002},name:"Herbsaint",navUrl:"https://maps.google.com/?cid=13814205570552152728",phone:"(504) 524-4114",website:"http://www.herbsaint.com/",distance:5},ChIJiUWE9A2mIIYRngo31C8qPSw:{addr:"416 Chartres St, New Orleans, LA 70130, USA",id:"ChIJiUWE9A2mIIYRngo31C8qPSw",loc:{lat:29.955348,lng:-90.0655},name:"K-Paul's Louisiana Kitchen",navUrl:"https://maps.google.com/?cid=3187750496160385694",phone:"(504) 596-2530",website:"http://www.kpauls.com/",distance:4},"ChIJnUfNIiOmIIYRibUzWhx-PBg":{addr:"2440 Chartres St, New Orleans, LA 70117, USA",id:"ChIJnUfNIiOmIIYRibUzWhx-PBg",loc:{lat:29.9636919,lng:-90.0529387},name:"New Orleans Cake Caf\xe9 & Bakery",navUrl:"https://maps.google.com/?cid=1746409415750432137",phone:"(504) 943-0010",website:"http://www.nolacakes.com/",distance:5},ChIJnYiUJxtcJ4YRkAFmz9vshEU:{addr:"1202 N Hwy 190, Covington, LA 70433, USA",id:"ChIJnYiUJxtcJ4YRkAFmz9vshEU",loc:{lat:30.44807140000001,lng:-90.0815896},name:"Acme Oyster House",navUrl:"https://maps.google.com/?cid=5009389114364395920",phone:"(985) 246-6155",website:"http://www.acmeoyster.com/",distance:30},ChIJp6mGj3GmIIYRfS0qjpoGsmo:{addr:"800 Tchoupitoulas St, New Orleans, LA 70130, USA",id:"ChIJp6mGj3GmIIYRfS0qjpoGsmo",loc:{lat:29.944616,lng:-90.067286},name:"Emeril's New Orleans",navUrl:"https://maps.google.com/?cid=7688214774754717053",phone:"(504) 528-9393",website:"http://emerilsrestaurants.com/emerils-new-orleans",distance:5},"ChIJpdlCODylIIYRyeE-wYHtahE":{addr:"626 S Carrollton Ave, New Orleans, LA 70118, USA",id:"ChIJpdlCODylIIYRyeE-wYHtahE",loc:{lat:29.94384989999999,lng:-90.1339165},name:"The Camellia Grill",navUrl:"https://maps.google.com/?cid=1255076587724792265",phone:"(504) 309-2679",website:"https://www.facebook.com/pages/Camellia-Grill/104113072958918?rf=250301408353469",distance:4},ChIJryxqrxCmIIYRtUFAh4d96BY:{addr:"1201 Royal St, New Orleans, LA 70116, USA",id:"ChIJryxqrxCmIIYRtUFAh4d96BY",loc:{lat:29.96209660000001,lng:-90.06116809999999},name:"Verti Marte",navUrl:"https://maps.google.com/?cid=1650707284474479029",phone:"(504) 525-4767",website:"not-in-search",distance:4},"ChIJs_quaAymIIYRUwRs2-LHWqA":{addr:"144 Bourbon St, New Orleans, LA 70130, USA",id:"ChIJs_quaAymIIYRUwRs2-LHWqA",loc:{lat:29.9545625,lng:-90.0691287},name:"Bourbon House",navUrl:"https://maps.google.com/?cid=11554767571130254419",phone:"(504) 522-0111",website:"http://www.bourbonhouse.com/",distance:4},ChIJt2f3WgymIIYRb1B1S_gWc3I:{addr:"201 Royal St, New Orleans, LA 70130, USA",id:"ChIJt2f3WgymIIYRb1B1S_gWc3I",loc:{lat:29.9543868,lng:-90.0683629},name:"Mr. B's Bistro",navUrl:"https://maps.google.com/?cid=8246960598319190127",phone:"(504) 523-2078",website:"http://www.mrbsbistro.com/",distance:4},ChIJu2hvxRGmIIYRaS0qajrz0ZE:{addr:"717 Orleans St, New Orleans, LA 70116, USA",id:"ChIJu2hvxRGmIIYRaS0qajrz0ZE",loc:{lat:29.95864749999999,lng:-90.0645742},name:"Roux on Orleans Restaurant",navUrl:"https://maps.google.com/?cid=10507446837846879593",phone:"(504) 571-4604",website:"http://www.bourbonorleans.com/restaurant-dining.php",distance:4},ChIJuwqeNamlIIYRiCYSjKciG5c:{addr:"4905 Freret St, New Orleans, LA 70115, USA",id:"ChIJuwqeNamlIIYRiCYSjKciG5c",loc:{lat:29.935024,lng:-90.1074596},name:"Cure",navUrl:"https://maps.google.com/?cid=10888334627103188616",phone:"(504) 302-2357",website:"http://curenola.com/",distance:5},ChIJv2VvX3GmIIYRlCIIn4WtIYY:{addr:"800 Magazine St, New Orleans, LA 70130, USA",id:"ChIJv2VvX3GmIIYRlCIIn4WtIYY",loc:{lat:29.945088,lng:-90.069051},name:"P\xeache Seafood Grill",navUrl:"https://maps.google.com/?cid=9665197064724161172",phone:"(504) 522-1744",website:"https://www.pecherestaurant.com/",distance:5},ChIJvTnAEW6mIIYRqA7o0JRIRyA:{addr:"201 Julia St, New Orleans, LA 70130, USA",id:"ChIJvTnAEW6mIIYRqA7o0JRIRyA",loc:{lat:29.9444575,lng:-90.0647824},name:"Mulate's | The Original Cajun Restaurant",navUrl:"https://maps.google.com/?cid=2325907536557379240",phone:"(504) 522-1492",website:"https://www.mulates.com/",distance:5},ChIJzXUQJhimIIYR7wBw72LWWZs:{addr:"508 Frenchmen St, New Orleans, LA 70116, USA",id:"ChIJzXUQJhimIIYR7wBw72LWWZs",loc:{lat:29.962781,lng:-90.057801},name:"The Maison",navUrl:"https://maps.google.com/?cid=11194214069218312431",phone:"(504) 371-5543",website:"http://www.maisonfrenchmen.com/",distance:4}},Ha={pagetoken:"THERE_IS_MORE",discoveries:[]},Xa={pagetoken:null,discoveries:[]},Qa=!1;for(var Za in _a){var Ka=_a[Za];"ChIJTz6VoQumIIYRAXvVrezBp-U"===Ka.id&&(Qa=!0),Qa?Xa.discoveries.push(Ka):Ha.discoveries.push(Ka)}var $a=function(e){function t(){return Object(A.a)(this,t),Object(D.a)(this,Object(J.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(U.a)(t,[{key:"searchDiscoveries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.loc,n=e.searchText,a=void 0===n?"":n,r=e.distance,o=void 0===r?5:r,i=e.minprice,c=void 0===i?"1":i,s=Object(h.a)(e,["loc","searchText","distance","minprice"]),l=S.prefix("DiscoveryServiceMock.searchDiscoveries() parameter violation: ");l(t,"loc is required ... [lat,lng]"),l(I()(a),"supplied searchText (".concat(a,") must be a string")),l(o,"distance is required ... (1-31) miles"),l(o>=1&&o<=31,"supplied distance (".concat(o,") must be between 1-31 miles")),l(c,"minprice is required ... (0-4)"),l(c>="0"&&c<="4","supplied minprice (".concat(c,") must be between 0-4"));var u=Object.keys(s);return l(0===u.length,"unrecognized named parameter(s): ".concat(u)),new Promise(function(e,t){return e(Ha)})}},{key:"searchDiscoveriesNextPage",value:function(e){var t=S.prefix("DiscoveryServiceMock.searchDiscoveriesNextPage() parameter violation: ");return t(e,"pagetoken is required"),t(I()(e),"supplied pagetoken (".concat(e,") must be a string")),new Promise(function(e,t){return e(Xa)})}},{key:"fetchEateryDetail",value:function(e){return new Promise(function(t,n){return t(_a[e])})}}]),t}(xa),er=Object(c.createFeature)({name:"discoveryServiceMock",enabled:!Qt.useWIFI,fassets:{defineUse:{discoveryService:new $a}}}),tr=Object(s.slicedReducer)("view.".concat("eateries"),Object(c.expandWithFassets)(function(e){var t,n,a,r;return Object(R.combineReducers)({dbPool:Object(g.reducerHash)((t={},Object(m.a)(t,mr.dbPool.changed,function(e,t){return t.eateries}),Object(m.a)(t,e.actions.signOut,function(e,t){return null}),t),null),listView:Object(R.combineReducers)({filterForm:ur.registrar.formReducer(),filter:Object(g.reducerHash)((n={},Object(m.a)(n,mr.filterForm.process,function(e,t){return t.domain}),Object(m.a)(n,e.actions.signOut,function(e,t){return{distance:null,sortOrder:"name"}}),n),{distance:null,sortOrder:"name"})}),selectedEateryId:Object(g.reducerHash)((a={},Object(m.a)(a,mr.viewDetail,function(e,t){return t.eateryId}),Object(m.a)(a,mr.viewDetail.close,function(e,t){return null}),a),null),spin:Object(g.reducerHash)((r={},Object(m.a)(r,mr.spin,function(e,t){return t.spinMsg}),Object(m.a)(r,mr.spin.complete,function(e,t){return null}),r),null)})})),nr=tr,ar=function(e){return tr.getSlicedState(e)},rr=function(e){return ar(e).dbPool},or=function(e){return ar(e).listView.filter},ir=Object(C.a)(rr,or,function(e,t){return e?Object.values(e).filter(function(e){return!t.distance||e.distance<=t.distance}).sort(function(e,n){return"distance"===t.sortOrder?e.distance-n.distance:e.name.localeCompare(n.name)}):null}),cr=function(e){var t=ar(e).selectedEateryId;return t?ar(e).dbPool[t]:null},sr=function(e){return ar(e).spin},lr="Sort order should be either 'name' or 'distance'",ur=j({formDesc:"Pool Filter",formSchema:d.object().shape({distance:d.number().label("Miles").typeError("Miles should be a positive number (when supplied)").nullable().transform(function(e){return e||null}).positive("Miles should be a positive number (when supplied)"),sortOrder:d.string().label("Sort").typeError(lr).required().matches(/(name|distance)/,lr)}),formActionsAccessor:function(){return mr.filterForm},formStateSelector:function(e){return function(e){return ar(e).listView.filterForm}(e)}}),mr=p.generateActions.root(Object(m.a)({},"eateries",{dbPool:{changed:{actionMeta:{traits:["eateries"]}},add:{actionMeta:{traits:["eateryId"]},eateryDetail:{actionMeta:{traits:["eatery"]},fail:{actionMeta:{traits:["eateryId","err"]}}}},remove:{actionMeta:{traits:["eateryId"]}}},filterForm:ur.registrar.formActionGenesis(),viewDetail:{actionMeta:{traits:["eateryId"]},close:{actionMeta:{}}},spin:{actionMeta:{},complete:{actionMeta:{traits:["eateryId"]}}}})),pr={pool:null,wrapUp:function(){return"no-op"}},dr=null,fr=new Ga,hr=Object(c.expandWithFassets)(function(e){return Object(v.b)({name:"".concat("eateries",".setupGuestUser"),type:String(e.actions.signIn.complete),transform:function(e,t){e.getState;var n=e.action,a=e.fassets;n.user.isGuest()&&(dr=a.eateryService,a.eateryService=fr,te({msg:'as a "guest" user, your Eatery pool is a "mocked" in-memory data source'})),t(n)}})}),gr=Object(c.expandWithFassets)(function(e){return Object(v.b)({name:"".concat("eateries",".tearDownGuestUser"),type:String(e.actions.signOut),process:function(e,t,n){e.getState;var a=e.action,r=e.fassets;a.user.isGuest()&&(r.eateryService=dr),n()}})}),vr=Object(c.expandWithFassets)(function(e){return Object(v.b)({name:"".concat("eateries",".monitorDbPool"),type:String(e.actions.userProfileChanged),warnTimeout:0,validate:function(e,t,n){e.getState;var a=e.action;e.fassets;a.user.pool!==pr.pool?t(a):n(a)},process:function(e,t,n){var a=e.getState,r=e.action,o=e.fassets;pr.wrapUp(),pr={pool:r.user.pool,wrapUp:function(){n()}},o.eateryService.monitorDbEateryPool(r.user.pool,o.sel.getLocation(a()),function(e){t(mr.dbPool.changed(e))})}})}),br=Object(c.expandWithFassets)(function(e){return Object(v.b)({name:"".concat("eateries",".closeDbPool"),type:String(e.actions.signOut),process:function(e,t,n){e.getState,e.action,e.fassets;pr.wrapUp(),pr={pool:null,wrapUp:function(){return"no-op"}},n()}})}),yr=Object(v.b)({name:"".concat("eateries",".defaultFilter"),type:String(mr.filterForm.open),transform:function(e,t){var n=e.getState,a=e.action;e.fassets;a.domain||(a.domain=or(n())),t(a)}}),wr=Object(v.b)({name:"".concat("eateries",".processFilter"),type:String(mr.filterForm.process),process:function(e,t,n){e.getState,e.action;t(e.fassets.actions.changeView("eateries")),t(mr.filterForm.close()),n()}}),Ir=Object(v.b)({name:"".concat("eateries",".spin"),type:String(mr.spin),transform:function(e,t,n){var a=e.getState,r=e.action,o=(e.fassets,a()),i=ir(o);r.spinMsg="... selecting your eatery from ".concat(i.length," entries!"),t(r)},process:function(e,t,n){var a=e.getState;e.action,e.fassets;setTimeout(function(){var e=a(),r=ir(e),o=Math.ceil(0),i=Math.floor(r.length),c=r[Math.floor(Math.random()*(i-o))+o].id;t(mr.spin.complete(c)),n()},2e3)}}),Er=Object(v.b)({name:"".concat("eateries",".spinComplete"),type:String(mr.spin.complete),process:function(e,t,n){e.getState;var a=e.action;e.fassets;t(mr.viewDetail(a.eateryId)),n()}}),Or=Object(v.b)({name:"".concat("eateries",".addToPoolPrep"),type:String(mr.dbPool.add),process:function(e,t,n){e.getState;var a=e.action;e.fassets.discoveryService.fetchEateryDetail(a.eateryId).then(function(e){t(mr.dbPool.add.eateryDetail(e)),n()}).catch(function(e){t(mr.dbPool.add.eateryDetail.fail(a.eateryId,e)),n()})}}),Sr=Object(v.b)({name:"".concat("eateries",".addToPool"),type:String(mr.dbPool.add.eateryDetail),transform:function(e,t,n){e.getState;var a=e.action;e.fassets.eateryService.addEatery(a.eatery).catch(function(e){ce({err:e})}),t(a)}}),jr=Object(v.b)({name:"".concat("eateries",".removeFromPool"),type:String(mr.dbPool.remove),transform:function(e,t,n){e.getState;var a=e.action;e.fassets.eateryService.removeEatery(a.eateryId).catch(function(e){ce({err:e})}),t(a)}}),Rr=Object(c.expandWithFassets)(function(e){return[hr(e),gr(e),vr(e),br(e)].concat(Object(Y.a)(ur.registrar.formLogic()),[yr,wr,Ir,Er,Or,Sr,jr])}),Cr=n(445),Ar=n.n(Cr),Ur=n(444),Nr=n.n(Ur),xr=n(243),Pr=n.n(xr),kr=n(443),Mr=n.n(kr),Fr=n(441),Tr=n.n(Fr),Yr=n(442),Dr=n.n(Yr),Jr=n(240),Lr=n.n(Jr);var Wr=Te({component:function(e){var t=e.curUser,n=e.eatery,a=e.handleClose,o=e.handleSpin,i=e.fullScreen,c=e.classes;return r.a.createElement(qe.a,{open:!0,onClose:a,fullScreen:i,TransitionComponent:pt},r.a.createElement(Qe.a,{disableTypography:!0,className:c.titleBar},r.a.createElement(it.a,{className:c.title,variant:"h6",color:"inherit",noWrap:!0},"Eatery",r.a.createElement(it.a,{color:"inherit",inline:!0,noWrap:!0},"\xa0(",t.pool,")")),r.a.createElement(Tt.a,{color:"inherit",onClick:a},r.a.createElement(Bn.a,null))),r.a.createElement(ze.a,null,r.a.createElement(ta.a,null,r.a.createElement(aa.a,null,r.a.createElement(ca.a,{primary:r.a.createElement(it.a,{variant:"h6"},n.name)})),r.a.createElement(aa.a,null,r.a.createElement(oa.a,null,r.a.createElement(Tr.a,null)),r.a.createElement(ca.a,{primary:r.a.createElement(Pr.a,{variant:"body1",href:n.navUrl,target:"_blank",color:"inherit",underline:"none"},n.addr)})),r.a.createElement(aa.a,null,r.a.createElement(oa.a,null,r.a.createElement(Dr.a,null)),r.a.createElement(ca.a,{primary:r.a.createElement(Pr.a,{variant:"body1",href:"tel:".concat(n.phone),color:"inherit",underline:"none"},n.phone)})),r.a.createElement(aa.a,null,r.a.createElement(oa.a,null,r.a.createElement(Mr.a,null)),r.a.createElement(ca.a,{primary:r.a.createElement(Pr.a,{variant:"body1",href:n.website,target:"_blank",color:"inherit",underline:"none"},"Web: ",n.website)})))),r.a.createElement(Nr.a,{className:c.bottomBar},r.a.createElement(Tt.a,{color:"inherit",onClick:o},r.a.createElement(Lr.a,null),r.a.createElement(it.a,{color:"inherit",variant:"subtitle1"},"\xa0\xa0Spin Again"))))},mapStateToProps:function(e,t){return{curUser:t.fassets.sel.curUser(e)}},mapDispatchToProps:function(e){return{handleClose:function(){e(mr.viewDetail.close())},handleSpin:function(){e(mr.spin())}}}}),Vr=Object(c.withFassets)({component:Wr,mapFassetsToProps:{fassets:"."}}),Br=Object(B.withStyles)(function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},bottomBar:{color:e.palette.common.white,backgroundColor:e.palette.primary.main}}})(Vr),qr=De()({breakpoint:"xs"})(Br);var Gr=Te({component:function(e){var t=e.classes,n=(e.curUser,e.filteredEateries),a=e.filter,o=e.selectedEatery,i=e.spinMsg,c=e.showDetail;if(!n)return r.a.createElement(Nt,{msg:"... waiting for pool entries"});var s=-1;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ta.a,{className:t.list},function(){var e=[];return n.forEach(function(t){if("distance"===a.sortOrder&&t.distance!==s){s=t.distance;var n="".concat(s," mile").concat(1===s?"":"s"," (as the crow flies)");e.push(r.a.createElement(aa.a,{key:"subheader".concat(s),dense:!0,button:!0,divider:!0},r.a.createElement(ca.a,{primary:n})))}e.push(r.a.createElement(aa.a,{key:t.id,dense:!0,button:!0,divider:!0,onClick:function(){return c(t.id)}},r.a.createElement(oa.a,null,r.a.createElement(Ar.a,null)),r.a.createElement(ca.a,{primary:r.a.createElement(it.a,{variant:"h6",noWrap:!0},t.name,r.a.createElement(it.a,{inline:!0,noWrap:!0},"\xa0(","".concat(t.distance," mile").concat(1===s?"":"s"),")")),secondary:r.a.createElement(it.a,{variant:"subtitle1",noWrap:!0},t.addr)})))}),e}()),i&&r.a.createElement(Nt,{msg:i}),o&&r.a.createElement(qr,{eatery:o}))},mapStateToProps:function(e,t){var n=t.fassets;return{filteredEateries:ir(e),filter:or(e),selectedEatery:cr(e),spinMsg:sr(e),curUser:n.sel.curUser(e)}},mapDispatchToProps:function(e){return{showDetail:function(t){e(mr.viewDetail(t))}}}}),zr=Object(c.withFassets)({component:Gr,mapFassetsToProps:{fassets:"."}}),_r=Zn()(function(e){return{list:{}}})(zr);function Hr(e){var t=e.children;return r.a.createElement(Ke.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},t)}var Xr=Te({component:function(e){var t=e.iForm,n=e.fullScreen,a=e.classes,o=t.getLabel(),i=t.inProcess(),c={fieldName:"sortOrder",iForm:t},s=t.getMsg();return r.a.createElement(qe.a,{open:!0,onClose:t.handleClose,fullScreen:n,TransitionComponent:mt},r.a.createElement("form",{onSubmit:t.handleProcess},r.a.createElement(Qe.a,{disableTypography:!0,className:a.titleBar},r.a.createElement(it.a,{className:a.title,variant:"h6",color:"inherit",noWrap:!0},o),r.a.createElement(Tt.a,{color:"inherit",onClick:t.handleClose},r.a.createElement(Bn.a,null))),r.a.createElement(ze.a,null,r.a.createElement(He.a,{className:a.entry},"filter your pool with these settings ..."),r.a.createElement("div",{className:a.entry},r.a.createElement(yt,{fieldName:"distance",iForm:t,autoFocus:!0,type:"number",helperText:"prune entries within this distance (leave blank to view entire pool)"})),r.a.createElement("div",{className:a.entry},r.a.createElement(Wn,Object.assign({},c,{row:!0,helperText:"sort entries by Restaurant (name) or Distance"}),r.a.createElement(Wn.Op,Object.assign({value:"name",label:"Restaurant"},c)),r.a.createElement(Wn.Op,Object.assign({value:"distance",label:"Distance"},c)))),r.a.createElement("div",{className:a.entry},r.a.createElement(Hr,null,r.a.createElement(G.a,{type:"submit",variant:"contained",color:"primary"},r.a.createElement(Gn.a,{className:a.icon}),"Filter Pool"))),s&&r.a.createElement("div",{className:a.entry},r.a.createElement(It.a,{error:!0},s)),i&&r.a.createElement("div",{className:a.entry},r.a.createElement(Ot.a,{className:a.inProgress,color:"secondary"})))))},mapStateToProps:function(e){return{formState:ur.formStateSelector(e)}},mergeProps:function(e,t,n){return Object(f.a)({},n,{iForm:ur.IForm(e.formState,t.dispatch)})}}),Qr=Object(B.withStyles)(function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},entry:{margin:"30px 0px"},icon:{marginRight:e.spacing.unit},inProgress:{margin:4*e.spacing.unit}}})(Xr),Zr=De()({breakpoint:"xs"})(Qr),Kr=[Object(u.featureRoute)({priority:u.PRIORITY.HIGH,content:function(e){e.fassets;if(function(e){return!!ar(e).listView.filterForm}(e.appState))return r.a.createElement(Zr,null)}}),Object(u.featureRoute)({content:function(e){var t=e.fassets,n=e.appState;return"eateries"!==t.sel.curView(n)?null:r.a.createElement(_r,null)}})],$r=n(446),eo=n.n($r);var to=Te({component:function(e){var t=e.classes,n=e.changeView,a=e.handleFilter;return r.a.createElement(r.a.Fragment,null,r.a.createElement(aa.a,{button:!0,onClick:n},r.a.createElement(oa.a,{className:t.major},r.a.createElement(eo.a,null)),r.a.createElement(ca.a,{primaryTypographyProps:{className:t.major},primary:"Pool"}),r.a.createElement(Ia.a,{onClick:a},r.a.createElement(oa.a,null,r.a.createElement(Tt.a,{className:t.minor},r.a.createElement(ma.a,null))))),r.a.createElement(ya.a,null))},mapDispatchToProps:function(e,t){var n=t.fassets;return{changeView:function(){e(n.actions.changeView("eateries"))},handleFilter:function(){e(mr.filterForm.open())}}}}),no=Object(c.withFassets)({component:to,mapFassetsToProps:{fassets:"."}}),ao=Zn()(function(e){return{major:{color:e.palette.grey.A200},minor:{color:e.palette.primary.dark}}})(no);var ro=Te({component:function(e){var t=e.curUser,n=e.filter;return r.a.createElement(it.a,{variant:"h6",color:"inherit",noWrap:!0},"Pool",r.a.createElement(it.a,{color:"inherit",inline:!0,noWrap:!0},"\xa0(",t.pool,")"),n.distance&&r.a.createElement(it.a,{color:"inherit",noWrap:!0},"... within ",n.distance," mile",1===n.distance?"":"s"))},mapStateToProps:function(e,t){return{curUser:t.fassets.sel.curUser(e),filter:or(e)}}}),oo=Object(c.withFassets)({component:ro,mapFassetsToProps:{fassets:"."}});var io,co=Te({component:function(e){var t=e.handleSpin;return r.a.createElement(Ke.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(it.a,null,"\xa0"),r.a.createElement(Tt.a,{color:"inherit",onClick:t},r.a.createElement(Lr.a,null),r.a.createElement(it.a,{color:"inherit",variant:"subtitle1"},"\xa0\xa0Spin")),r.a.createElement(Ua.a,{title:"powered by Google Firebase"},r.a.createElement("img",{width:"50px",src:"/firebaseLogo.png",alt:""})))},mapDispatchToProps:function(e){return{handleSpin:function(){e(mr.spin())}}}}),so=Object(c.createFeature)({name:"eateries",fassets:{define:{"actions.addEatery":mr.dbPool.add,"actions.removeEatery":mr.dbPool.remove,"sel.getEateryDbPool":rr},defineUse:(io={},Object(m.a)(io,"AppMotif.LeftNavItem.".concat("eateries"),ao),Object(m.a)(io,"AppMotif.auxViewContent.".concat("eateries"),{TitleComp:oo,FooterComp:co}),io)},reducer:nr,logic:Rr,route:Kr,appDidStart:function(e){var t=e.fassets;e.appState;(0,e.dispatch)(t.actions.changeView("eateries"))}}),lo=Object(c.createFeature)({name:"eateryService",fassets:{use:[["eateryService",{required:!0,type:function(e){return e instanceof qa?null:"object of type EateryServiceAPI, NOT: "+e}}]]}});var uo=function(e){function t(){var e,n;Object(A.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(r)))).curPoolMonitor={pool:null,dbRef:null,wrapUp:function(){return"no-op"}},n}return Object(L.a)(t,e),Object(U.a)(t,[{key:"monitorDbEateryPool",value:function(e,t,n){this.curPoolMonitor.wrapUp(),this.curPoolMonitor={pool:e,dbRef:Kt.a.database().ref("/pools/".concat(e)),wrapUp:function(){this.dbRef.off("value")}},this.curPoolMonitor.dbRef.on("value",function(e){var a=null!==e.val()?e.val():{};for(var r in a){var o=a[r];o.distance=Ba()([o.loc.lat,o.loc.lng],[t.lat,t.lng])}n(a)})}},{key:"addEatery",value:function(e){var t=this;return new Promise(function(n,a){if(!t.curPoolMonitor.pool)return a(new Error("***ERROR*** (within app logic) EateryServiceFirebase.addEatery(): may only be called once a successful monitorDbEateryPool() has completed.").defineAttemptingToMsg("add an Eatery to the DB"));Kt.a.database().ref("/pools/".concat(t.curPoolMonitor.pool,"/").concat(e.id)).set(e).then(function(){}).catch(function(n){return a(n.defineAttemptingToMsg("add eatery (".concat(e.id,") to pool ").concat(t.curPoolMonitor.pool)))})})}},{key:"removeEatery",value:function(e){var t=this;return new Promise(function(n,a){if(!t.curPoolMonitor.pool)return a(new Error("***ERROR*** (within app logic) EateryServiceFirebase.removeEatery(): may only be called once a successful monitorDbEateryPool() has completed.").defineAttemptingToMsg("remove an Eatery from the DB"));Kt.a.database().ref("/pools/".concat(t.curPoolMonitor.pool,"/").concat(e)).set(null).then(function(){}).catch(function(n){return a(n.defineAttemptingToMsg("remove eatery (".concat(e,") from pool ").concat(t.curPoolMonitor.pool)))})})}}]),t}(qa),mo=Object(c.createFeature)({name:"eateryServiceFirebase",enabled:Qt.useWIFI,fassets:{defineUse:{eateryService:new uo}}}),po=Object(c.createFeature)({name:"eateryServiceMock",enabled:!Qt.useWIFI,fassets:{defineUse:{eateryService:new Ga}}}),fo=Object(c.createFeature)({name:"initFirebase",enabled:Qt.useWIFI,appWillStart:function(e){e.fassets,e.curRootAppElm;var t=pe("afesab2JqMnN0cjp7ImFwaUtleSI6IkFJemFTeUNmak8xc29QMUE5OEtWeWxDYnJELXUzZE5UbHVlZ2EzRSIsImF1dGhEb21haW4iOiJlYXRlcnktbm9kLmZpcmViYXNlYXBwLmNvbSIsImRhdGFiYXNlVVJMIjoiaHR0cHM6Ly9lYXRlcnktbm9kLmZpcmViYXNlaW8uY29tIiwicHJvamVjdElkIjoiZWF0ZXJ5LW5vZCIsInN0b3JhZ2VCdWNrZXQiOiJlYXRlcnktbm9kLmFwcHNwb3QuY29tIiwibWVzc2FnaW5nU2VuZGVySWQiOiIxMjM2ODc4NDM3MzYifQ==");Kt.a.initializeApp(t)}}),ho=Object(c.createFeature)({name:"initGooglePlaces",enabled:Qt.useWIFI,appWillStart:function(e){e.fassets,e.curRootAppElm;var t=pe("afesaQUl6YVN5RHZiNlBiXzV0RjVHN01jNTQ1QnFiQ1g4SmtXWk9LQlVz"),n=document.createElement("script");n.type="text/javascript",n.src="https://maps.googleapis.com/maps/api/js?key=".concat(t,"&libraries=places"),document.body.appendChild(n)}}),go=p.generateActions.root(Object(m.a)({},"baseUI",{toggleUITheme:{actionMeta:{}},changeView:{actionMeta:{traits:["viewName"]}}}));var vo="uiTheme",bo=Object(s.slicedReducer)("baseUI",Object(c.expandWithFassets)(function(e){var t;return Object(R.combineReducers)({uiTheme:Object(g.reducerHash)(Object(m.a)({},go.toggleUITheme,function(e,t){return"dark"===e?"light":"dark"}),ge(vo)),curView:Object(g.reducerHash)((t={},Object(m.a)(t,go.changeView,function(e,t){return t.viewName}),Object(m.a)(t,e.actions.signOut,function(e,t){return"eateries"}),t),"uninitialized")})})),yo=bo,wo=function(e){return bo.getSlicedState(e)},Io=function(e){return wo(e).uiTheme||"light"},Eo=[Object(v.b)({name:"".concat("baseUI",".persistUITheme"),type:String(go.toggleUITheme),process:function(e,t,n){var a,r=e.getState;e.action,e.fassets;a=Io(r()),he(vo,a),n()}})],Oo=n(449),So=n.n(Oo),jo=n(179),Ro=n.n(jo),Co=n(447),Ao=n.n(Co),Uo=n(180),No=n.n(Uo),xo=null;function Po(){xo&&xo()}var ko=Object(c.withFassets)({component:function(e){var t=e.classes,n=e.leftNavItems,a=r.a.useState(!1),o=Object(Mt.a)(a,2),i=o[0],c=o[1];xo=function(){return c(!0)};var s=function(){return c(!1)};return r.a.createElement(Ao.a,{open:i,onClose:s},r.a.createElement("div",{className:t.leftNav,onClick:s,onKeyDown:s},r.a.createElement(Ro.a,{position:"static"},r.a.createElement(No.a,null,r.a.createElement(it.a,{variant:"h6",color:"inherit"},"Select a view"))),r.a.createElement(ta.a,null,n.map(function(e){var t=Object(Mt.a)(e,2),n=t[0],a=t[1];return r.a.createElement(a,{key:n})}))))},mapFassetsToProps:{leftNavItems:"AppMotif.LeftNavItem.*@withKeys"}}),Mo=Zn()(function(e){return{leftNav:{width:250}}})(ko),Fo=n(448),To=n.n(Fo);var Yo=Te({component:function(e){var t=e.curUser,n=e.curView,a=e.viewAuxiliaryContent,o=e.classes,i=e.children;if(!t.isUserSignedIn())return r.a.createElement(r.a.Fragment,null,i);var c=function(e,t){var n="AppMotif.auxViewContent.".concat(e),a=t.find(function(e){var t=Object(Mt.a)(e,1),a=t[0];return a===n})||Lo;return Object(Mt.a)(a,2)[1]}(n,a),s=c.TitleComp,l=c.FooterComp;return r.a.createElement("div",{className:o.app},r.a.createElement(Ro.a,{className:o.appBar,position:"absolute"},r.a.createElement(No.a,{className:o.toolbar,disableGutters:!1},r.a.createElement(Tt.a,{className:o.menuButton,color:"inherit",onClick:Po},r.a.createElement(To.a,null)),r.a.createElement("div",{className:o.title},r.a.createElement(s,null)),r.a.createElement(Wt,null))),r.a.createElement(Mo,null),r.a.createElement("main",{className:o.content},i),l&&r.a.createElement(Ro.a,{className:o.bottomBar,position:"absolute"},r.a.createElement(No.a,{className:o.toolbar,disableGutters:!1},r.a.createElement(l,null))))},mapStateToProps:function(e,t){var n=t.fassets;return{curUser:n.sel.curUser(e),curView:n.sel.curView(e)}}}),Do=Object(c.withFassets)({component:Yo,mapFassetsToProps:{fassets:".",viewAuxiliaryContent:"AppMotif.auxViewContent.*@withKeys"}}),Jo=Zn()(function(e){return{app:{display:"flex"},appBar:{},bottomBar:{top:"auto",bottom:0},toolbar:{},menuButton:{marginRight:36},title:{flexGrow:1},content:{flexGrow:1,height:"100vh",overflow:"auto",paddingTop:"4em",paddingBottom:"4em"}}})(Do);var Lo=["AppMotif.auxViewContent.FALLBACK",{TitleComp:function(){return r.a.createElement(it.a,{variant:"h6",color:"inherit",noWrap:!0},"App Motif")}}],Wo=Object(B.createMuiTheme)({typography:{useNextVariants:!0},palette:{type:"light"}}),Vo=Object(B.createMuiTheme)({typography:{useNextVariants:!0},palette:{type:"dark"}});var Bo=Te({component:function(e){var t=e.uiTheme,n=e.classes,a=e.children,o="dark"===t?Vo:Wo;return r.a.createElement(B.MuiThemeProvider,{theme:o},r.a.createElement(So.a,null),r.a.createElement(z,null),r.a.createElement("main",{className:n.main},r.a.createElement(Jo,null,a)))},mapStateToProps:function(e){return{uiTheme:Io(e)}}}),qo=Zn()(function(e){return{main:{width:"auto",display:"block"}}})(Bo),Go=n(452),zo=n.n(Go),_o=n(450),Ho=n.n(_o),Xo=n(451),Qo=n.n(Xo);var Zo=Te({component:function(e){var t=e.uiTheme,n=e.toggleUITheme,a="light"===t?Ho.a:Qo.a,o="light"===t?"to dark":"to light";return r.a.createElement(r.a.Fragment,null,r.a.createElement(ya.a,null),r.a.createElement(qt,{onClick:n},r.a.createElement(zo.a,{label:o,icon:r.a.createElement(a,null)})))},mapStateToProps:function(e){return{uiTheme:Io(e)}},mapDispatchToProps:function(e){return{toggleUITheme:function(){e(go.toggleUITheme())}}}});function Ko(){var e="https://github.com/KevinAst/eatery-nod-w/blob/master/README.md",t="https://github.com/KevinAst/eatery-nod-w/blob/master/README.md#revision-history",n="".concat("eatery-nod-w"," ... version: ").concat("1.0.0","\n\n").concat("A Date Night Restaurant Selector"),a=[];a.push({txt:"Docs",action:function(){return window.open(e,"_blank")}}),a.push({txt:"History",action:function(){return window.open(t,"_blank")}}),a.push({txt:"Close"}),ae.success({msg:n,actions:a})}var $o=Object(c.createFeature)({name:"baseUI",fassets:{define:{"actions.changeView":go.changeView,"sel.curView":function(e){return wo(e).curView}},defineUse:{"AppMotif.UserMenuItem.UIThemeToggle":Zo,"AppMotif.UserMenuItem.About":function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ya.a,null),r.a.createElement(qt,{onClick:Ko},"About"))}},use:[["AppMotif.UserMenuItem.*",{required:!0,type:c.fassetValidations.comp}],["AppMotif.LeftNavItem.*",{required:!0,type:c.fassetValidations.comp}],["AppMotif.auxViewContent.*",{required:!1,type:c.fassetValidations.any}]]},reducer:yo,logic:Eo,appWillStart:function(e){e.fassets;var t=e.curRootAppElm;return r.a.createElement(qo,null,t)}}),ei=p.generateActions.root(Object(m.a)({},"location",{setLocation:{actionMeta:{traits:["loc"]}}})),ti=Object(s.slicedReducer)("location",Object(c.expandWithFassets)(function(e){var t;return Object(g.reducerHash)((t={},Object(m.a)(t,ei.setLocation,function(e,t){return t.loc}),Object(m.a)(t,e.actions.signIn.complete,function(e,t){return t.user.guestLoc||e}),Object(m.a)(t,e.actions.signOut,function(e,t){return t.user.originalLoc}),t),null)})),ni=ti,ai=Qt.mockGPS?function(){var e={lat:38.752209,lng:-89.98661},t=Qt.mockGPS.lat?Qt.mockGPS:e;return new Promise(function(e,n){return e(t)})}:function(){return new Promise(function(e,t){if(!("geolocation"in navigator))return t(new Error("geolocation is NOT available in this browser"));navigator.geolocation.getCurrentPosition(function(t){return e({lat:t.coords.latitude,lng:t.coords.longitude})},function(e){var n=new Error(e.message);return n.code=e.code,n.PERMISSION_DENIED=e.PERMISSION_DENIED,n.POSITION_UNAVAILABLE=e.POSITION_UNAVAILABLE,n.TIMEOUT=e.TIMEOUT,t(n)},{enableHighAccuracy:!0})})};var ri=Object(c.createFeature)({name:"location",reducer:ni,fassets:{defineUse:{"bootstrap.location":function(e,t){var n=S.prefix("createBootstrapFn() parameter violation: ");return n(e,"what is required"),n(I()(e),"what must be a string"),n(t,"fn is required"),n(O()(t),"fn must be a function"),t.bootstrapWhat=e,t}("Waiting for GPS Location",function(e){var t=e.dispatch;e.fassets;return ai().then(function(e){t(ei.setLocation(e))}).catch(function(e){throw t(ei.setLocation({lat:38.752209,lng:-89.98661})),e.defineUserMsg("Unable to get your GPS location (".concat(e.message,") ... falling back to our base location (Glen Carbon)"))})})},define:{"sel.getLocation":function(e){return ti.getSlicedState(e)}}}}),oi=null,ii=[Object(v.b)({name:"".concat("logActions",".actionLogger"),type:"*",transform:function(e,t){e.getState;var n=e.action;"verbose"===Qt.log&&console.group("Action: ".concat(n.type)),console.log("Dispatched Action: ",n),t(n)},process:function(e,t,n){var a=e.getState;e.action,e.fassets;if("verbose"===Qt.log){var r=a();r===oi?console.log("Current State: UNCHANGED"):console.log("Current State: ",r),oi=r,console.groupEnd()}n()}})],ci=Object(c.createFeature)({name:"logActions",enabled:!!Qt.log,logic:ii});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var si=Object(c.createFeature)({name:"pwa",appDidStart:function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}}),li=n(453),ui=n.n(li);var mi=function(e,t){return r.a.createElement(aa.a,{button:!0,onClick:t},r.a.createElement(oa.a,null,r.a.createElement(ui.a,null)),r.a.createElement(ca.a,{primary:e}))},pi=[so,lo,mo,po,Na,Pa,Wa,er,_t,Xt,en,nn,$o,mn,fo,ho,ri,si,ci,Object(c.createFeature)({name:"sandbox",enabled:Qt.sandbox,fassets:{defineUse:{"AppMotif.LeftNavItem.sandbox":function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ya.a,null),r.a.createElement(aa.a,null,r.a.createElement(ca.a,{primary:"sandbox toasts ... "})),mi("success",function(){return te.success({msg:"success toast"})}),mi("info",function(){return te.info({msg:"info toast"})}),mi("warn",function(){return te.warn({msg:"warn toast"})}),mi("error",function(){return te.error({msg:"error toast",actions:[{txt:"OK"},{txt:"WowZee",action:function(){return te.success({msg:"WowZee: error toast CB"})}},{txt:"WooWoo",action:function(){return te.success({msg:"WooWoo: error toast CB"})}}]})}),r.a.createElement(ya.a,null),r.a.createElement(aa.a,null,r.a.createElement(ca.a,{primary:"sandbox alerts ... "})),mi("success",function(){return ae.success({msg:"success alert"})}),mi("info",function(){return ae.info({msg:"info alert"})}),mi("warn",function(){return ae.warn({msg:"warn alert"})}),mi("error",function(){return ae.error({msg:"error alert",actions:[{txt:"OK"},{txt:"WowZee",action:function(){return ae.success({msg:"WowZee: error alert CB"})}},{txt:"WooWoo",action:function(){return ae.success({msg:"WooWoo: error alert CB"})}}]})}),r.a.createElement(ya.a,null),r.a.createElement(aa.a,null,r.a.createElement(ca.a,{primary:"sandbox confirms ... "})),mi("success",function(){return oe.success({msg:"success confirm",actions:[{txt:"Okey Dokey"}]})}),mi("info",function(){return oe.info({msg:"info confirm",actions:[{txt:"Okey Dokey"}]})}),mi("warn",function(){return oe.warn({msg:"warn confirm",actions:[{txt:"Okey Dokey"}]})}),mi("error",function(){return oe.error({msg:"error confirm",actions:[{txt:"Okey Dokey"}]})}),r.a.createElement(ya.a,null),r.a.createElement(aa.a,null,r.a.createElement(ca.a,{primary:"sandbox raw notifies ... "})),mi("notify",function(){return $({msg:"my notify\nNow is the time for every good man to come to the aid of his country ... I really hope this works for a really long line\nnext next line",position:"top-center",duration:null,actions:[{txt:"OK"},{txt:"WowZee",action:function(){return te.success({msg:"WowZee: notify CB"})}},{txt:"WooWoo",action:function(){return te.success({msg:"WooWoo: notify CB"})}}]})}))}}}})],di=Object(c.launchApp)({aspects:function(){var e=Object(s.createReducerAspect)(),t=Object(l.createLogicAspect)(),n=Object(u.createRouteAspect)(),a=[e,t,n];return n.config.fallbackElm$=r.a.createElement(Nt,{msg:"I'm trying to think but it hurts!"}),a}(),features:pi,registerRootAppElm:function(e){i.a.render(e,document.getElementById("root"))}});n.d(t,"default",function(){return di})}},[[454,1,2]]]);
//# sourceMappingURL=main.03b0d6e6.chunk.js.map